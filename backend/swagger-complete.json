{
  "openapi": "3.0.0",
  "info": {
    "title": "API do Gestor de Cobranças",
    "description": "API completa para gerenciamento de cobranças, empresas, usuários, clientes, produtos, vendas e muito mais.",
    "version": "1.0.0",
    "contact": {
      "name": "Suporte",
      "email": "suporte@gestorcobrancas.com"
    }
  },
  "servers": [
    {
      "url": "http://localhost:3001/api/v1",
      "description": "Servidor de Desenvolvimento"
    },
    {
      "url": "https://api.cobpanel.com/api/v1",
      "description": "Servidor de Produção"
    }
  ],
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    },
    "schemas": {
      "Error": {
        "type": "object",
        "properties": {
          "error": {
            "type": "string",
            "description": "Mensagem de erro"
          }
        }
      },
      "SuccessResponse": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Mensagem de sucesso"
          },
          "data": {
            "type": "object",
            "description": "Dados retornados"
          }
        }
      },
      "PaginationResponse": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Mensagem de sucesso"
          },
          "data": {
            "type": "array",
            "items": {
              "type": "object"
            }
          },
          "pagination": {
            "type": "object",
            "properties": {
              "page": {
                "type": "integer",
                "description": "Página atual"
              },
              "limit": {
                "type": "integer",
                "description": "Itens por página"
              },
              "total": {
                "type": "integer",
                "description": "Total de itens"
              },
              "totalPages": {
                "type": "integer",
                "description": "Total de páginas"
              }
            }
          }
        }
      },
      "Role": {
        "type": "string",
        "enum": [
          "SUPERADMIN",
          "ADMIN",
          "GESTOR",
          "VENDEDOR",
          "CLIENTE"
        ],
        "description": "Papel do usuário no sistema"
      },
      "StatusPagamento": {
        "type": "string",
        "enum": [
          "PENDENTE",
          "PAGO"
        ],
        "description": "Status do pagamento"
      },
      "StatusVendaFinal": {
        "type": "string",
        "enum": [
          "PENDING",
          "APPROVED",
          "CANCELLED"
        ],
        "description": "Status da venda final"
      },
      "TipoMovimento": {
        "type": "string",
        "enum": [
          "ENTRADA",
          "SAIDA"
        ],
        "description": "Tipo de movimento de estoque"
      },
      "StatusCotacao": {
        "type": "string",
        "enum": [
          "EM_ANDAMENTO",
          "FECHADA"
        ],
        "description": "Status da cotação"
      },
      "TipoCotacao": {
        "type": "string",
        "enum": [
          "IMEDIATA",
          "PROGRAMADA"
        ],
        "description": "Tipo de cotação"
      },
      "TipoMensagem": {
        "type": "string",
        "enum": [
          "A_VENCER",
          "NO_DIA",
          "VENCIDA",
          "COMPROVANTE",
          "MANUAL",
          "FINALIZACAO"
        ],
        "description": "Tipo de mensagem"
      },
      "TipoPagamento": {
        "type": "string",
        "enum": [
          "PIX",
          "BOLETO"
        ],
        "description": "Tipo de pagamento"
      },
      "ProdutoCreate": {
        "type": "object",
        "required": [
          "sku",
          "nome",
          "descricao",
          "valor",
          "estoque",
          "categoriaId"
        ],
        "properties": {
          "sku": {
            "type": "string"
          },
          "nome": {
            "type": "string"
          },
          "descricao": {
            "type": "string"
          },
          "valor": {
            "type": "number"
          },
          "estoque": {
            "type": "integer"
          },
          "categoriaId": {
            "type": "integer"
          }
        }
      },
      "ProdutoUpdate": {
        "type": "object",
        "properties": {
          "sku": {
            "type": "string"
          },
          "nome": {
            "type": "string"
          },
          "descricao": {
            "type": "string"
          },
          "valor": {
            "type": "number"
          },
          "estoque": {
            "type": "integer"
          },
          "categoriaId": {
            "type": "integer"
          }
        }
      },
      "PlanoCreate": {
        "type": "object",
        "required": [
          "nome",
          "valor",
          "dias"
        ],
        "properties": {
          "nome": {
            "type": "string"
          },
          "valor": {
            "type": "number"
          },
          "dias": {
            "type": "integer"
          },
          "status": {
            "type": "string",
            "enum": [
              "ATIVO",
              "INATIVO"
            ],
            "default": "ATIVO"
          }
        }
      },
      "PlanoUpdate": {
        "type": "object",
        "properties": {
          "nome": {
            "type": "string"
          },
          "valor": {
            "type": "number"
          },
          "dias": {
            "type": "integer"
          },
          "status": {
            "type": "string",
            "enum": [
              "ATIVO",
              "INATIVO"
            ]
          }
        }
      },
      "CompraPlanoCreate": {
        "type": "object",
        "required": [
          "empresaId",
          "planoId",
          "valor"
        ],
        "properties": {
          "empresaId": {
            "type": "integer"
          },
          "planoId": {
            "type": "integer"
          },
          "status": {
            "type": "string",
            "enum": [
              "PENDENTE",
              "PAGO"
            ],
            "default": "PENDENTE"
          },
          "valor": {
            "type": "number"
          }
        }
      },
      "CompraPlanoUpdate": {
        "type": "object",
        "properties": {
          "empresaId": {
            "type": "integer"
          },
          "planoId": {
            "type": "integer"
          },
          "status": {
            "type": "string",
            "enum": [
              "PENDENTE",
              "PAGO"
            ]
          },
          "valor": {
            "type": "number"
          }
        }
      },
      "ContratarPlanoRequest": {
        "type": "object",
        "required": [
          "planoId"
        ],
        "properties": {
          "planoId": {
            "type": "integer"
          }
        }
      },
      "gatewayType": {
        "type": "string",
        "enum": [
          "MERCADO_PAGO",
          "OMIE",
          "ASAAS",
          "CORA"
        ]
      },
      "AdminStats": {
        "type": "object",
        "properties": {
          "totalCompanies": {
            "type": "number",
            "description": "Total de empresas no sistema"
          },
          "activeCompanies": {
            "type": "number",
            "description": "Empresas ativas (não vencidas)"
          },
          "expiredCompanies": {
            "type": "number",
            "description": "Empresas vencidas"
          },
          "expiringCompanies": {
            "type": "number",
            "description": "Empresas vencendo em 7 dias"
          },
          "totalUsers": {
            "type": "number",
            "description": "Total de usuários no sistema"
          },
          "superadminUsers": {
            "type": "number",
            "description": "Usuários SUPERADMIN"
          },
          "adminUsers": {
            "type": "number",
            "description": "Usuários ADMIN"
          },
          "gestorUsers": {
            "type": "number",
            "description": "Usuários GESTOR"
          },
          "vendedorUsers": {
            "type": "number",
            "description": "Usuários VENDEDOR"
          },
          "clientUsers": {
            "type": "number",
            "description": "Usuários CLIENTE"
          },
          "totalSales": {
            "type": "number",
            "description": "Total de vendas"
          },
          "totalRevenue": {
            "type": "number",
            "description": "Receita total"
          },
          "averageTicket": {
            "type": "number",
            "description": "Ticket médio"
          },
          "salesGrowth": {
            "type": "number",
            "description": "Crescimento de vendas (%)"
          },
          "totalPlans": {
            "type": "number",
            "description": "Total de planos"
          },
          "activePlans": {
            "type": "number",
            "description": "Planos ativos"
          },
          "topCompaniesBySales": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CompanySalesStats"
            },
            "description": "Top 5 empresas por vendas"
          },
          "topCompaniesByClients": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CompanyClientsStats"
            },
            "description": "Top 5 empresas por clientes"
          },
          "topPlans": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PlanStats"
            },
            "description": "Top 3 planos mais vendidos"
          }
        }
      },
      "CompanySalesStats": {
        "type": "object",
        "properties": {
          "nome": {
            "type": "string",
            "description": "Nome da empresa"
          },
          "vendas": {
            "type": "number",
            "description": "Número de vendas"
          },
          "receita": {
            "type": "number",
            "description": "Receita total"
          }
        }
      },
      "CompanyClientsStats": {
        "type": "object",
        "properties": {
          "nome": {
            "type": "string",
            "description": "Nome da empresa"
          },
          "clientes": {
            "type": "number",
            "description": "Número de clientes"
          }
        }
      },
      "PlanStats": {
        "type": "object",
        "properties": {
          "nome": {
            "type": "string",
            "description": "Nome do plano"
          },
          "vendas": {
            "type": "number",
            "description": "Número de vendas do plano"
          },
          "receita": {
            "type": "number",
            "description": "Receita total do plano"
          }
        }
      },
      "ErrorResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": false
          },
          "message": {
            "type": "string",
            "description": "Mensagem de erro"
          },
          "error": {
            "type": "string",
            "description": "Detalhes do erro (apenas em desenvolvimento)"
          }
        }
      },
      "WebhookResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Indica se o processamento foi bem-sucedido"
          },
          "message": {
            "type": "string",
            "description": "Mensagem descritiva do resultado"
          },
          "data": {
            "type": "object",
            "description": "Dados adicionais retornados (opcional)"
          }
        }
      },
      "TipoNotificacao": {
        "type": "string",
        "enum": [
          "VENCIMENTO_EMPRESA",
          "PLANO_PAGO",
          "COBRANCA_GERADA",
          "FATURA_PAGA",
          "PARCELA_PAGA",
          "MANUAL",
          "TICKET_MENSAGEM"
        ]
      },
      "Notificacao": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "titulo": {
            "type": "string"
          },
          "mensagem": {
            "type": "string"
          },
          "tipo": {
            "$ref": "#/components/schemas/TipoNotificacao"
          },
          "lida": {
            "type": "boolean"
          },
          "actionLink": {
            "type": "string",
            "nullable": true
          },
          "actionLabel": {
            "type": "string",
            "nullable": true
          },
          "empresaId": {
            "type": "integer",
            "nullable": true
          },
          "userId": {
            "type": "integer",
            "nullable": true
          },
          "metadata": {
            "type": "object",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "empresa": {
            "type": "object",
            "nullable": true,
            "properties": {
              "id": {
                "type": "integer"
              },
              "nome": {
                "type": "string"
              }
            }
          },
          "user": {
            "type": "object",
            "nullable": true,
            "properties": {
              "id": {
                "type": "integer"
              },
              "nome": {
                "type": "string"
              },
              "email": {
                "type": "string"
              }
            }
          }
        },
        "required": [
          "id",
          "titulo",
          "mensagem",
          "tipo",
          "lida"
        ]
      },
      "NotificacaoCreate": {
        "type": "object",
        "properties": {
          "titulo": {
            "type": "string",
            "minLength": 1
          },
          "mensagem": {
            "type": "string",
            "minLength": 1
          },
          "tipo": {
            "$ref": "#/components/schemas/TipoNotificacao"
          },
          "empresaId": {
            "type": "integer",
            "minimum": 1
          },
          "userId": {
            "type": "integer",
            "minimum": 1
          },
          "actionLink": {
            "type": "string",
            "format": "uri"
          },
          "actionLabel": {
            "type": "string"
          },
          "metadata": {
            "type": "object"
          }
        },
        "required": [
          "titulo",
          "mensagem",
          "tipo"
        ]
      },
      "NotificacaoCount": {
        "type": "object",
        "properties": {
          "count": {
            "type": "integer"
          }
        }
      },
      "TipoTicket": {
        "type": "string",
        "enum": [
          "PROBLEMA",
          "AJUDA",
          "MELHORIA",
          "SUGESTAO"
        ]
      },
      "StatusTicket": {
        "type": "string",
        "enum": [
          "ABERTO",
          "EM_ANDAMENTO",
          "RESOLVIDO",
          "FECHADO"
        ]
      },
      "PrioridadeTicket": {
        "type": "string",
        "enum": [
          "BAIXA",
          "MEDIA",
          "ALTA",
          "URGENTE"
        ]
      },
      "Ticket": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "uuid": {
            "type": "string"
          },
          "titulo": {
            "type": "string"
          },
          "descricao": {
            "type": "string"
          },
          "tipo": {
            "$ref": "#/components/schemas/TipoTicket"
          },
          "status": {
            "$ref": "#/components/schemas/StatusTicket"
          },
          "prioridade": {
            "$ref": "#/components/schemas/PrioridadeTicket"
          },
          "anexos": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "nome": {
                  "type": "string"
                },
                "url": {
                  "type": "string"
                },
                "tamanho": {
                  "type": "number"
                },
                "tipo": {
                  "type": "string"
                }
              }
            },
            "nullable": true
          },
          "criadorId": {
            "type": "integer"
          },
          "empresaId": {
            "type": "integer"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "criador": {
            "type": "object",
            "properties": {
              "id": {
                "type": "integer"
              },
              "nome": {
                "type": "string"
              },
              "email": {
                "type": "string"
              },
              "role": {
                "type": "string"
              }
            }
          },
          "empresa": {
            "type": "object",
            "properties": {
              "id": {
                "type": "integer"
              },
              "nome": {
                "type": "string"
              }
            }
          },
          "mensagens": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TicketMensagem"
            }
          },
          "_count": {
            "type": "object",
            "properties": {
              "mensagens": {
                "type": "integer"
              }
            }
          }
        },
        "required": [
          "id",
          "uuid",
          "titulo",
          "descricao",
          "tipo",
          "status",
          "prioridade",
          "criadorId",
          "empresaId"
        ]
      },
      "TicketMensagem": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "ticketId": {
            "type": "integer"
          },
          "userId": {
            "type": "integer"
          },
          "mensagem": {
            "type": "string"
          },
          "anexos": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "nome": {
                  "type": "string"
                },
                "url": {
                  "type": "string"
                },
                "tamanho": {
                  "type": "number"
                },
                "tipo": {
                  "type": "string"
                }
              }
            },
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "user": {
            "type": "object",
            "properties": {
              "id": {
                "type": "integer"
              },
              "nome": {
                "type": "string"
              },
              "email": {
                "type": "string"
              },
              "role": {
                "type": "string"
              }
            }
          }
        },
        "required": [
          "id",
          "ticketId",
          "userId",
          "mensagem"
        ]
      },
      "CreateTicketRequest": {
        "type": "object",
        "properties": {
          "titulo": {
            "type": "string",
            "minLength": 1
          },
          "descricao": {
            "type": "string",
            "minLength": 1
          },
          "tipo": {
            "$ref": "#/components/schemas/TipoTicket"
          },
          "prioridade": {
            "$ref": "#/components/schemas/PrioridadeTicket"
          },
          "anexos": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "nome": {
                  "type": "string"
                },
                "url": {
                  "type": "string"
                },
                "tamanho": {
                  "type": "number"
                },
                "tipo": {
                  "type": "string"
                }
              }
            },
            "nullable": true
          }
        },
        "required": [
          "titulo",
          "descricao",
          "tipo"
        ]
      },
      "UpdateTicketRequest": {
        "type": "object",
        "properties": {
          "status": {
            "$ref": "#/components/schemas/StatusTicket"
          },
          "prioridade": {
            "$ref": "#/components/schemas/PrioridadeTicket"
          }
        }
      },
      "AddMensagemRequest": {
        "type": "object",
        "properties": {
          "mensagem": {
            "type": "string",
            "minLength": 1
          },
          "anexos": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "nome": {
                  "type": "string"
                },
                "url": {
                  "type": "string"
                },
                "tamanho": {
                  "type": "number"
                },
                "tipo": {
                  "type": "string"
                }
              }
            },
            "nullable": true
          }
        },
        "required": [
          "mensagem"
        ]
      },
      "TicketPaginationResponse": {
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Ticket"
            }
          },
          "pagination": {
            "type": "object",
            "properties": {
              "page": {
                "type": "integer"
              },
              "perPage": {
                "type": "integer"
              },
              "total": {
                "type": "integer"
              },
              "totalPages": {
                "type": "integer"
              }
            }
          }
        }
      }
    },
    "responses": {
      "SuccessResponse": {
        "description": "Mensagem de sucesso"
      },
      "BadRequest": {
        "description": "Requisição inválida"
      },
      "Unauthorized": {
        "description": "Não autorizado"
      },
      "Forbidden": {
        "description": "Acesso proibido: permissão insuficiente"
      },
      "NotFound": {
        "description": "Não encontrado"
      }
    }
  },
  "paths": {
    "/auth/register": {
      "post": {
        "tags": [
          "Autenticação"
        ],
        "summary": "Registrar novo usuário",
        "description": "Cria um novo usuário no sistema",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "nome",
                  "email",
                  "senha",
                  "celular",
                  "role"
                ],
                "properties": {
                  "nome": {
                    "type": "string",
                    "minLength": 2,
                    "description": "Nome completo do usuário"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "description": "Email do usuário"
                  },
                  "senha": {
                    "type": "string",
                    "minLength": 6,
                    "description": "Senha do usuário"
                  },
                  "celular": {
                    "type": "string",
                    "minLength": 10,
                    "description": "Número de celular"
                  },
                  "role": {
                    "$ref": "#/components/schemas/Role"
                  },
                  "empresaId": {
                    "type": "integer",
                    "description": "ID da empresa (opcional para SUPERADMIN)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Usuário criado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Usuário registrado com sucesso"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "user": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer",
                              "example": 1
                            },
                            "nome": {
                              "type": "string",
                              "example": "João Silva"
                            },
                            "email": {
                              "type": "string",
                              "example": "joao@email.com"
                            },
                            "celular": {
                              "type": "string",
                              "example": "11999999999"
                            },
                            "role": {
                              "$ref": "#/components/schemas/Role"
                            },
                            "empresaId": {
                              "type": "integer",
                              "example": 1
                            },
                            "createdAt": {
                              "type": "string",
                              "format": "date-time"
                            },
                            "updatedAt": {
                              "type": "string",
                              "format": "date-time"
                            }
                          }
                        },
                        "token": {
                          "type": "string",
                          "description": "JWT token para autenticação"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Dados inválidos",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          }
        }
      }
    },
    "/auth/login": {
      "post": {
        "tags": [
          "Autenticação"
        ],
        "summary": "Fazer login",
        "description": "Autentica um usuário e retorna um token JWT. O login é feito apenas pelo email único.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email",
                  "senha"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "description": "Email único do usuário"
                  },
                  "senha": {
                    "type": "string",
                    "description": "Senha do usuário"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Login realizado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Login realizado com sucesso"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "user": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer",
                              "example": 1
                            },
                            "nome": {
                              "type": "string",
                              "example": "João Silva"
                            },
                            "email": {
                              "type": "string",
                              "example": "joao@email.com"
                            },
                            "celular": {
                              "type": "string",
                              "example": "11999999999"
                            },
                            "role": {
                              "$ref": "#/components/schemas/Role"
                            },
                            "empresa": {
                              "type": "object"
                            }
                          }
                        },
                        "token": {
                          "type": "string",
                          "description": "JWT token para autenticação"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Credenciais inválidas",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          }
        }
      }
    },
    "/auth/login/{token}": {
      "post": {
        "tags": [
          "Autenticação"
        ],
        "summary": "Fazer login por token",
        "description": "Autentica um usuário usando um token UUID armazenado no banco de dados. Útil para links de acesso direto.",
        "parameters": [
          {
            "in": "path",
            "name": "token",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Token UUID único do usuário"
          }
        ],
        "responses": {
          "200": {
            "description": "Login realizado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Login realizado com sucesso"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "user": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer",
                              "example": 1
                            },
                            "nome": {
                              "type": "string",
                              "example": "João Silva"
                            },
                            "email": {
                              "type": "string",
                              "example": "joao@email.com"
                            },
                            "celular": {
                              "type": "string",
                              "example": "11999999999"
                            },
                            "role": {
                              "$ref": "#/components/schemas/Role"
                            },
                            "empresaId": {
                              "type": "integer",
                              "nullable": true,
                              "example": 1
                            },
                            "clienteId": {
                              "type": "integer",
                              "nullable": true,
                              "example": 1
                            },
                            "empresa": {
                              "type": "object",
                              "nullable": true,
                              "properties": {
                                "id": {
                                  "type": "integer"
                                },
                                "nome": {
                                  "type": "string"
                                }
                              }
                            },
                            "cliente": {
                              "type": "object",
                              "nullable": true,
                              "properties": {
                                "id": {
                                  "type": "integer"
                                },
                                "nome": {
                                  "type": "string"
                                }
                              }
                            }
                          }
                        },
                        "token": {
                          "type": "string",
                          "description": "Token JWT para autenticação"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Token inválido ou expirado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          }
        }
      }
    },
    "/auth/me": {
      "get": {
        "tags": [
          "Autenticação"
        ],
        "summary": "Obter dados do usuário logado",
        "description": "Retorna os dados do usuário autenticado",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Dados do usuário",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Dados do usuário obtidos com sucesso"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "example": 1
                        },
                        "nome": {
                          "type": "string",
                          "example": "João Silva"
                        },
                        "email": {
                          "type": "string",
                          "example": "joao@email.com"
                        },
                        "celular": {
                          "type": "string",
                          "example": "11999999999"
                        },
                        "role": {
                          "$ref": "#/components/schemas/Role"
                        },
                        "empresaId": {
                          "type": "integer",
                          "example": 1
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "updatedAt": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Token inválido ou expirado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          }
        }
      }
    },
    "/auth/change-password": {
      "post": {
        "tags": [
          "Autenticação"
        ],
        "summary": "Alterar senha",
        "description": "Altera a senha do usuário logado",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "senhaAtual",
                  "novaSenha"
                ],
                "properties": {
                  "senhaAtual": {
                    "type": "string",
                    "description": "Senha atual do usuário"
                  },
                  "novaSenha": {
                    "type": "string",
                    "minLength": 6,
                    "description": "Nova senha do usuário"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Senha alterada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Senha alterada com sucesso"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Senha atual incorreta ou dados inválidos",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "401": {
            "description": "Token inválido ou expirado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          }
        }
      }
    },
    "/auth/reset-password": {
      "post": {
        "tags": [
          "Autenticação"
        ],
        "summary": "Redefinir senha",
        "description": "Envia um email com nova senha temporária. O email deve ser único.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "description": "Email único do usuário"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Email de redefinição enviado",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Email de redefinição enviado com sucesso"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Email não encontrado ou dados inválidos",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          }
        }
      }
    },
    "/auth/validate-token": {
      "post": {
        "tags": [
          "Autenticação"
        ],
        "summary": "Validar token",
        "description": "Valida se um token JWT é válido",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "token"
                ],
                "properties": {
                  "token": {
                    "type": "string",
                    "description": "Token JWT para validar"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Token válido",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "valid": {
                      "type": "boolean",
                      "example": true
                    },
                    "user": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "example": 1
                        },
                        "nome": {
                          "type": "string",
                          "example": "João Silva"
                        },
                        "email": {
                          "type": "string",
                          "example": "joao@email.com"
                        },
                        "role": {
                          "$ref": "#/components/schemas/Role"
                        },
                        "empresaId": {
                          "type": "integer",
                          "example": 1
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Token inválido",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "valid": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Token inválido"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/empresas": {
      "post": {
        "tags": [
          "Empresas"
        ],
        "summary": "Criar empresa",
        "description": "Cria uma nova empresa (apenas SUPERADMIN)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "nome",
                  "cpfCnpj",
                  "celular",
                  "cep",
                  "cidade",
                  "estado",
                  "bairro",
                  "rua",
                  "numero",
                  "vencimento"
                ],
                "properties": {
                  "nome": {
                    "type": "string",
                    "minLength": 2,
                    "description": "Nome da empresa"
                  },
                  "cpfCnpj": {
                    "type": "string",
                    "minLength": 11,
                    "description": "CPF ou CNPJ da empresa"
                  },
                  "celular": {
                    "type": "string",
                    "minLength": 10,
                    "description": "Celular da empresa"
                  },
                  "cep": {
                    "type": "string",
                    "minLength": 8,
                    "description": "CEP da empresa"
                  },
                  "cidade": {
                    "type": "string",
                    "minLength": 2,
                    "description": "Cidade da empresa"
                  },
                  "estado": {
                    "type": "string",
                    "length": 2,
                    "description": "Estado da empresa (UF)"
                  },
                  "bairro": {
                    "type": "string",
                    "minLength": 2,
                    "description": "Bairro da empresa"
                  },
                  "rua": {
                    "type": "string",
                    "minLength": 2,
                    "description": "Rua da empresa"
                  },
                  "numero": {
                    "type": "string",
                    "minLength": 1,
                    "description": "Número do endereço"
                  },
                  "vencimento": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Data de vencimento da empresa"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Empresa criada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Empresa criada com sucesso"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "example": 1
                        },
                        "nome": {
                          "type": "string",
                          "example": "Empresa ABC Ltda"
                        },
                        "cpfCnpj": {
                          "type": "string",
                          "example": "12345678000199"
                        },
                        "celular": {
                          "type": "string",
                          "example": "11999999999"
                        },
                        "cep": {
                          "type": "string",
                          "example": "01234-567"
                        },
                        "cidade": {
                          "type": "string",
                          "example": "São Paulo"
                        },
                        "estado": {
                          "type": "string",
                          "example": "SP"
                        },
                        "bairro": {
                          "type": "string",
                          "example": "Centro"
                        },
                        "rua": {
                          "type": "string",
                          "example": "Rua das Flores"
                        },
                        "numero": {
                          "type": "string",
                          "example": "123"
                        },
                        "vencimento": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "updatedAt": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "usuarios": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "nome": {
                                "type": "string"
                              },
                              "email": {
                                "type": "string"
                              },
                              "role": {
                                "$ref": "#/components/schemas/Role"
                              }
                            }
                          }
                        },
                        "clientes": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "nome": {
                                "type": "string"
                              },
                              "cpfCnpj": {
                                "type": "string"
                              }
                            }
                          }
                        },
                        "produtos": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "nome": {
                                "type": "string"
                              },
                              "sku": {
                                "type": "string"
                              }
                            }
                          }
                        },
                        "fornecedores": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "nome": {
                                "type": "string"
                              },
                              "cpfCnpj": {
                                "type": "string"
                              }
                            }
                          }
                        },
                        "vendas": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "uuid": {
                                "type": "string"
                              },
                              "valor": {
                                "type": "number"
                              },
                              "status": {
                                "$ref": "#/components/schemas/StatusPagamento"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Dados inválidos",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "401": {
            "description": "Não autorizado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "403": {
            "description": "Acesso negado - apenas SUPERADMIN",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "Empresas"
        ],
        "summary": "Listar empresas",
        "description": "Lista todas as empresas (apenas SUPERADMIN)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "Número da página",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Itens por página",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 10
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "Termo de busca",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de empresas",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/PaginationResponse"
              }
            }
          },
          "401": {
            "description": "Não autorizado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "403": {
            "description": "Acesso negado - apenas SUPERADMIN",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          }
        }
      }
    },
    "/empresas/{id}": {
      "get": {
        "tags": [
          "Empresas"
        ],
        "summary": "Obter empresa por ID",
        "description": "Retorna os dados de uma empresa específica",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID da empresa",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Dados da empresa",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Empresa encontrada com sucesso"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "example": 1
                        },
                        "nome": {
                          "type": "string",
                          "example": "Empresa ABC Ltda"
                        },
                        "cpfCnpj": {
                          "type": "string",
                          "example": "12345678000199"
                        },
                        "celular": {
                          "type": "string",
                          "example": "11999999999"
                        },
                        "cep": {
                          "type": "string",
                          "example": "01234-567"
                        },
                        "cidade": {
                          "type": "string",
                          "example": "São Paulo"
                        },
                        "estado": {
                          "type": "string",
                          "example": "SP"
                        },
                        "bairro": {
                          "type": "string",
                          "example": "Centro"
                        },
                        "rua": {
                          "type": "string",
                          "example": "Rua das Flores"
                        },
                        "numero": {
                          "type": "string",
                          "example": "123"
                        },
                        "vencimento": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "updatedAt": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "usuarios": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "nome": {
                                "type": "string"
                              },
                              "email": {
                                "type": "string"
                              },
                              "role": {
                                "$ref": "#/components/schemas/Role"
                              }
                            }
                          }
                        },
                        "clientes": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "nome": {
                                "type": "string"
                              },
                              "cpfCnpj": {
                                "type": "string"
                              }
                            }
                          }
                        },
                        "produtos": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "nome": {
                                "type": "string"
                              },
                              "sku": {
                                "type": "string"
                              }
                            }
                          }
                        },
                        "fornecedores": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "nome": {
                                "type": "string"
                              },
                              "cpfCnpj": {
                                "type": "string"
                              }
                            }
                          }
                        },
                        "vendas": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "uuid": {
                                "type": "string"
                              },
                              "valor": {
                                "type": "number"
                              },
                              "status": {
                                "$ref": "#/components/schemas/StatusPagamento"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Não autorizado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "403": {
            "description": "Acesso negado - apenas SUPERADMIN",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "404": {
            "description": "Empresa não encontrada",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Empresas"
        ],
        "summary": "Atualizar empresa",
        "description": "Atualiza os dados de uma empresa (ADMIN *não altera vencimento* ou SUPERADMIN *altera vencimento*)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID da empresa",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "nome": {
                    "type": "string",
                    "minLength": 2,
                    "description": "Nome da empresa"
                  },
                  "cpfCnpj": {
                    "type": "string",
                    "minLength": 11,
                    "description": "CPF ou CNPJ da empresa"
                  },
                  "celular": {
                    "type": "string",
                    "minLength": 10,
                    "description": "Celular da empresa"
                  },
                  "cep": {
                    "type": "string",
                    "minLength": 8,
                    "description": "CEP da empresa"
                  },
                  "cidade": {
                    "type": "string",
                    "minLength": 2,
                    "description": "Cidade da empresa"
                  },
                  "estado": {
                    "type": "string",
                    "length": 2,
                    "description": "Estado da empresa (UF)"
                  },
                  "bairro": {
                    "type": "string",
                    "minLength": 2,
                    "description": "Bairro da empresa"
                  },
                  "rua": {
                    "type": "string",
                    "minLength": 2,
                    "description": "Rua da empresa"
                  },
                  "numero": {
                    "type": "string",
                    "minLength": 1,
                    "description": "Número do endereço"
                  },
                  "vencimento": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Data de vencimento da empresa"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Empresa atualizada com sucesso",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/SuccessResponse"
              }
            }
          },
          "400": {
            "description": "Dados inválidos",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "401": {
            "description": "Não autorizado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "403": {
            "description": "Acesso negado - apenas SUPERADMIN",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "404": {
            "description": "Empresa não encontrada",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Empresas"
        ],
        "summary": "Excluir empresa",
        "description": "Exclui uma empresa (apenas SUPERADMIN)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID da empresa",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Empresa excluída com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Empresa excluída com sucesso"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Não autorizado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "403": {
            "description": "Acesso negado - apenas SUPERADMIN",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "404": {
            "description": "Empresa não encontrada",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          }
        }
      }
    },
    "/empresas/{id}/dashboard": {
      "get": {
        "tags": [
          "Empresas"
        ],
        "summary": "Obter dashboard da empresa",
        "description": "Retorna estatísticas e dados do dashboard da empresa (ADMIN)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID da empresa",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Dados do dashboard",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Dashboard obtido com sucesso"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "empresa": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer"
                            },
                            "nome": {
                              "type": "string"
                            },
                            "cpfCnpj": {
                              "type": "string"
                            },
                            "vencimento": {
                              "type": "string",
                              "format": "date-time"
                            }
                          }
                        },
                        "estatisticas": {
                          "type": "object",
                          "properties": {
                            "totalVendas": {
                              "type": "integer",
                              "description": "Total de vendas"
                            },
                            "vendasPagas": {
                              "type": "integer",
                              "description": "Vendas pagas"
                            },
                            "vendasPendentes": {
                              "type": "integer",
                              "description": "Vendas pendentes"
                            },
                            "valorTotalVendas": {
                              "type": "number",
                              "description": "Valor total das vendas"
                            },
                            "valorVendasPagas": {
                              "type": "number",
                              "description": "Valor das vendas pagas"
                            },
                            "valorVendasPendentes": {
                              "type": "number",
                              "description": "Valor das vendas pendentes"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Não autorizado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "403": {
            "description": "Acesso negado - apenas ADMIN",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "404": {
            "description": "Empresa não encontrada",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          }
        }
      }
    },
    "/empresas/count/total": {
      "get": {
        "tags": [
          "Empresas"
        ],
        "summary": "Contar total de empresas",
        "description": "Retorna o total de empresas no sistema (apenas SUPERADMIN)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Total de empresas",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Total de empresas obtido com sucesso"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer",
                          "description": "Total de empresas"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Não autorizado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "403": {
            "description": "Acesso negado - apenas SUPERADMIN",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          }
        }
      }
    },
    "/clientes": {
      "post": {
        "tags": [
          "Clientes"
        ],
        "summary": "Criar cliente",
        "description": "Cria um novo cliente (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "nome"
                ],
                "properties": {
                  "nome": {
                    "type": "string",
                    "minLength": 2,
                    "description": "Nome completo do cliente"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "description": "Email do cliente"
                  },
                  "celular": {
                    "type": "string",
                    "description": "Número de celular do cliente"
                  },
                  "nascimento": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Data de nascimento do cliente"
                  },
                  "cpfCnpj": {
                    "type": "string",
                    "minLength": 11,
                    "description": "CPF ou CNPJ do cliente"
                  },
                  "cep": {
                    "type": "string",
                    "minLength": 8,
                    "description": "CEP do cliente"
                  },
                  "bairro": {
                    "type": "string",
                    "minLength": 2,
                    "description": "Bairro do cliente"
                  },
                  "rua": {
                    "type": "string",
                    "minLength": 2,
                    "description": "Rua do cliente"
                  },
                  "numero": {
                    "type": "string",
                    "minLength": 1,
                    "description": "Número do endereço"
                  },
                  "complemento": {
                    "type": "string",
                    "description": "Complemento do endereço"
                  },
                  "cidade": {
                    "type": "string",
                    "description": "Cidade do cliente"
                  },
                  "estado": {
                    "type": "string",
                    "description": "Estado da cidade do cliente"
                  },
                  "extras": {
                    "type": "object",
                    "description": "Dados extras do cliente"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Cliente criado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Cliente criado com sucesso"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "example": 1
                        },
                        "nome": {
                          "type": "string",
                          "example": "João Silva"
                        },
                        "email": {
                          "type": "string",
                          "example": "joao@email.com"
                        },
                        "celular": {
                          "type": "string",
                          "example": "11999999999"
                        },
                        "nascimento": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "cpfCnpj": {
                          "type": "string",
                          "example": "12345678901"
                        },
                        "cep": {
                          "type": "string",
                          "example": "01234-567"
                        },
                        "bairro": {
                          "type": "string",
                          "example": "Centro"
                        },
                        "rua": {
                          "type": "string",
                          "example": "Rua das Flores"
                        },
                        "numero": {
                          "type": "string",
                          "example": "123"
                        },
                        "complemento": {
                          "type": "string",
                          "example": "Apto 45"
                        },
                        "cidade": {
                          "type": "string",
                          "example": "São Paulo"
                        },
                        "estado": {
                          "type": "string",
                          "example": "SP"
                        },
                        "extras": {
                          "type": "object"
                        },
                        "empresaId": {
                          "type": "integer",
                          "example": 1
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "updatedAt": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "empresa": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer"
                            },
                            "nome": {
                              "type": "string"
                            }
                          }
                        },
                        "Venda": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "uuid": {
                                "type": "string"
                              },
                              "valor": {
                                "type": "number"
                              },
                              "status": {
                                "type": "string"
                              },
                              "createdAt": {
                                "type": "string",
                                "format": "date-time"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Dados inválidos",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "401": {
            "description": "Não autorizado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "403": {
            "description": "Acesso negado - apenas GESTOR",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "Clientes"
        ],
        "summary": "Listar clientes",
        "description": "Lista todos os clientes (VENDEDOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "Número da página",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Itens por página",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 10
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "Termo de busca",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de clientes",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "nome": {
                            "type": "string"
                          },
                          "email": {
                            "type": "string"
                          },
                          "celular": {
                            "type": "string"
                          },
                          "nascimento": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "cpfCnpj": {
                            "type": "string"
                          },
                          "cep": {
                            "type": "string"
                          },
                          "bairro": {
                            "type": "string"
                          },
                          "rua": {
                            "type": "string"
                          },
                          "numero": {
                            "type": "string"
                          },
                          "complemento": {
                            "type": "string"
                          },
                          "cidade": {
                            "type": "string"
                          },
                          "estado": {
                            "type": "string"
                          },
                          "extras": {
                            "type": "object"
                          },
                          "empresaId": {
                            "type": "integer"
                          },
                          "createdAt": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "updatedAt": {
                            "type": "string",
                            "format": "date-time"
                          }
                        }
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer"
                        },
                        "pages": {
                          "type": "integer"
                        },
                        "page": {
                          "type": "integer"
                        },
                        "limit": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Não autorizado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "403": {
            "description": "Acesso negado - apenas VENDEDOR",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          }
        }
      }
    },
    "/clientes/{id}": {
      "delete": {
        "tags": [
          "Clientes"
        ],
        "summary": "Excluir cliente",
        "description": "Exclui um cliente (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID do cliente",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Cliente excluído com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Cliente excluído com sucesso"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Não autorizado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "403": {
            "description": "Acesso negado - apenas GESTOR",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "404": {
            "description": "Cliente não encontrado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          }
        }
      }
    },
    "/clientes/{id}/password": {
      "put": {
        "tags": [
          "Clientes"
        ],
        "summary": "Atualizar senha do cliente",
        "description": "Atualiza a senha de um cliente (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID do cliente",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "senhaAtual",
                  "novaSenha"
                ],
                "properties": {
                  "senhaAtual": {
                    "type": "string",
                    "minLength": 1,
                    "description": "Senha atual do cliente"
                  },
                  "novaSenha": {
                    "type": "string",
                    "minLength": 6,
                    "description": "Nova senha do cliente"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Senha atualizada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Senha atualizada com sucesso"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Erro na validação ou senha atual incorreta",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "403": {
            "description": "Acesso negado - apenas GESTOR",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "404": {
            "description": "Cliente não encontrado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          }
        }
      }
    },
    "/clientes/count/total": {
      "get": {
        "tags": [
          "Clientes"
        ],
        "summary": "Contar total de clientes",
        "description": "Retorna o total de clientes (VENDEDOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Total de clientes",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Total de clientes obtido com sucesso"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer",
                          "description": "Total de clientes"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Não autorizado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "403": {
            "description": "Acesso negado - apenas VENDEDOR",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          }
        }
      }
    },
    "/fornecedores": {
      "post": {
        "tags": [
          "Fornecedores"
        ],
        "summary": "Criar fornecedor",
        "description": "Cria um novo fornecedor (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "nome",
                  "cpfCnpj",
                  "categoriaId"
                ],
                "properties": {
                  "nome": {
                    "type": "string",
                    "minLength": 2,
                    "description": "Nome do fornecedor"
                  },
                  "cpfCnpj": {
                    "type": "string",
                    "minLength": 11,
                    "description": "CPF ou CNPJ do fornecedor"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "description": "Email do fornecedor"
                  },
                  "celular": {
                    "type": "string",
                    "description": "Número de celular do fornecedor"
                  },
                  "observacoes": {
                    "type": "string",
                    "description": "Observações sobre o fornecedor"
                  },
                  "categoriaId": {
                    "type": "integer",
                    "minimum": 1,
                    "description": "ID da categoria do fornecedor"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Fornecedor criado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Fornecedor criado com sucesso"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "nome": {
                          "type": "string"
                        },
                        "cpfCnpj": {
                          "type": "string"
                        },
                        "email": {
                          "type": "string"
                        },
                        "celular": {
                          "type": "string"
                        },
                        "observacoes": {
                          "type": "string"
                        },
                        "categoriaId": {
                          "type": "integer"
                        },
                        "empresaId": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Dados inválidos"
          }
        }
      },
      "get": {
        "tags": [
          "Fornecedores"
        ],
        "summary": "Listar fornecedores",
        "description": "Lista todos os fornecedores com paginação (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "Número da página"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "Limite de itens por página"
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            },
            "description": "Termo para busca"
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de fornecedores",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "nome": {
                            "type": "string"
                          },
                          "cpfCnpj": {
                            "type": "string"
                          },
                          "email": {
                            "type": "string"
                          },
                          "celular": {
                            "type": "string"
                          },
                          "observacoes": {
                            "type": "string"
                          },
                          "categoriaId": {
                            "type": "integer"
                          },
                          "empresaId": {
                            "type": "integer"
                          }
                        }
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer"
                        },
                        "pages": {
                          "type": "integer"
                        },
                        "page": {
                          "type": "integer"
                        },
                        "limit": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/fornecedores/{id}": {
      "get": {
        "tags": [
          "Fornecedores"
        ],
        "summary": "Buscar fornecedor por ID",
        "description": "Retorna um fornecedor específico (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID do fornecedor"
          }
        ],
        "responses": {
          "200": {
            "description": "Fornecedor encontrado",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "nome": {
                          "type": "string"
                        },
                        "cpfCnpj": {
                          "type": "string"
                        },
                        "email": {
                          "type": "string"
                        },
                        "celular": {
                          "type": "string"
                        },
                        "observacoes": {
                          "type": "string"
                        },
                        "categoriaId": {
                          "type": "integer"
                        },
                        "empresaId": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Fornecedor não encontrado"
          }
        }
      },
      "put": {
        "tags": [
          "Fornecedores"
        ],
        "summary": "Atualizar fornecedor",
        "description": "Atualiza um fornecedor existente (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID do fornecedor"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "nome": {
                    "type": "string",
                    "minLength": 2
                  },
                  "cpfCnpj": {
                    "type": "string",
                    "minLength": 11
                  },
                  "email": {
                    "type": "string",
                    "format": "email"
                  },
                  "celular": {
                    "type": "string"
                  },
                  "observacoes": {
                    "type": "string"
                  },
                  "categoriaId": {
                    "type": "integer",
                    "minimum": 1
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Fornecedor atualizado com sucesso"
          },
          "404": {
            "description": "Fornecedor não encontrado"
          }
        }
      },
      "delete": {
        "tags": [
          "Fornecedores"
        ],
        "summary": "Excluir fornecedor",
        "description": "Remove um fornecedor existente (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID do fornecedor"
          }
        ],
        "responses": {
          "200": {
            "description": "Fornecedor excluído com sucesso"
          },
          "404": {
            "description": "Fornecedor não encontrado"
          }
        }
      }
    },
    "/fornecedores/count/total": {
      "get": {
        "tags": [
          "Fornecedores"
        ],
        "summary": "Contar total de fornecedores",
        "description": "Retorna o número total de fornecedores (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Total de fornecedores",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "count": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/categorias-fornecedores": {
      "post": {
        "tags": [
          "Categoria Fornecedores"
        ],
        "summary": "Criar categoria de fornecedor",
        "description": "Cria uma nova categoria de fornecedor (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "nome"
                ],
                "properties": {
                  "nome": {
                    "type": "string",
                    "minLength": 2,
                    "description": "Nome da categoria"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Categoria criada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "CategoriaFornecedor criado com sucesso"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "nome": {
                          "type": "string"
                        },
                        "empresaId": {
                          "type": "integer"
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "updatedAt": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Dados inválidos"
          }
        }
      },
      "get": {
        "tags": [
          "Categoria Fornecedores"
        ],
        "summary": "Listar categorias de fornecedores",
        "description": "Lista todas as categorias de fornecedores com paginação (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "Número da página"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "Limite de itens por página"
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            },
            "description": "Termo para busca"
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de categorias",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "nome": {
                            "type": "string"
                          },
                          "empresaId": {
                            "type": "integer"
                          }
                        }
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer"
                        },
                        "pages": {
                          "type": "integer"
                        },
                        "page": {
                          "type": "integer"
                        },
                        "limit": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/categorias-fornecedores/{id}": {
      "get": {
        "tags": [
          "Categoria Fornecedores"
        ],
        "summary": "Buscar categoria por ID",
        "description": "Retorna uma categoria específica (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID da categoria"
          }
        ],
        "responses": {
          "200": {
            "description": "Categoria encontrada",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "nome": {
                          "type": "string"
                        },
                        "empresaId": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Categoria não encontrada"
          }
        }
      },
      "put": {
        "tags": [
          "Categoria Fornecedores"
        ],
        "summary": "Atualizar categoria",
        "description": "Atualiza uma categoria existente (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID da categoria"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "nome": {
                    "type": "string",
                    "minLength": 2
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Categoria atualizada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "nome": {
                          "type": "string"
                        },
                        "empresaId": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Categoria não encontrada"
          }
        }
      },
      "delete": {
        "tags": [
          "Categoria Fornecedores"
        ],
        "summary": "Excluir categoria",
        "description": "Remove uma categoria existente (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID da categoria"
          }
        ],
        "responses": {
          "200": {
            "description": "Categoria excluída com sucesso"
          },
          "404": {
            "description": "Categoria não encontrada"
          }
        }
      }
    },
    "/categorias-fornecedores/count/total": {
      "get": {
        "tags": [
          "Categoria Fornecedores"
        ],
        "summary": "Contar total de categorias",
        "description": "Retorna o número total de categorias de fornecedores (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Total de categorias",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "count": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "components": {},
    "/vendas": {
      "post": {
        "tags": [
          "Vendas"
        ],
        "summary": "Criar venda",
        "description": "Cria uma nova venda (VENDEDOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "valor",
                  "valorTotal",
                  "inicio",
                  "clienteId",
                  "vendedorId",
                  "type"
                ],
                "properties": {
                  "valor": {
                    "type": "number",
                    "description": "Valor da venda"
                  },
                  "produtos": {
                    "type": "array",
                    "description": "Lista de produtos da venda. Se informado, valorTotal será recalculado pela soma dos itens.",
                    "items": {
                      "type": "object",
                      "required": [
                        "produtoId",
                        "quantidade"
                      ],
                      "properties": {
                        "produtoId": {
                          "type": "integer",
                          "description": "ID do produto"
                        },
                        "quantidade": {
                          "type": "integer",
                          "description": "Quantidade do produto"
                        }
                      }
                    }
                  },
                  "status": {
                    "$ref": "#/components/schemas/StatusPagamento",
                    "description": "Status do pagamento"
                  },
                  "recorrencia": {
                    "type": "integer",
                    "description": "Número de recorrências"
                  },
                  "quantidadeRecorrencia": {
                    "type": "integer",
                    "description": "Quantidade de recorrências"
                  },
                  "valorTotal": {
                    "type": "number",
                    "description": "Valor total da venda"
                  },
                  "inicio": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Data de início da venda"
                  },
                  "type": {
                    "$ref": "#/components/schemas/TipoPagamento",
                    "description": "Tipo de pagamento para gerar as vendas finais (PIX ou BOLETO)"
                  },
                  "clienteId": {
                    "type": "integer",
                    "description": "ID do cliente"
                  },
                  "vendedorId": {
                    "type": "integer",
                    "description": "ID do vendedor"
                  },
                  "gatewayId": {
                    "type": "integer",
                    "description": "ID do gateway de pagamento"
                  },
                  "conexaoId": {
                    "type": "integer",
                    "description": "ID da conexão"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Venda criada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Venda criada com sucesso"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "example": 1
                        },
                        "uuid": {
                          "type": "string",
                          "example": "550e8400-e29b-41d4-a716-446655440000"
                        },
                        "valor": {
                          "type": "number",
                          "example": 100
                        },
                        "status": {
                          "$ref": "#/components/schemas/StatusPagamento"
                        },
                        "recorrencia": {
                          "type": "integer",
                          "example": 0
                        },
                        "quantidadeRecorrencia": {
                          "type": "integer",
                          "example": 0
                        },
                        "valorTotal": {
                          "type": "number",
                          "example": 100
                        },
                        "inicio": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "fim": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "vendedorId": {
                          "type": "integer",
                          "example": 1
                        },
                        "empresaId": {
                          "type": "integer",
                          "example": 1
                        },
                        "clienteId": {
                          "type": "integer",
                          "example": 1
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "updatedAt": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "vendedor": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer"
                            },
                            "nome": {
                              "type": "string"
                            },
                            "email": {
                              "type": "string"
                            }
                          }
                        },
                        "cliente": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer"
                            },
                            "nome": {
                              "type": "string"
                            },
                            "cpfCnpj": {
                              "type": "string"
                            }
                          }
                        },
                        "gateway": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer"
                            },
                            "nome": {
                              "type": "string"
                            },
                            "gateway": {
                              "$ref": "#/components/schemas/gatewayType"
                            }
                          }
                        },
                        "produtos": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "produtoId": {
                                "type": "integer"
                              },
                              "quantidade": {
                                "type": "integer"
                              },
                              "valorUnitario": {
                                "type": "number"
                              },
                              "valorTotal": {
                                "type": "number"
                              },
                              "vencimento": {
                                "type": "string",
                                "format": "date-time"
                              }
                            }
                          }
                        },
                        "finais": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "uuid": {
                                "type": "string"
                              },
                              "valor": {
                                "type": "number"
                              },
                              "status": {
                                "$ref": "#/components/schemas/StatusVendaFinal"
                              },
                              "type": {
                                "$ref": "#/components/schemas/TipoPagamento"
                              },
                              "vencimento": {
                                "type": "string",
                                "format": "date-time"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Dados inválidos",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "401": {
            "description": "Não autorizado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "403": {
            "description": "Acesso negado - apenas VENDEDOR ou CLIENTE",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "Vendas"
        ],
        "summary": "Listar vendas",
        "description": "Lista todas as vendas (VENDEDOR) ou apenas as vendas do cliente logado (CLIENTE)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "Número da página",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Itens por página",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 10
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "Termo de busca",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de vendas",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/PaginationResponse"
              }
            }
          },
          "401": {
            "description": "Não autorizado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "403": {
            "description": "Acesso negado - apenas VENDEDOR ou CLIENTE",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          }
        }
      }
    },
    "/vendas/{id}": {
      "get": {
        "tags": [
          "Vendas"
        ],
        "summary": "Obter venda por ID",
        "description": "Retorna os dados de uma venda específica (VENDEDOR) ou apenas se for do cliente logado (CLIENTE)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID da venda",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Dados da venda",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Venda encontrada com sucesso"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "example": 1
                        },
                        "uuid": {
                          "type": "string",
                          "example": "550e8400-e29b-41d4-a716-446655440000"
                        },
                        "valor": {
                          "type": "number",
                          "example": 100
                        },
                        "status": {
                          "$ref": "#/components/schemas/StatusPagamento"
                        },
                        "recorrencia": {
                          "type": "integer",
                          "example": 0
                        },
                        "quantidadeRecorrencia": {
                          "type": "integer",
                          "example": 0
                        },
                        "valorTotal": {
                          "type": "number",
                          "example": 100
                        },
                        "inicio": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "fim": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "vendedorId": {
                          "type": "integer",
                          "example": 1
                        },
                        "empresaId": {
                          "type": "integer",
                          "example": 1
                        },
                        "clienteId": {
                          "type": "integer",
                          "example": 1
                        },
                        "gatewayId": {
                          "type": "integer",
                          "example": 1
                        },
                        "conexaoId": {
                          "type": "integer",
                          "example": 1
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "updatedAt": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "vendedor": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer"
                            },
                            "nome": {
                              "type": "string"
                            },
                            "email": {
                              "type": "string"
                            }
                          }
                        },
                        "cliente": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer"
                            },
                            "nome": {
                              "type": "string"
                            },
                            "cpfCnpj": {
                              "type": "string"
                            }
                          }
                        },
                        "gateway": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer"
                            },
                            "nome": {
                              "type": "string"
                            },
                            "gateway": {
                              "$ref": "#/components/schemas/gatewayType"
                            }
                          }
                        },
                        "produtos": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "produtoId": {
                                "type": "integer"
                              },
                              "quantidade": {
                                "type": "integer"
                              },
                              "valorUnitario": {
                                "type": "number"
                              },
                              "valorTotal": {
                                "type": "number"
                              },
                              "vencimento": {
                                "type": "string",
                                "format": "date-time"
                              },
                              "produto": {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "integer"
                                  },
                                  "nome": {
                                    "type": "string"
                                  },
                                  "sku": {
                                    "type": "string"
                                  }
                                }
                              }
                            }
                          }
                        },
                        "finais": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "uuid": {
                                "type": "string"
                              },
                              "valor": {
                                "type": "number"
                              },
                              "status": {
                                "$ref": "#/components/schemas/StatusVendaFinal"
                              },
                              "id_payment": {
                                "type": "string"
                              },
                              "type": {
                                "$ref": "#/components/schemas/TipoPagamento"
                              },
                              "copiacola": {
                                "type": "string"
                              },
                              "qrcode": {
                                "type": "string"
                              },
                              "codigobarra": {
                                "type": "string"
                              },
                              "vencimento": {
                                "type": "string",
                                "format": "date-time"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Não autorizado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "403": {
            "description": "Acesso negado - apenas VENDEDOR ou CLIENTE",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "404": {
            "description": "Venda não encontrada",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Vendas"
        ],
        "summary": "Atualizar venda",
        "description": "Atualiza os dados de uma venda (VENDEDOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID da venda",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "valor": {
                    "type": "number",
                    "description": "Valor da venda"
                  },
                  "produtos": {
                    "type": "array",
                    "description": "Lista de produtos para substituir os itens existentes. Todos os itens antigos serão removidos.",
                    "items": {
                      "type": "object",
                      "required": [
                        "produtoId",
                        "quantidade"
                      ],
                      "properties": {
                        "produtoId": {
                          "type": "integer"
                        },
                        "quantidade": {
                          "type": "integer"
                        }
                      }
                    }
                  },
                  "status": {
                    "$ref": "#/components/schemas/StatusPagamento",
                    "description": "Status do pagamento"
                  },
                  "recorrencia": {
                    "type": "integer",
                    "description": "Número de recorrências"
                  },
                  "quantidadeRecorrencia": {
                    "type": "integer",
                    "description": "Quantidade de recorrências"
                  },
                  "valorTotal": {
                    "type": "number",
                    "description": "Valor total da venda"
                  },
                  "inicio": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Data de início da venda"
                  },
                  "type": {
                    "$ref": "#/components/schemas/TipoPagamento",
                    "description": "Tipo de pagamento para regenerar as vendas finais"
                  },
                  "clienteId": {
                    "type": "integer",
                    "description": "ID do cliente"
                  },
                  "vendedorId": {
                    "type": "integer",
                    "description": "ID do vendedor"
                  },
                  "gatewayId": {
                    "type": "integer",
                    "description": "ID do gateway de pagamento"
                  },
                  "conexaoId": {
                    "type": "integer",
                    "description": "ID da conexão"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Venda atualizada com sucesso",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/SuccessResponse"
              }
            }
          },
          "400": {
            "description": "Dados inválidos",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "401": {
            "description": "Não autorizado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "403": {
            "description": "Acesso negado - apenas VENDEDOR ou CLIENTE",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "404": {
            "description": "Venda não encontrada",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Vendas"
        ],
        "summary": "Excluir venda",
        "description": "Exclui uma venda (VENDEDOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID da venda",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Venda excluída com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Venda excluída com sucesso"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Não autorizado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "403": {
            "description": "Acesso negado - apenas VENDEDOR ou CLIENTE",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "404": {
            "description": "Venda não encontrada",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          }
        }
      }
    },
    "/vendas/count/total": {
      "get": {
        "tags": [
          "Vendas"
        ],
        "summary": "Contar total de vendas",
        "description": "Retorna o total de vendas (VENDEDOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Total de vendas",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Total de vendas obtido com sucesso"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer",
                          "description": "Total de vendas"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Não autorizado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "403": {
            "description": "Acesso negado - apenas VENDEDOR ou CLIENTE",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          }
        }
      }
    },
    "/vendedores": {
      "get": {
        "tags": [
          "Vendedores"
        ],
        "summary": "Listar vendedores",
        "description": "Lista vendedores da empresa (GESTOR/ADMIN/SUPERADMIN)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 10
            }
          },
          {
            "name": "search",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "required": false
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de vendedores",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/PaginationResponse"
              }
            }
          },
          "401": {
            "description": "Não autorizado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "403": {
            "description": "Acesso negado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Vendedores"
        ],
        "summary": "Criar vendedor",
        "description": "Cria um novo vendedor (GESTOR/ADMIN/SUPERADMIN)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "nome",
                  "email",
                  "senha",
                  "celular"
                ],
                "properties": {
                  "nome": {
                    "type": "string"
                  },
                  "email": {
                    "type": "string"
                  },
                  "senha": {
                    "type": "string"
                  },
                  "celular": {
                    "type": "string"
                  },
                  "empresaId": {
                    "type": "integer",
                    "description": "Obrigatório somente para SUPERADMIN"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Vendedor criado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/SuccessResponse"
              }
            }
          },
          "400": {
            "description": "Dados inválidos",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "401": {
            "description": "Não autorizado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "403": {
            "description": "Acesso negado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          }
        }
      }
    },
    "/vendedores/{id}": {
      "get": {
        "tags": [
          "Vendedores"
        ],
        "summary": "Obter vendedor",
        "description": "Obtém um vendedor pelo ID",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Vendedor encontrado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/SuccessResponse"
              }
            }
          },
          "401": {
            "description": "Não autorizado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "403": {
            "description": "Acesso negado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "404": {
            "description": "Não encontrado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Vendedores"
        ],
        "summary": "Atualizar vendedor",
        "description": "Atualiza um vendedor (GESTOR/ADMIN/SUPERADMIN)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "nome": {
                    "type": "string"
                  },
                  "email": {
                    "type": "string"
                  },
                  "senha": {
                    "type": "string"
                  },
                  "celular": {
                    "type": "string"
                  },
                  "empresaId": {
                    "type": "integer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Vendedor atualizado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/SuccessResponse"
              }
            }
          },
          "400": {
            "description": "Dados inválidos",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "401": {
            "description": "Não autorizado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "403": {
            "description": "Acesso negado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "404": {
            "description": "Não encontrado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Vendedores"
        ],
        "summary": "Deletar vendedor",
        "description": "Remove um vendedor",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Vendedor deletado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/SuccessResponse"
              }
            }
          },
          "401": {
            "description": "Não autorizado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "403": {
            "description": "Acesso negado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "404": {
            "description": "Não encontrado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          }
        }
      }
    },
    "/vendedores/count/total": {
      "get": {
        "tags": [
          "Vendedores"
        ],
        "summary": "Total de vendedores",
        "description": "Conta total de vendedores na empresa",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Total retornado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/SuccessResponse"
              }
            }
          },
          "401": {
            "description": "Não autorizado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          },
          "403": {
            "description": "Acesso negado",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/Error"
              }
            }
          }
        }
      }
    },
    "/vendas-finais": {
      "post": {
        "tags": [
          "Vendas Finais"
        ],
        "summary": "Criar venda final",
        "description": "Cria uma nova venda final (VENDEDOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "valor",
                  "status",
                  "type",
                  "vencimento",
                  "vendaId"
                ],
                "properties": {
                  "valor": {
                    "type": "number",
                    "format": "float",
                    "description": "Valor da venda final"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "PENDING",
                      "APPROVED",
                      "CANCELLED"
                    ],
                    "description": "Status da venda final"
                  },
                  "id_payment": {
                    "type": "string",
                    "description": "ID do pagamento (opcional)"
                  },
                  "type": {
                    "type": "string",
                    "enum": [
                      "PIX",
                      "BOLETO"
                    ],
                    "description": "Tipo de pagamento"
                  },
                  "copiacola": {
                    "type": "string",
                    "description": "Código copia e cola (opcional)"
                  },
                  "qrcode": {
                    "type": "string",
                    "description": "QR Code (opcional)"
                  },
                  "codigobarra": {
                    "type": "string",
                    "description": "Código de barras (opcional)"
                  },
                  "vencimento": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Data de vencimento"
                  },
                  "dataPagamento": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Data de pagamento (opcional)"
                  },
                  "vendaId": {
                    "type": "integer",
                    "description": "ID da venda relacionada"
                  },
                  "gatewayId": {
                    "type": "integer",
                    "description": "ID do gateway de pagamento"
                  },
                  "conexaoId": {
                    "type": "integer",
                    "description": "ID da conexão"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Venda final criada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Venda final criada com sucesso"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "example": 1
                        },
                        "valor": {
                          "type": "number",
                          "example": 199.99
                        },
                        "status": {
                          "type": "string",
                          "example": "PENDING"
                        },
                        "type": {
                          "type": "string",
                          "example": "PIX"
                        },
                        "vencimento": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "dataPagamento": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "vendaId": {
                          "type": "integer",
                          "example": 1
                        },
                        "gatewayId": {
                          "type": "integer",
                          "example": 1
                        },
                        "conexaoId": {
                          "type": "integer",
                          "example": 1
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          }
        }
      },
      "get": {
        "tags": [
          "Vendas Finais"
        ],
        "summary": "Listar vendas finais",
        "description": "Retorna lista paginada de vendas finais (VENDEDOR) ou apenas as vendas finais do cliente logado (CLIENTE)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "Número da página"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "Itens por página"
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            },
            "description": "Termo de busca"
          },
          {
            "in": "query",
            "name": "vendaId",
            "schema": {
              "type": "integer"
            },
            "description": "Filtrar por ID da venda"
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string",
              "enum": [
                "PIX",
                "BOLETO"
              ]
            },
            "description": "Filtrar por tipo de pagamento"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "PENDING",
                "APPROVED",
                "CANCELLED"
              ]
            },
            "description": "Filtrar por status da venda final"
          },
          {
            "in": "query",
            "name": "vencimento",
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "Filtrar por data de vencimento"
          },
          {
            "in": "query",
            "name": "gatewayId",
            "schema": {
              "type": "integer"
            },
            "description": "Filtrar por ID do gateway de pagamento"
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de vendas finais",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginationResponse"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          }
        }
      }
    },
    "/vendas-finais/{id}": {
      "get": {
        "tags": [
          "Vendas Finais"
        ],
        "summary": "Buscar venda final por ID",
        "description": "Retorna uma venda final específica (VENDEDOR) ou apenas se for do cliente logado (CLIENTE)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID da venda final"
          }
        ],
        "responses": {
          "200": {
            "description": "Venda final encontrada",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "valor": {
                          "type": "number"
                        },
                        "status": {
                          "type": "string"
                        },
                        "type": {
                          "type": "string"
                        },
                        "vencimento": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "dataPagamento": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "vendaId": {
                          "type": "integer"
                        },
                        "gatewayId": {
                          "type": "integer"
                        },
                        "conexaoId": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "put": {
        "tags": [
          "Vendas Finais"
        ],
        "summary": "Atualizar venda final",
        "description": "Atualiza uma venda final existente (VENDEDOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID da venda final"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "valor": {
                    "type": "number",
                    "format": "float"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "PENDING",
                      "APPROVED",
                      "CANCELLED"
                    ]
                  },
                  "type": {
                    "type": "string",
                    "enum": [
                      "PIX",
                      "BOLETO"
                    ]
                  },
                  "vencimento": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "dataPagamento": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Data de pagamento (opcional)"
                  },
                  "vendaId": {
                    "type": "integer"
                  },
                  "gatewayId": {
                    "type": "integer"
                  },
                  "conexaoId": {
                    "type": "integer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Venda final atualizada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Venda final atualizada com sucesso"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "valor": {
                          "type": "number"
                        },
                        "status": {
                          "type": "string"
                        },
                        "type": {
                          "type": "string"
                        },
                        "vencimento": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "dataPagamento": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "vendaId": {
                          "type": "integer"
                        },
                        "gatewayId": {
                          "type": "integer"
                        },
                        "conexaoId": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "delete": {
        "tags": [
          "Vendas Finais"
        ],
        "summary": "Excluir venda final",
        "description": "Remove uma venda final existente (VENDEDOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID da venda final"
          }
        ],
        "responses": {
          "200": {
            "description": "Venda final excluída com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Venda final excluída com sucesso"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/vendas-finais/count/total": {
      "get": {
        "tags": [
          "Vendas Finais"
        ],
        "summary": "Contar total de vendas finais",
        "description": "Retorna o número total de vendas finais (VENDEDOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Total de vendas finais",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "total": {
                      "type": "integer",
                      "example": 42
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          }
        }
      }
    },
    "/vendas-finais/{id}/send": {
      "post": {
        "tags": [
          "Vendas Finais"
        ],
        "summary": "Enviar fatura por WhatsApp",
        "description": "Gera fatura no gateway de pagamento e envia por WhatsApp para o cliente (VENDEDOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID da venda final"
          }
        ],
        "responses": {
          "200": {
            "description": "Fatura enviada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Fatura enviada com sucesso"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "vendaFinal": {
                          "type": "object",
                          "description": "Dados da venda final atualizada"
                        },
                        "payment": {
                          "type": "object",
                          "description": "Dados do pagamento gerado ou existente"
                        },
                        "whatsapp": {
                          "type": "object",
                          "description": "Resultado do envio via WhatsApp"
                        },
                        "mensagem": {
                          "type": "string",
                          "description": "Mensagem enviada para o cliente"
                        },
                        "conexaoUsada": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer"
                            },
                            "nome": {
                              "type": "string"
                            },
                            "isDefault": {
                              "type": "boolean"
                            }
                          },
                          "description": "Dados da conexão WhatsApp utilizada"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Erro na validação ou processamento",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "examples": [
                        "Gateway não configurado para esta venda",
                        "Cliente não encontrado para esta venda",
                        "Nenhuma conexão WhatsApp está ativa para esta empresa",
                        "Cliente não possui número de celular cadastrado"
                      ]
                    },
                    "vendaFinal": {
                      "type": "object",
                      "description": "Dados da venda final (quando aplicável)"
                    },
                    "conexaoTentada": {
                      "type": "object",
                      "description": "Dados da conexão que foi tentada (quando aplicável)"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/vendas-finais/{id}/generate": {
      "post": {
        "tags": [
          "Vendas Finais"
        ],
        "summary": "Gerar fatura no gateway",
        "description": "Gera fatura no gateway de pagamento para uma venda final. Apenas funciona se a fatura ainda não foi gerada ou se está cancelada (VENDEDOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID da venda final"
          }
        ],
        "responses": {
          "200": {
            "description": "Fatura gerada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Fatura gerada com sucesso"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "vendaFinal": {
                          "type": "object",
                          "description": "Dados da venda final atualizada com informações do pagamento"
                        },
                        "payment": {
                          "type": "object",
                          "description": "Dados do pagamento gerado no gateway"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Erro na geração da fatura",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Esta fatura já foi gerada e está ativa"
                    },
                    "message": {
                      "type": "string",
                      "example": "Apenas faturas canceladas ou não geradas podem ser regeneradas"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/users": {
      "post": {
        "tags": [
          "Usuários"
        ],
        "summary": "Criar usuário",
        "description": "Cria um novo usuário (ADMIN). Apenas SUPERADMIN pode criar SUPERADMIN.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "nome",
                  "email",
                  "senha",
                  "celular",
                  "role"
                ],
                "properties": {
                  "nome": {
                    "type": "string",
                    "description": "Nome do usuário"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "description": "Email do usuário (único)"
                  },
                  "senha": {
                    "type": "string",
                    "minLength": 6,
                    "description": "Senha do usuário"
                  },
                  "celular": {
                    "type": "string",
                    "description": "Celular do usuário"
                  },
                  "role": {
                    "type": "string",
                    "enum": [
                      "SUPERADMIN",
                      "ADMIN",
                      "GESTOR",
                      "VENDEDOR",
                      "CLIENTE"
                    ],
                    "description": "Papel do usuário"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Usuário criado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "example": 1
                        },
                        "nome": {
                          "type": "string",
                          "example": "João"
                        },
                        "email": {
                          "type": "string",
                          "example": "joao@exemplo.com"
                        },
                        "celular": {
                          "type": "string",
                          "example": "+55 11 99999-9999"
                        },
                        "role": {
                          "type": "string",
                          "example": "VENDEDOR"
                        },
                        "empresaId": {
                          "type": "integer",
                          "nullable": true,
                          "example": 10
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          }
        }
      },
      "get": {
        "tags": [
          "Usuários"
        ],
        "summary": "Listar usuários",
        "description": "Lista usuários da empresa (ADMIN). Suporta filtros e paginação.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "Número da página"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "Itens por página"
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            },
            "description": "Termo de busca"
          },
          {
            "in": "query",
            "name": "role",
            "schema": {
              "type": "string",
              "enum": [
                "SUPERADMIN",
                "ADMIN",
                "GESTOR",
                "VENDEDOR",
                "CLIENTE"
              ]
            },
            "description": "Filtrar por papel do usuário"
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de usuários",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginationResponse"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          }
        }
      }
    },
    "/users/{id}": {
      "get": {
        "tags": [
          "Usuários"
        ],
        "summary": "Buscar usuário por ID",
        "description": "Retorna um usuário específico (ADMIN ou USUARIO AUTENTICADO).",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID do usuário"
          }
        ],
        "responses": {
          "200": {
            "description": "Usuário encontrado",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "nome": {
                          "type": "string"
                        },
                        "email": {
                          "type": "string"
                        },
                        "celular": {
                          "type": "string"
                        },
                        "role": {
                          "type": "string"
                        },
                        "empresa": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer"
                            },
                            "nome": {
                              "type": "string"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "put": {
        "tags": [
          "Usuários"
        ],
        "summary": "Atualizar usuário",
        "description": "Atualiza um usuário existente. Apenas SUPERADMIN/ADMIN alteram role.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID do usuário"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "nome": {
                    "type": "string"
                  },
                  "email": {
                    "type": "string",
                    "format": "email"
                  },
                  "celular": {
                    "type": "string"
                  },
                  "role": {
                    "type": "string",
                    "enum": [
                      "SUPERADMIN",
                      "ADMIN",
                      "GESTOR",
                      "VENDEDOR",
                      "CLIENTE"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Usuário atualizado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Usuário atualizado com sucesso"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "nome": {
                          "type": "string"
                        },
                        "email": {
                          "type": "string"
                        },
                        "celular": {
                          "type": "string"
                        },
                        "role": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "delete": {
        "tags": [
          "Usuários"
        ],
        "summary": "Excluir usuário",
        "description": "Remove um usuário (apenas SUPERADMIN).",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID do usuário"
          }
        ],
        "responses": {
          "200": {
            "description": "Usuário excluído com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Usuário excluído com sucesso"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/users/count/total": {
      "get": {
        "tags": [
          "Usuários"
        ],
        "summary": "Contar total de usuários",
        "description": "Retorna o total de usuários (ADMIN).",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Total de usuários",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "total": {
                      "type": "integer",
                      "example": 42
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          }
        }
      }
    },
    "/contas-pagar": {
      "post": {
        "tags": [
          "Contas a Pagar"
        ],
        "summary": "Criar conta a pagar",
        "description": "Cria uma nova conta a pagar (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "nome",
                  "valor",
                  "vencimento",
                  "status"
                ],
                "properties": {
                  "nome": {
                    "type": "string",
                    "minLength": 2,
                    "description": "Nome da conta a pagar"
                  },
                  "observacao": {
                    "type": "string",
                    "description": "Observação (opcional)"
                  },
                  "valor": {
                    "type": "number",
                    "format": "float",
                    "description": "Valor da conta"
                  },
                  "vencimento": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Data de vencimento"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "PENDENTE",
                      "PAGO"
                    ],
                    "description": "Status da conta"
                  },
                  "fornecedorId": {
                    "type": "integer",
                    "description": "ID do fornecedor (opcional)"
                  },
                  "produtoId": {
                    "type": "integer",
                    "description": "ID do produto (opcional)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Conta a pagar criada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Conta a pagar criada com sucesso"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "example": 1
                        },
                        "nome": {
                          "type": "string",
                          "example": "Conta de Luz"
                        },
                        "valor": {
                          "type": "number",
                          "example": 199.99
                        },
                        "vencimento": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "status": {
                          "type": "string",
                          "example": "PENDENTE"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          }
        }
      },
      "get": {
        "tags": [
          "Contas a Pagar"
        ],
        "summary": "Listar contas a pagar",
        "description": "Retorna lista paginada de contas a pagar (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "Número da página"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "Itens por página"
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            },
            "description": "Termo de busca"
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de contas a pagar",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginationResponse"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          }
        }
      }
    },
    "/contas-pagar/{id}": {
      "get": {
        "tags": [
          "Contas a Pagar"
        ],
        "summary": "Buscar conta a pagar por ID",
        "description": "Retorna uma conta a pagar específica (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID da conta a pagar"
          }
        ],
        "responses": {
          "200": {
            "description": "Conta a pagar encontrada",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "nome": {
                          "type": "string"
                        },
                        "valor": {
                          "type": "number"
                        },
                        "vencimento": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "status": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "put": {
        "tags": [
          "Contas a Pagar"
        ],
        "summary": "Atualizar conta a pagar",
        "description": "Atualiza uma conta a pagar existente (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID da conta a pagar"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "nome": {
                    "type": "string",
                    "minLength": 2
                  },
                  "observacao": {
                    "type": "string"
                  },
                  "valor": {
                    "type": "number",
                    "format": "float"
                  },
                  "vencimento": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "PENDENTE",
                      "PAGO"
                    ]
                  },
                  "fornecedorId": {
                    "type": "integer"
                  },
                  "produtoId": {
                    "type": "integer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Conta a pagar atualizada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Conta a pagar atualizada com sucesso"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "nome": {
                          "type": "string"
                        },
                        "valor": {
                          "type": "number"
                        },
                        "vencimento": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "status": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "delete": {
        "tags": [
          "Contas a Pagar"
        ],
        "summary": "Excluir conta a pagar",
        "description": "Remove uma conta a pagar existente (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID da conta a pagar"
          }
        ],
        "responses": {
          "200": {
            "description": "Conta a pagar excluída com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Conta a pagar excluída com sucesso"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/produtos": {
      "post": {
        "tags": [
          "Produtos"
        ],
        "summary": "Criar produto",
        "description": "Cria um novo produto (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProdutoCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Produto criado com sucesso"
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          }
        }
      },
      "get": {
        "tags": [
          "Produtos"
        ],
        "summary": "Listar produtos",
        "description": "Lista todos os produtos (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 10
            }
          },
          {
            "name": "search",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de produtos"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          }
        }
      }
    },
    "/produtos/{id}": {
      "get": {
        "tags": [
          "Produtos"
        ],
        "summary": "Obter produto por ID",
        "description": "Retorna os dados de um produto específico (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Dados do produto"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "put": {
        "tags": [
          "Produtos"
        ],
        "summary": "Atualizar produto",
        "description": "Atualiza os dados de um produto (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProdutoUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Produto atualizado com sucesso"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "delete": {
        "tags": [
          "Produtos"
        ],
        "summary": "Excluir produto",
        "description": "Exclui um produto (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Produto excluído com sucesso"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/produtos/count/total": {
      "get": {
        "tags": [
          "Produtos"
        ],
        "summary": "Contar total de produtos",
        "description": "Retorna o total de produtos (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Total de produtos"
          }
        }
      }
    },
    "/categorias-produtos": {
      "post": {
        "tags": [
          "Categoria Produtos"
        ],
        "summary": "Criar categoria de produto",
        "description": "Cria uma nova categoria de produto (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "nome"
                ],
                "properties": {
                  "nome": {
                    "type": "string",
                    "description": "Nome da categoria"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Categoria criada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "CategoriaProduto criado com sucesso"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "nome": {
                          "type": "string"
                        },
                        "empresaId": {
                          "type": "integer"
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "updatedAt": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Dados inválidos",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "Categoria Produtos"
        ],
        "summary": "Listar categorias",
        "description": "Lista todas as categorias de produtos com paginação (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "Número da página"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "Limite de itens por página"
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            },
            "description": "Termo para busca"
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de categorias",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "nome": {
                            "type": "string"
                          },
                          "empresaId": {
                            "type": "integer"
                          }
                        }
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer"
                        },
                        "pages": {
                          "type": "integer"
                        },
                        "page": {
                          "type": "integer"
                        },
                        "limit": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/categorias-produtos/{id}": {
      "get": {
        "tags": [
          "Categoria Produtos"
        ],
        "summary": "Buscar categoria por ID",
        "description": "Retorna uma categoria específica (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID da categoria"
          }
        ],
        "responses": {
          "200": {
            "description": "Categoria encontrada",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "nome": {
                          "type": "string"
                        },
                        "empresaId": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Categoria não encontrada"
          }
        }
      },
      "put": {
        "tags": [
          "Categoria Produtos"
        ],
        "summary": "Atualizar categoria",
        "description": "Atualiza uma categoria existente (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID da categoria"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "nome": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Categoria atualizada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "nome": {
                          "type": "string"
                        },
                        "empresaId": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Categoria não encontrada"
          }
        }
      }
    },
    "/movimentos-estoque": {
      "post": {
        "tags": [
          "Movimento de Estoque"
        ],
        "summary": "Criar um novo movimento de estoque",
        "description": "Cria um novo registro de movimento de estoque no sistema",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "tipo",
                  "quantidade",
                  "valorUnitario",
                  "data",
                  "produtoId"
                ],
                "properties": {
                  "tipo": {
                    "type": "string",
                    "enum": [
                      "ENTRADA",
                      "SAIDA"
                    ],
                    "description": "Tipo do movimento"
                  },
                  "quantidade": {
                    "type": "integer",
                    "minimum": 1,
                    "description": "Quantidade do movimento"
                  },
                  "valorUnitario": {
                    "type": "number",
                    "minimum": 0,
                    "description": "Valor unitário do produto"
                  },
                  "data": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Data do movimento"
                  },
                  "produtoId": {
                    "type": "integer",
                    "minimum": 1,
                    "description": "ID do produto"
                  },
                  "fornecedorId": {
                    "type": "integer",
                    "minimum": 1,
                    "description": "ID do fornecedor (opcional)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Movimento de estoque criado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Dados inválidos"
          },
          "401": {
            "description": "Não autorizado"
          },
          "403": {
            "description": "Acesso negado"
          }
        }
      },
      "get": {
        "tags": [
          "Movimento de Estoque"
        ],
        "summary": "Listar movimentos de estoque",
        "description": "Retorna uma lista paginada de movimentos de estoque",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "Número da página"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "Quantidade de registros por página"
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            },
            "description": "Termo de busca"
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de movimentos de estoque",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer"
                        },
                        "page": {
                          "type": "integer"
                        },
                        "totalPages": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Não autorizado"
          },
          "403": {
            "description": "Acesso negado"
          }
        }
      }
    },
    "/movimentos-estoque/{id}": {
      "get": {
        "tags": [
          "Movimento de Estoque"
        ],
        "summary": "Buscar movimento de estoque por ID",
        "description": "Retorna um movimento de estoque específico pelo ID",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID do movimento de estoque"
          }
        ],
        "responses": {
          "200": {
            "description": "Movimento de estoque encontrado",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Não autorizado"
          },
          "403": {
            "description": "Acesso negado"
          },
          "404": {
            "description": "Movimento de estoque não encontrado"
          }
        }
      },
      "put": {
        "tags": [
          "Movimento de Estoque"
        ],
        "summary": "Atualizar movimento de estoque",
        "description": "Atualiza os dados de um movimento de estoque existente",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID do movimento de estoque"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "tipo": {
                    "type": "string",
                    "enum": [
                      "ENTRADA",
                      "SAIDA"
                    ],
                    "description": "Tipo do movimento"
                  },
                  "quantidade": {
                    "type": "integer",
                    "minimum": 1,
                    "description": "Quantidade do movimento"
                  },
                  "valorUnitario": {
                    "type": "number",
                    "minimum": 0,
                    "description": "Valor unitário do produto"
                  },
                  "data": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Data do movimento"
                  },
                  "produtoId": {
                    "type": "integer",
                    "minimum": 1,
                    "description": "ID do produto"
                  },
                  "fornecedorId": {
                    "type": "integer",
                    "minimum": 1,
                    "description": "ID do fornecedor (opcional)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Movimento de estoque atualizado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Dados inválidos"
          },
          "401": {
            "description": "Não autorizado"
          },
          "403": {
            "description": "Acesso negado"
          },
          "404": {
            "description": "Movimento de estoque não encontrado"
          }
        }
      },
      "delete": {
        "tags": [
          "Movimento de Estoque"
        ],
        "summary": "Excluir movimento de estoque",
        "description": "Remove um movimento de estoque do sistema",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID do movimento de estoque"
          }
        ],
        "responses": {
          "200": {
            "description": "Movimento de estoque excluído com sucesso"
          },
          "401": {
            "description": "Não autorizado"
          },
          "403": {
            "description": "Acesso negado"
          },
          "404": {
            "description": "Movimento de estoque não encontrado"
          }
        }
      }
    },
    "/movimentos-estoque/count/total": {
      "get": {
        "tags": [
          "Movimento de Estoque"
        ],
        "summary": "Contar total de movimentos de estoque",
        "description": "Retorna o número total de movimentos de estoque no sistema",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Total de movimentos de estoque",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "total": {
                      "type": "integer",
                      "description": "Número total de movimentos de estoque"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Não autorizado"
          },
          "403": {
            "description": "Acesso negado"
          }
        }
      }
    },
    "/cotacoes": {
      "post": {
        "tags": [
          "Cotações"
        ],
        "summary": "Criar uma nova cotação",
        "description": "Cria uma nova cotação no sistema",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "nome",
                  "dataAbertura",
                  "status",
                  "tipo"
                ],
                "properties": {
                  "nome": {
                    "type": "string",
                    "description": "Nome da cotação"
                  },
                  "descricao": {
                    "type": "string",
                    "description": "descrição da cotação"
                  },
                  "dataAbertura": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Data de abertura da cotação"
                  },
                  "dataFechamento": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Data de fechamento da cotação"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "EM_ANDAMENTO",
                      "FECHADA"
                    ],
                    "description": "Status da cotação"
                  },
                  "tipo": {
                    "type": "string",
                    "enum": [
                      "IMEDIATA",
                      "PROGRAMADA"
                    ],
                    "description": "Tipo da cotação"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Cotação criada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "nome": {
                      "type": "string",
                      "description": "Nome da cotação"
                    },
                    "descricao": {
                      "type": "string",
                      "description": "descrição da cotação"
                    },
                    "dataAbertura": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "dataFechamento": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "status": {
                      "type": "string"
                    },
                    "tipo": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Dados inválidos"
          },
          "401": {
            "description": "Não autorizado"
          },
          "403": {
            "description": "Acesso negado"
          }
        }
      },
      "get": {
        "tags": [
          "Cotações"
        ],
        "summary": "Listar cotações",
        "description": "Retorna uma lista paginada de cotações",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "Número da página"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "Quantidade de registros por página"
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            },
            "description": "Termo de busca"
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de cotações",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "nome": {
                            "type": "string",
                            "description": "Nome da cotação"
                          },
                          "descricao": {
                            "type": "string",
                            "description": "descrição da cotação"
                          },
                          "dataAbertura": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "dataFechamento": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "status": {
                            "type": "string"
                          },
                          "tipo": {
                            "type": "string"
                          }
                        }
                      }
                    },
                    "total": {
                      "type": "integer"
                    },
                    "page": {
                      "type": "integer"
                    },
                    "totalPages": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Não autorizado"
          },
          "403": {
            "description": "Acesso negado"
          }
        }
      }
    },
    "/cotacoes/{id}": {
      "get": {
        "tags": [
          "Cotações"
        ],
        "summary": "Buscar cotação por ID",
        "description": "Retorna uma cotação específica pelo ID",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID da cotação"
          }
        ],
        "responses": {
          "200": {
            "description": "Cotação encontrada",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "nome": {
                      "type": "string",
                      "description": "Nome da cotação"
                    },
                    "descricao": {
                      "type": "string",
                      "description": "descrição da cotação"
                    },
                    "dataAbertura": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "dataFechamento": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "status": {
                      "type": "string"
                    },
                    "tipo": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Não autorizado"
          },
          "403": {
            "description": "Acesso negado"
          },
          "404": {
            "description": "Cotação não encontrada"
          }
        }
      },
      "put": {
        "tags": [
          "Cotações"
        ],
        "summary": "Atualizar cotação",
        "description": "Atualiza os dados de uma cotação existente",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID da cotação"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "nome": {
                    "type": "string",
                    "description": "Nome da cotação"
                  },
                  "descricao": {
                    "type": "string",
                    "description": "descrição da cotação"
                  },
                  "dataAbertura": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Data de abertura da cotação"
                  },
                  "dataFechamento": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Data de fechamento da cotação"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "EM_ANDAMENTO",
                      "FECHADA"
                    ],
                    "description": "Status da cotação"
                  },
                  "tipo": {
                    "type": "string",
                    "enum": [
                      "IMEDIATA",
                      "PROGRAMADA"
                    ],
                    "description": "Tipo da cotação"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Cotação atualizada com sucesso"
          },
          "400": {
            "description": "Dados inválidos"
          },
          "401": {
            "description": "Não autorizado"
          },
          "403": {
            "description": "Acesso negado"
          },
          "404": {
            "description": "Cotação não encontrada"
          }
        }
      },
      "delete": {
        "tags": [
          "Cotações"
        ],
        "summary": "Excluir cotação",
        "description": "Remove uma cotação do sistema",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID da cotação"
          }
        ],
        "responses": {
          "200": {
            "description": "Cotação excluída com sucesso"
          },
          "401": {
            "description": "Não autorizado"
          },
          "403": {
            "description": "Acesso negado"
          },
          "404": {
            "description": "Cotação não encontrada"
          }
        }
      }
    },
    "/cotacoes/count/total": {
      "get": {
        "tags": [
          "Cotações"
        ],
        "summary": "Contar total de cotações",
        "description": "Retorna o número total de cotações no sistema",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Total de cotações",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "total": {
                      "type": "integer",
                      "description": "Número total de cotações"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Não autorizado"
          },
          "403": {
            "description": "Acesso negado"
          }
        }
      }
    },
    "/cotacoes-items": {
      "post": {
        "tags": [
          "ItemCotacao "
        ],
        "summary": "Criar ItemCotacao ",
        "description": "Cria um novo registro de ItemCotacao  (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "fornecedorId",
                  "produtoId",
                  "cotacaoId",
                  "valorUnitario",
                  "quantidade"
                ],
                "properties": {
                  "fornecedorId": {
                    "type": "integer"
                  },
                  "produtoId": {
                    "type": "integer"
                  },
                  "cotacaoId": {
                    "type": "integer"
                  },
                  "valorUnitario": {
                    "type": "string",
                    "example": "100.00"
                  },
                  "quantidade": {
                    "type": "integer"
                  },
                  "aprovada": {
                    "type": "boolean"
                  },
                  "vencedora": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Criado com sucesso"
          },
          "400": {
            "description": "Dados inválidos"
          }
        }
      },
      "get": {
        "tags": [
          "ItemCotacao "
        ],
        "summary": "Listar ItemCotacao ",
        "description": "Lista todos os registros de ItemCotacao  (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "Número da página"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "Limite de itens por página"
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            },
            "description": "Termo para busca"
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de ItemCotacao "
          }
        }
      }
    },
    "/cotacoes-items/{id}": {
      "get": {
        "tags": [
          "ItemCotacao "
        ],
        "summary": "Buscar ItemCotacao  por ID",
        "description": "Retorna um registro específico (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID do registro"
          }
        ],
        "responses": {
          "200": {
            "description": "Registro encontrado"
          },
          "404": {
            "description": "Registro não encontrado"
          }
        }
      },
      "put": {
        "tags": [
          "ItemCotacao "
        ],
        "summary": "Atualizar ItemCotacao ",
        "description": "Atualiza um registro existente (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID do registro"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "fornecedorId": {
                    "type": "integer"
                  },
                  "produtoId": {
                    "type": "integer"
                  },
                  "cotacaoId": {
                    "type": "integer"
                  },
                  "valorUnitario": {
                    "type": "string"
                  },
                  "quantidade": {
                    "type": "integer"
                  },
                  "aprovada": {
                    "type": "boolean"
                  },
                  "vencedora": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Atualizado com sucesso"
          },
          "404": {
            "description": "Registro não encontrado"
          }
        }
      },
      "delete": {
        "tags": [
          "ItemCotacao "
        ],
        "summary": "Excluir ItemCotacao ",
        "description": "Remove um registro existente (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID do registro"
          }
        ],
        "responses": {
          "200": {
            "description": "Excluído com sucesso"
          },
          "404": {
            "description": "Registro não encontrado"
          }
        }
      }
    },
    "/cotacoes-items/count/total": {
      "get": {
        "tags": [
          "ItemCotacao "
        ],
        "summary": "Contar total de ItemCotacao ",
        "description": "Retorna o número total de registros (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Total de registros"
          }
        }
      }
    },
    "/planos": {
      "post": {
        "tags": [
          "Planos"
        ],
        "summary": "Criar plano",
        "description": "Cria um novo plano (SUPERADMIN)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PlanoCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Plano criado com sucesso"
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          }
        }
      },
      "get": {
        "tags": [
          "Planos"
        ],
        "summary": "Listar planos",
        "description": "Lista todos os planos (SUPERADMIN)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 10
            }
          },
          {
            "name": "search",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "ativo",
            "in": "query",
            "schema": {
              "type": "boolean"
            },
            "description": "Filtrar por status ativo/inativo"
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de planos"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          }
        }
      }
    },
    "/planos/{id}": {
      "get": {
        "tags": [
          "Planos"
        ],
        "summary": "Obter plano por ID",
        "description": "Retorna os dados de um plano específico (SUPERADMIN)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Dados do plano"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "put": {
        "tags": [
          "Planos"
        ],
        "summary": "Atualizar plano",
        "description": "Atualiza os dados de um plano (SUPERADMIN)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PlanoUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Plano atualizado com sucesso"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "delete": {
        "tags": [
          "Planos"
        ],
        "summary": "Excluir plano",
        "description": "Exclui um plano (SUPERADMIN)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Plano excluído com sucesso"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/planos/count/total": {
      "get": {
        "tags": [
          "Planos"
        ],
        "summary": "Contar total de planos",
        "description": "Retorna o total de planos (SUPERADMIN)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Total de planos"
          }
        }
      }
    },
    "/compra-planos": {
      "post": {
        "tags": [
          "Compra de Planos"
        ],
        "summary": "Criar compra de plano",
        "description": "Cria uma nova compra de plano (SUPERADMIN)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CompraPlanoCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Compra de plano criada com sucesso"
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          }
        }
      },
      "get": {
        "tags": [
          "Compra de Planos"
        ],
        "summary": "Listar compras de planos",
        "description": "Lista todas as compras de planos (SUPERADMIN)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 10
            }
          },
          {
            "name": "search",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de compras de planos"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          }
        }
      }
    },
    "/compra-planos/contratar": {
      "post": {
        "tags": [
          "Compra de Planos"
        ],
        "summary": "Contratar plano",
        "description": "Contrata um plano para a empresa (ADMIN/GESTOR/VENDEDOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContratarPlanoRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Plano contratado com sucesso"
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          }
        }
      }
    },
    "/compra-planos/empresa/atual": {
      "get": {
        "tags": [
          "Compra de Planos"
        ],
        "summary": "Obter plano atual da empresa",
        "description": "Retorna o plano atual e compras pendentes da empresa (ADMIN/GESTOR/VENDEDOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Dados do plano atual"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          }
        }
      }
    },
    "/compra-planos/{id}": {
      "get": {
        "tags": [
          "Compra de Planos"
        ],
        "summary": "Obter compra de plano por ID",
        "description": "Retorna os dados de uma compra de plano específica (SUPERADMIN)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Dados da compra de plano"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "put": {
        "tags": [
          "Compra de Planos"
        ],
        "summary": "Atualizar compra de plano",
        "description": "Atualiza os dados de uma compra de plano (SUPERADMIN)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CompraPlanoUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Compra de plano atualizada com sucesso"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "delete": {
        "tags": [
          "Compra de Planos"
        ],
        "summary": "Excluir compra de plano",
        "description": "Exclui uma compra de plano (SUPERADMIN)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Compra de plano excluída com sucesso"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/compra-planos/{id}/gerar-cobranca": {
      "post": {
        "tags": [
          "Compra de Planos"
        ],
        "summary": "Gerar cobrança para compra de plano",
        "description": "Gera cobrança PIX/Boleto para uma compra de plano pendente (ADMIN/GESTOR/VENDEDOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Cobrança gerada com sucesso"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/compra-planos/count/total": {
      "get": {
        "tags": [
          "Compra de Planos"
        ],
        "summary": "Contar total de compras de planos",
        "description": "Retorna o total de compras de planos (SUPERADMIN)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Total de compras de planos"
          }
        }
      }
    },
    "/gateways": {
      "post": {
        "tags": [
          "Gateways"
        ],
        "summary": "Criar gateway",
        "description": "Cria um novo gateway (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "gateway",
                  "dados",
                  "nome"
                ],
                "properties": {
                  "gateway": {
                    "$ref": "#/components/schemas/gatewayType"
                  },
                  "nome": {
                    "type": "string",
                    "description": "Nome do gateway"
                  },
                  "descricao": {
                    "type": "string",
                    "description": "Descrição do gateway"
                  },
                  "isDefault": {
                    "type": "boolean",
                    "description": "Define se é o gateway padrão da empresa"
                  },
                  "dados": {
                    "description": "Objeto JSON com credenciais/configurações. Enviar como JSON válido (application/json convertido internamente) ou texto; exemplo: {\n  \"token\": \"abc\",\n  \"client_id\": \"123\"\n}",
                    "oneOf": [
                      {
                        "type": "object"
                      },
                      {
                        "type": "string",
                        "description": "String JSON"
                      }
                    ]
                  },
                  "empresaId": {
                    "type": "integer",
                    "description": "ID da empresa (opcional – ignorado para SUPERADMIN)"
                  },
                  "cert_pem": {
                    "type": "string",
                    "format": "binary",
                    "description": "Arquivo .pem opcional"
                  },
                  "cert_key": {
                    "type": "string",
                    "format": "binary",
                    "description": "Arquivo .key opcional"
                  }
                }
              }
            },
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "gateway",
                  "dados",
                  "nome"
                ],
                "properties": {
                  "gateway": {
                    "$ref": "#/components/schemas/gatewayType"
                  },
                  "nome": {
                    "type": "string"
                  },
                  "descricao": {
                    "type": "string"
                  },
                  "isDefault": {
                    "type": "boolean"
                  },
                  "dados": {
                    "type": "object"
                  },
                  "empresaId": {
                    "type": "integer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Gateway criado com sucesso",
            "content": {
              "application/json": {
                "$ref": "#/components/schemas/SuccessResponse"
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          }
        }
      },
      "get": {
        "tags": [
          "Gateways"
        ],
        "summary": "Listar gateways",
        "description": "Lista todos os gateways (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/page"
          },
          {
            "$ref": "#/components/parameters/limit"
          },
          {
            "$ref": "#/components/parameters/search"
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/components/responses/PaginationResponse"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          }
        }
      }
    },
    "/gateways/{id}": {
      "get": {
        "tags": [
          "Gateways"
        ],
        "summary": "Obter gateway por ID",
        "description": "Retorna os dados de um gateway específico (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/id"
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/components/responses/SuccessResponse"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "put": {
        "tags": [
          "Gateways"
        ],
        "summary": "Atualizar gateway",
        "description": "Atualiza os dados de um gateway (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/id"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "gateway": {
                    "$ref": "#/components/schemas/gatewayType"
                  },
                  "nome": {
                    "type": "string",
                    "description": "Nome do gateway"
                  },
                  "descricao": {
                    "type": "string",
                    "description": "Descrição do gateway"
                  },
                  "isDefault": {
                    "type": "boolean",
                    "description": "Define se é o gateway padrão da empresa"
                  },
                  "dados": {
                    "description": "Objeto JSON com credenciais/configurações. Enviar como JSON válido ou texto.",
                    "oneOf": [
                      {
                        "type": "object"
                      },
                      {
                        "type": "string"
                      }
                    ]
                  },
                  "empresaId": {
                    "type": "integer",
                    "description": "ID da empresa (opcional)"
                  },
                  "cert_pem": {
                    "type": "string",
                    "format": "binary",
                    "description": "Novo arquivo .pem (substitui o anterior)"
                  },
                  "cert_key": {
                    "type": "string",
                    "format": "binary",
                    "description": "Novo arquivo .key (substitui o anterior)"
                  }
                }
              }
            },
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "gateway": {
                    "$ref": "#/components/schemas/gatewayType"
                  },
                  "nome": {
                    "type": "string"
                  },
                  "descricao": {
                    "type": "string"
                  },
                  "isDefault": {
                    "type": "boolean"
                  },
                  "dados": {
                    "type": "object"
                  },
                  "empresaId": {
                    "type": "integer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "$ref": "#/components/responses/SuccessResponse"
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "delete": {
        "tags": [
          "Gateways"
        ],
        "summary": "Excluir gateway",
        "description": "Remove um gateway do sistema (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/id"
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/components/responses/SuccessResponse"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/mensagens": {
      "post": {
        "tags": [
          "Mensagens"
        ],
        "summary": "Criar mensagem",
        "description": "Cria uma nova mensagem (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "mensagem",
                  "tipo",
                  "status",
                  "hora",
                  "dias"
                ],
                "properties": {
                  "mensagem": {
                    "type": "string",
                    "minLength": 1,
                    "description": "Texto da mensagem"
                  },
                  "tipo": {
                    "type": "string",
                    "enum": [
                      "A_VENCER",
                      "NO_DIA",
                      "VENCIDA",
                      "COMPROVANTE",
                      "MANUAL",
                      "FINALIZACAO"
                    ],
                    "description": "Tipo da mensagem"
                  },
                  "status": {
                    "type": "boolean",
                    "description": "Status da mensagem"
                  },
                  "hora": {
                    "type": "string",
                    "description": "Hora da mensagem"
                  },
                  "dias": {
                    "type": "integer",
                    "minimum": 0,
                    "description": "Quantidade de dias"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Mensagem criada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Mensagem criada com sucesso"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "example": 1
                        },
                        "mensagem": {
                          "type": "string",
                          "example": "Sua fatura está próxima do vencimento"
                        },
                        "tipo": {
                          "type": "string",
                          "example": "A_VENCER"
                        },
                        "status": {
                          "type": "boolean",
                          "example": true
                        },
                        "hora": {
                          "type": "string",
                          "example": "08:00"
                        },
                        "dias": {
                          "type": "integer",
                          "example": 3
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Dados inválidos",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Não autorizado",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Acesso negado",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "Mensagens"
        ],
        "summary": "Listar mensagens",
        "description": "Lista todas as mensagens com paginação (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "Número da página"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "Limite de itens por página"
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            },
            "description": "Termo para busca"
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de mensagens",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Mensagem"
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer"
                        },
                        "pages": {
                          "type": "integer"
                        },
                        "page": {
                          "type": "integer"
                        },
                        "limit": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/mensagens/{id}": {
      "get": {
        "tags": [
          "Mensagens"
        ],
        "summary": "Buscar mensagem por ID",
        "description": "Retorna uma mensagem específica (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID da mensagem"
          }
        ],
        "responses": {
          "200": {
            "description": "Mensagem encontrada",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "$ref": "#/components/schemas/Mensagem"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Mensagem não encontrada"
          }
        }
      },
      "put": {
        "tags": [
          "Mensagens"
        ],
        "summary": "Atualizar mensagem",
        "description": "Atualiza uma mensagem existente (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID da mensagem"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "mensagem": {
                    "type": "string",
                    "minLength": 1
                  },
                  "tipo": {
                    "type": "string",
                    "enum": [
                      "A_VENCER",
                      "NO_DIA",
                      "VENCIDA",
                      "COMPROVANTE",
                      "MANUAL",
                      "FINALIZACAO"
                    ]
                  },
                  "status": {
                    "type": "boolean"
                  },
                  "hora": {
                    "type": "string"
                  },
                  "dias": {
                    "type": "integer",
                    "minimum": 0
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Mensagem atualizada com sucesso"
          },
          "404": {
            "description": "Mensagem não encontrada"
          }
        }
      },
      "delete": {
        "tags": [
          "Mensagens"
        ],
        "summary": "Excluir mensagem",
        "description": "Remove uma mensagem existente (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID da mensagem"
          }
        ],
        "responses": {
          "200": {
            "description": "Mensagem excluída com sucesso"
          },
          "404": {
            "description": "Mensagem não encontrada"
          }
        }
      }
    },
    "/mensagens/count/total": {
      "get": {
        "tags": [
          "Mensagens"
        ],
        "summary": "Contar total de mensagens",
        "description": "Retorna o número total de mensagens (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Total de mensagens",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "count": {
                      "type": "integer",
                      "example": 42
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/conexoes": {
      "post": {
        "tags": [
          "Conexões"
        ],
        "summary": "Criar conexão",
        "description": "Cria uma nova conexão (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "nome"
                ],
                "properties": {
                  "nome": {
                    "type": "string",
                    "minLength": 2,
                    "description": "Nome da conexão"
                  },
                  "numero": {
                    "type": "string",
                    "minLength": 10,
                    "description": "Número da conexão"
                  },
                  "tokenId": {
                    "type": "string",
                    "minLength": 1,
                    "description": "ID único do token para identificação na Evolution API"
                  },
                  "isDefault": {
                    "type": "boolean",
                    "description": "Indica se esta é a conexão padrão"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Conexão criada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Conexão criada com sucesso"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "example": 1
                        },
                        "nome": {
                          "type": "string",
                          "example": "Conexão WhatsApp"
                        },
                        "numero": {
                          "type": "string",
                          "example": "5511999999999"
                        },
                        "tokenId": {
                          "type": "string",
                          "example": "wx_abc123_1692547200000"
                        },
                        "isDefault": {
                          "type": "boolean",
                          "example": false
                        },
                        "status": {
                          "type": "string",
                          "enum": [
                            "open",
                            "connecting",
                            "close"
                          ],
                          "example": "connecting",
                          "description": "Status da conexão (somente leitura, atualizado via webhook)"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          }
        }
      },
      "get": {
        "tags": [
          "Conexões"
        ],
        "summary": "Listar conexões",
        "description": "Retorna lista paginada de conexões (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "Número da página"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "Itens por página"
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            },
            "description": "Termo de busca"
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de conexões",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginationResponse"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          }
        }
      }
    },
    "/conexoes/{id}": {
      "get": {
        "tags": [
          "Conexões"
        ],
        "summary": "Buscar conexão por ID",
        "description": "Retorna uma conexão específica (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID da conexão"
          }
        ],
        "responses": {
          "200": {
            "description": "Conexão encontrada",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "nome": {
                          "type": "string"
                        },
                        "numero": {
                          "type": "string"
                        },
                        "tokenId": {
                          "type": "string",
                          "example": "wx_abc123_1692547200000"
                        },
                        "isDefault": {
                          "type": "boolean"
                        },
                        "status": {
                          "type": "string",
                          "enum": [
                            "open",
                            "connecting",
                            "close"
                          ],
                          "description": "Status da conexão (somente leitura, atualizado via webhook)"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "put": {
        "tags": [
          "Conexões"
        ],
        "summary": "Atualizar conexão",
        "description": "Atualiza uma conexão existente (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID da conexão"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "nome": {
                    "type": "string",
                    "minLength": 2
                  },
                  "numero": {
                    "type": "string",
                    "minLength": 10
                  },
                  "tokenId": {
                    "type": "string",
                    "minLength": 1,
                    "description": "ID único do token para identificação na Evolution API"
                  },
                  "isDefault": {
                    "type": "boolean",
                    "description": "Indica se esta é a conexão padrão"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Conexão atualizada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Conexão atualizada com sucesso"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "nome": {
                          "type": "string"
                        },
                        "numero": {
                          "type": "string"
                        },
                        "tokenId": {
                          "type": "string",
                          "example": "wx_abc123_1692547200000"
                        },
                        "isDefault": {
                          "type": "boolean"
                        },
                        "status": {
                          "type": "string",
                          "enum": [
                            "open",
                            "connecting",
                            "close"
                          ],
                          "description": "Status da conexão (somente leitura, atualizado via webhook)"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "delete": {
        "tags": [
          "Conexões"
        ],
        "summary": "Excluir conexão",
        "description": "Remove uma conexão existente (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID da conexão"
          }
        ],
        "responses": {
          "200": {
            "description": "Conexão excluída com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Conexão excluída com sucesso"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/conexoes/count/total": {
      "get": {
        "tags": [
          "Conexões"
        ],
        "summary": "Contar total de conexões",
        "description": "Retorna o número total de conexões (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Total de conexões",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "total": {
                      "type": "integer",
                      "example": 42
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          }
        }
      }
    },
    "/conexoes/{id}/restart": {
      "post": {
        "tags": [
          "Conexões"
        ],
        "summary": "Reiniciar conexão Evolution",
        "description": "Reinicia a instância na Evolution API (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID da conexão"
          }
        ],
        "responses": {
          "200": {
            "description": "Conexão reiniciada",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/conexoes/{id}/stop": {
      "post": {
        "tags": [
          "Conexões"
        ],
        "summary": "Parar conexão Evolution",
        "description": "Para a instância na Evolution API (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID da conexão"
          }
        ],
        "responses": {
          "200": {
            "description": "Conexão parada",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/conexoes/{id}/send-message": {
      "post": {
        "tags": [
          "Conexões"
        ],
        "summary": "Enviar mensagem WhatsApp",
        "description": "Envia mensagem via Evolution API (GESTOR)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID da conexão"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "to"
                ],
                "properties": {
                  "to": {
                    "type": "string",
                    "description": "Número destino (formato internacional)"
                  },
                  "message": {
                    "type": "string",
                    "description": "Texto da mensagem (obrigatório se não houver mídia)"
                  },
                  "mediaUrl": {
                    "type": "string",
                    "description": "URL da mídia (opcional)"
                  },
                  "caption": {
                    "type": "string",
                    "description": "Legenda da mídia (opcional)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Mensagem enviada",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/conexoes/webhook/evolution": {
      "post": {
        "tags": [
          "Conexões"
        ],
        "summary": "Webhook da Evolution API",
        "description": "Recebe atualizações de status das conexões da Evolution API",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "event",
                  "instance",
                  "data"
                ],
                "properties": {
                  "event": {
                    "type": "string",
                    "example": "connection.update"
                  },
                  "instance": {
                    "type": "string",
                    "example": "instance_name"
                  },
                  "data": {
                    "type": "object",
                    "properties": {
                      "instance": {
                        "type": "string"
                      },
                      "state": {
                        "type": "string",
                        "enum": [
                          "open",
                          "connecting",
                          "close"
                        ]
                      },
                      "statusReason": {
                        "type": "number"
                      }
                    }
                  },
                  "destination": {
                    "type": "string"
                  },
                  "date_time": {
                    "type": "string"
                  },
                  "server_url": {
                    "type": "string"
                  },
                  "apikey": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Webhook processado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Webhook processado com sucesso"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "openapi": "3.0.0",
    "info": {
      "title": "Admin Stats API",
      "version": "1.0.0",
      "description": "API para estatísticas do dashboard administrativo"
    },
    "servers": [
      {
        "url": "http://localhost:3001/api/v1",
        "description": "Servidor de desenvolvimento"
      }
    ],
    "paths": {
      "/admin/stats": {
        "get": {
          "tags": [
            "Admin"
          ],
          "summary": "Buscar estatísticas do dashboard admin",
          "description": "Retorna estatísticas completas do sistema para o dashboard administrativo. Apenas SUPERADMIN pode acessar.",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "responses": {
            "200": {
              "description": "Estatísticas retornadas com sucesso",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "data": {
                        "$ref": "#/components/schemas/AdminStats"
                      }
                    }
                  }
                }
              }
            },
            "403": {
              "description": "Acesso negado - apenas SUPERADMIN",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  }
                }
              }
            },
            "500": {
              "description": "Erro interno do servidor",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/webhook/gateways/{gateway}": {
      "post": {
        "tags": [
          "Webhooks"
        ],
        "summary": "Webhook geral de gateways",
        "description": "Endpoint público para receber notificações de gateways de pagamento (vendas/vendas-finais)",
        "parameters": [
          {
            "name": "gateway",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "mercado_pago",
                "omie",
                "asaas",
                "cora"
              ]
            },
            "description": "Nome do gateway de pagamento"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "description": "Payload do webhook (formato varia por gateway)"
              }
            },
            "application/x-www-form-urlencoded": {
              "schema": {
                "type": "object",
                "description": "Payload do webhook em formato form (formato varia por gateway)"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Webhook processado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WebhookResponse"
                }
              }
            }
          },
          "500": {
            "description": "Erro interno do servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "description": "Mensagem de erro"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/webhook/gateways/{gateway}/planos": {
      "post": {
        "tags": [
          "Webhooks"
        ],
        "summary": "Webhook específico para planos",
        "description": "Endpoint público para receber notificações de gateways de pagamento exclusivamente para cobranças de planos (CompraPlanoEmpresa)",
        "parameters": [
          {
            "name": "gateway",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "mercado_pago",
                "omie",
                "asaas",
                "cora"
              ]
            },
            "description": "Nome do gateway de pagamento"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "description": "Payload do webhook (formato varia por gateway)"
              }
            },
            "application/x-www-form-urlencoded": {
              "schema": {
                "type": "object",
                "description": "Payload do webhook em formato form (formato varia por gateway)"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Webhook processado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WebhookResponse"
                }
              }
            }
          },
          "500": {
            "description": "Erro interno do servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "description": "Mensagem de erro"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/notificacoes": {
      "get": {
        "tags": [
          "Notificações"
        ],
        "summary": "Lista notificações",
        "description": "Lista notificações do usuário/empresa com paginação e filtros. SUPERADMIN pode ver todas as notificações, outros usuários veem apenas as da sua empresa.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "Número da página"
          },
          {
            "name": "perPage",
            "in": "query",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 20
            },
            "description": "Itens por página"
          },
          {
            "name": "lida",
            "in": "query",
            "schema": {
              "type": "boolean"
            },
            "description": "Filtrar por lida (true) ou não lida (false)"
          },
          {
            "name": "tipo",
            "in": "query",
            "schema": {
              "$ref": "#/components/schemas/TipoNotificacao"
            },
            "description": "Filtrar por tipo de notificação"
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de notificações",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Notificacao"
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "page": {
                          "type": "integer"
                        },
                        "perPage": {
                          "type": "integer"
                        },
                        "total": {
                          "type": "integer"
                        },
                        "totalPages": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      },
      "post": {
        "tags": [
          "Notificações"
        ],
        "summary": "Cria notificação",
        "description": "Cria uma nova notificação. SUPERADMIN pode criar para qualquer empresa, ADMIN/GESTOR apenas para sua empresa.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NotificacaoCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Notificação criada",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "$ref": "#/components/schemas/Notificacao"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/notificacoes/count": {
      "get": {
        "tags": [
          "Notificações"
        ],
        "summary": "Conta notificações não lidas",
        "description": "Retorna a quantidade de notificações não lidas do usuário/empresa.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Quantidade de notificações não lidas",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificacaoCount"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/notificacoes/:id": {
      "get": {
        "tags": [
          "Notificações"
        ],
        "summary": "Busca notificação por ID",
        "description": "Busca uma notificação específica por ID. Usuários só podem ver suas próprias notificações.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID da notificação"
          }
        ],
        "responses": {
          "200": {
            "description": "Notificação encontrada",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "$ref": "#/components/schemas/Notificacao"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      },
      "delete": {
        "tags": [
          "Notificações"
        ],
        "summary": "Deleta notificação",
        "description": "Deleta uma notificação. Usuários só podem deletar suas próprias notificações.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID da notificação"
          }
        ],
        "responses": {
          "200": {
            "description": "Notificação deletada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/notificacoes/:id/lida": {
      "put": {
        "tags": [
          "Notificações"
        ],
        "summary": "Marca notificação como lida",
        "description": "Marca uma notificação específica como lida.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "ID da notificação"
          }
        ],
        "responses": {
          "200": {
            "description": "Notificação marcada como lida",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/notificacoes/lidas": {
      "put": {
        "tags": [
          "Notificações"
        ],
        "summary": "Marca todas as notificações como lidas",
        "description": "Marca todas as notificações não lidas do usuário/empresa como lidas.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Notificações marcadas como lidas",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/tickets": {
      "post": {
        "tags": [
          "Tickets"
        ],
        "summary": "Criar novo ticket",
        "description": "Cria um novo ticket. CLIENTE não pode criar tickets. Requer autenticação e empresa vigente.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/CreateTicketRequest"
              },
              "encoding": {
                "anexos": {
                  "contentType": "application/octet-stream"
                }
              }
            },
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTicketRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Ticket criado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "$ref": "#/components/schemas/Ticket"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Dados inválidos",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "details": {
                      "type": "array"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Acesso negado - Cliente não pode criar tickets ou empresa vencida"
          },
          "500": {
            "description": "Erro interno do servidor"
          }
        }
      },
      "get": {
        "tags": [
          "Tickets"
        ],
        "summary": "Listar tickets",
        "description": "Lista tickets com paginação e filtros. Usuários veem apenas seus tickets, SUPERADMIN vê todos.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "Número da página"
          },
          {
            "name": "perPage",
            "in": "query",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 20
            },
            "description": "Itens por página"
          },
          {
            "name": "status",
            "in": "query",
            "schema": {
              "$ref": "#/components/schemas/StatusTicket"
            },
            "description": "Filtrar por status"
          },
          {
            "name": "tipo",
            "in": "query",
            "schema": {
              "$ref": "#/components/schemas/TipoTicket"
            },
            "description": "Filtrar por tipo"
          },
          {
            "name": "prioridade",
            "in": "query",
            "schema": {
              "$ref": "#/components/schemas/PrioridadeTicket"
            },
            "description": "Filtrar por prioridade"
          },
          {
            "name": "empresaId",
            "in": "query",
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "Filtrar por empresa (apenas SUPERADMIN)"
          },
          {
            "name": "search",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Buscar por título ou descrição"
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de tickets",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TicketPaginationResponse"
                }
              }
            }
          },
          "400": {
            "description": "Parâmetros inválidos"
          },
          "500": {
            "description": "Erro interno do servidor"
          }
        }
      }
    },
    "/tickets/{id}": {
      "get": {
        "tags": [
          "Tickets"
        ],
        "summary": "Buscar ticket por ID",
        "description": "Busca um ticket específico por ID com todas as mensagens. Usuários só podem ver seus próprios tickets, SUPERADMIN pode ver todos.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "ID do ticket"
          }
        ],
        "responses": {
          "200": {
            "description": "Ticket encontrado",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "$ref": "#/components/schemas/Ticket"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Ticket não encontrado ou sem permissão"
          },
          "500": {
            "description": "Erro interno do servidor"
          }
        }
      },
      "put": {
        "tags": [
          "Tickets"
        ],
        "summary": "Atualizar ticket",
        "description": "Atualiza status e/ou prioridade de um ticket. Apenas SUPERADMIN pode atualizar.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "ID do ticket"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateTicketRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Ticket atualizado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "$ref": "#/components/schemas/Ticket"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Dados inválidos"
          },
          "403": {
            "description": "Apenas SUPERADMIN pode atualizar tickets"
          },
          "404": {
            "description": "Ticket não encontrado"
          },
          "500": {
            "description": "Erro interno do servidor"
          }
        }
      },
      "delete": {
        "tags": [
          "Tickets"
        ],
        "summary": "Deletar ticket",
        "description": "Deleta um ticket. Apenas o criador ou SUPERADMIN podem deletar.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "ID do ticket"
          }
        ],
        "responses": {
          "200": {
            "description": "Ticket deletado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Ticket não encontrado ou sem permissão"
          },
          "500": {
            "description": "Erro interno do servidor"
          }
        }
      }
    },
    "/tickets/{id}/mensagens": {
      "post": {
        "tags": [
          "Tickets"
        ],
        "summary": "Adicionar mensagem ao ticket",
        "description": "Adiciona uma nova mensagem ao ticket. Apenas o criador ou SUPERADMIN podem adicionar mensagens.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "ID do ticket"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/AddMensagemRequest"
              },
              "encoding": {
                "anexos": {
                  "contentType": "application/octet-stream"
                }
              }
            },
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddMensagemRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Mensagem adicionada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "$ref": "#/components/schemas/TicketMensagem"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Dados inválidos"
          },
          "404": {
            "description": "Ticket não encontrado ou sem permissão"
          },
          "500": {
            "description": "Erro interno do servidor"
          }
        }
      }
    }
  }
}
"use strict";exports.id=926,exports.ids=[926],exports.modules={8059:(a,b,c)=>{c.d(b,{A:()=>h});var d=c(21124);c(38301);var e=c(58357),f=c(94260),g=c(79450);let h=({size:a="md",variant:b="primary",onClick:c,className:h="",disabled:i=!1,type:j="button",title:k="Editar",icon:l="edit"})=>{let m=`${"edit"===l||"eye"===l||"reload"===l||"stop"===l||"qrcode"===l?"text-gray-400 hover:text-brand-500 dark:hover:text-brand-400":"text-red-500 dark:text-red-400"} rounded-md flex items-center justify-center transition-colors`;return(0,d.jsx)(f.A,{variant:b,size:a,onClick:()=>c&&c(),className:`${m} ${h}`,title:k,type:j,disabled:i,children:l&&(a=>(0,d.jsx)("span",{className:"flex items-center",children:"edit"===a?(0,d.jsx)(e.qU,{className:"w-5 h-5 inline-block"}):"eye"===a?(0,d.jsx)(e.bM,{className:"w-5 h-5 inline-block"}):"reload"===a?(0,d.jsx)(e.jf,{className:"w-5 h-5 inline-block"}):"stop"===a?(0,d.jsx)(e.wF,{className:"w-5 h-5 inline-block"}):"qrcode"===a?(0,d.jsx)(e.sy,{className:"w-5 h-5 inline-block"}):"play"===a?(0,d.jsx)(g.A,{className:"w-5 h-5 inline-block text-green-500"}):(0,d.jsx)(e.b4,{className:"w-5 h-5 inline-block"})}))(l)})}},8129:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{A:()=>m});var e=c(21124),f=c(38301),g=c(50207),h=c(66088),i=c(49533),j=c(78552),k=c(34776),l=a([k]);k=(l.then?(await l)():l)[0];let n=[{value:"PROBLEMA",label:"Problema"},{value:"AJUDA",label:"Ajuda"},{value:"MELHORIA",label:"Melhoria"},{value:"SUGESTAO",label:"Sugest\xe3o"}],o=[{value:"BAIXA",label:"Baixa"},{value:"MEDIA",label:"M\xe9dia"},{value:"ALTA",label:"Alta"},{value:"URGENTE",label:"Urgente"}];function m({ticket:a,onSubmit:b,onCancel:c,loading:d=!1,editMode:l=!1}){let{user:m}=(0,k.A)();m?.role;let[p,q]=(0,f.useState)({titulo:"",descricao:"",tipo:"PROBLEMA",prioridade:"MEDIA",status:"ABERTO"}),[r,s]=(0,f.useState)([]),t=async a=>{if(a.preventDefault(),l)b({status:p.status,prioridade:p.prioridade});else{if(!p.titulo.trim()||!p.descricao.trim())return;b(p,r.length>0?r:void 0)}},u=a=>{let{name:b,value:c}=a.target;q(a=>({...a,[b]:c}))},v=a=>b=>{q(c=>({...c,[a]:b?.value}))},w=[{value:"ABERTO",label:"Aberto"},{value:"EM_ANDAMENTO",label:"Em Andamento"},{value:"RESOLVIDO",label:"Resolvido"},{value:"FECHADO",label:"Fechado"}];return(0,e.jsxs)("form",{onSubmit:t,className:"space-y-4",children:[!l&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{children:[(0,e.jsx)(j.A,{htmlFor:"titulo",children:"T\xedtulo *"}),(0,e.jsx)(g.A,{id:"titulo",name:"titulo",value:p.titulo,onChange:u,required:!0,placeholder:"Descreva brevemente o problema/sugest\xe3o","aria-label":"T\xedtulo do ticket"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)(j.A,{htmlFor:"descricao",children:"Descri\xe7\xe3o *"}),(0,e.jsx)("textarea",{id:"descricao",name:"descricao",value:p.descricao,onChange:u,required:!0,rows:6,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Descreva detalhadamente o problema, sugest\xe3o ou pedido de ajuda","aria-label":"Descri\xe7\xe3o do ticket"})]}),(0,e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)(j.A,{htmlFor:"tipo",children:"Tipo *"}),(0,e.jsx)(h.A,{id:"tipo",options:n,value:n.find(a=>a.value===p.tipo),onChange:v("tipo"),isSearchable:!1,placeholder:"Selecione o tipo","aria-label":"Tipo do ticket"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)(j.A,{htmlFor:"prioridade",children:"Prioridade *"}),(0,e.jsx)(h.A,{id:"prioridade",options:o,value:o.find(a=>a.value===p.prioridade),onChange:v("prioridade"),isSearchable:!1,placeholder:"Selecione a prioridade","aria-label":"Prioridade do ticket"})]})]})]}),l&&(0,e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)(j.A,{htmlFor:"status",children:"Status *"}),(0,e.jsx)(h.A,{id:"status",options:w,value:w.find(a=>a.value===p.status),onChange:v("status"),isSearchable:!1,placeholder:"Selecione o status","aria-label":"Status do ticket"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)(j.A,{htmlFor:"prioridade",children:"Prioridade *"}),(0,e.jsx)(h.A,{id:"prioridade",options:o,value:o.find(a=>a.value===p.prioridade),onChange:v("prioridade"),isSearchable:!1,placeholder:"Selecione a prioridade","aria-label":"Prioridade do ticket"})]})]}),!l&&(0,e.jsxs)("div",{children:[(0,e.jsx)(j.A,{htmlFor:"anexos",children:"Anexos (opcional)"}),(0,e.jsx)("input",{type:"file",id:"anexos",name:"anexos",multiple:!0,onChange:a=>{if(a.target.files){let b=Array.from(a.target.files);if(b.length>5)return void alert("M\xe1ximo de 5 arquivos permitidos");s(b)}},accept:"image/*,application/pdf,.doc,.docx,.xls,.xlsx,.txt,.csv",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white","aria-label":"Selecionar anexos"}),(0,e.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"M\xe1ximo 5 arquivos, 10MB cada. Formatos: imagens, PDFs, documentos do Office, textos."}),r.length>0&&(0,e.jsx)("div",{className:"mt-2 space-y-1",children:r.map((a,b)=>(0,e.jsxs)("div",{className:"flex items-center justify-between text-sm bg-gray-50 dark:bg-gray-800 p-2 rounded",children:[(0,e.jsxs)("span",{className:"text-gray-700 dark:text-gray-300 truncate",children:[a.name," (",(a.size/1024/1024).toFixed(2)," MB)"]}),(0,e.jsx)("button",{type:"button",onClick:()=>{s(a=>a.filter((a,c)=>c!==b))},className:"text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 ml-2","aria-label":`Remover ${a.name}`,children:"âœ•"})]},b))})]}),(0,e.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,e.jsx)(i.A,{type:"button",variant:"outline",onClick:c,disabled:d,"aria-label":"Cancelar",children:"Cancelar"}),(0,e.jsx)(i.A,{type:"submit",variant:"primary",disabled:d||!l&&(!p.titulo.trim()||!p.descricao.trim()),"aria-label":a?"Atualizar ticket":"Criar ticket",children:d?"Salvando...":l?"Atualizar Status":a?"Atualizar":"Criar Ticket"})]})]})}d()}catch(a){d(a)}})},50207:(a,b,c)=>{c.d(b,{A:()=>e});var d=c(21124);c(38301);let e=({type:a="text",id:b,name:c,placeholder:e,defaultValue:f,onChange:g,min:h,max:i,step:j,disabled:k=!1,success:l=!1,error:m=!1,hint:n,value:o,required:p,className:q="",...r})=>{let s=`h-11 w-full rounded-lg border px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:outline-hidden focus:ring-3 ${q}`;if("date"!==a&&(s+=" appearance-none"),k)s+=" text-gray-500 border-gray-300 cursor-not-allowed dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700";else if(m){if(s+=" text-error-800 border-error-500 focus:ring-3 focus:ring-error-500/10  dark:text-error-400 dark:border-error-500","string"==typeof m)return(0,d.jsxs)("div",{children:[(0,d.jsx)("input",{...r,type:a,id:b,name:c,placeholder:e,defaultValue:f,onChange:g,className:s,min:h,max:i,step:j,disabled:k,value:o,required:p}),(0,d.jsx)("p",{className:"mt-1 text-xs text-error-500",children:m})]})}else l?s+=" text-success-500 border-success-400 focus:ring-success-500/10 focus:border-success-300  dark:text-success-400 dark:border-success-500":s+=" bg-transparent text-gray-800 border-gray-300 focus:border-brand-300 focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:focus:border-brand-800";return(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("input",{...r,type:a,id:b,name:c,placeholder:e,value:o,defaultValue:f,onChange:g,min:h,max:i,required:p,step:j,disabled:k,className:s}),n&&(0,d.jsx)("p",{className:`mt-1.5 text-xs ${m?"text-error-500":l?"text-success-500":"text-gray-500"}`,children:n})]})}},58518:(a,b,c)=>{c.d(b,{A:()=>h});var d=c(21124);c(38301);let e=a=>(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...a,children:(0,d.jsx)("polyline",{points:"15 18 9 12 15 6"})}),f=a=>(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...a,children:(0,d.jsx)("polyline",{points:"9 18 15 12 9 6"})});var g=c(94260);let h=({currentPage:a,totalPages:b,onPageChange:c})=>(0,d.jsxs)("nav",{className:"flex justify-center items-center space-x-2",children:[(0,d.jsx)(g.A,{variant:"secondary",size:"sm",onClick:()=>c(a-1),disabled:1===a,children:(0,d.jsx)(e,{className:"h-5 w-5"})}),(()=>{let e=[],f=Math.max(1,a-2),h=Math.min(b,a+2);f>1&&(e.push((0,d.jsx)(g.A,{variant:1===a?"primary":"secondary",size:"sm",onClick:()=>c(1),className:"hidden sm:block",children:"1"},1)),f>2&&e.push((0,d.jsx)("span",{className:"px-2 py-2 text-gray-500 dark:text-gray-400",children:"..."},"start-ellipsis")));for(let b=f;b<=h;b++)e.push((0,d.jsx)(g.A,{variant:a===b?"primary":"secondary",size:"sm",onClick:()=>c(b),children:b},b));return h<b&&(h<b-1&&e.push((0,d.jsx)("span",{className:"px-2 py-2 text-gray-500 dark:text-gray-400",children:"..."},"end-ellipsis")),e.push((0,d.jsx)(g.A,{variant:a===b?"primary":"secondary",size:"sm",onClick:()=>c(b),className:"hidden sm:block",children:b},b))),e})(),(0,d.jsx)(g.A,{variant:"secondary",size:"sm",onClick:()=>c(a+1),disabled:a===b,children:(0,d.jsx)(f,{className:"h-5 w-5"})})]})},66088:(a,b,c)=>{c.d(b,{A:()=>g});var d=c(21124);c(38301);var e=c(25581),f=c(26424);function g({error:a,className:b="",...c}){let{isDark:g}=(0,f.D)();return(0,d.jsxs)("div",{className:b,children:[(0,d.jsx)(e.Ay,{...c,styles:{control:(b,c)=>({...b,backgroundColor:g?"#1F2937":"#fff",borderColor:a?"#EF4444":c.isFocused?"#3B82F6":g?"#374151":"#D1D5DB",borderRadius:"0.375rem",boxShadow:c.isFocused?"0 0 0 2px rgba(59, 130, 246, 0.5)":"none","&:hover":{borderColor:c.isFocused?"#3B82F6":g?"#4B5563":"#9CA3AF"},minHeight:"2.5rem"}),menu:a=>({...a,backgroundColor:g?"#1F2937":"#fff",borderColor:g?"#374151":"#D1D5DB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(a,b)=>({...a,backgroundColor:b.isSelected?g?"#3B82F6":"#2563EB":b.isFocused?g?"#374151":"#F3F4F6":"transparent",color:b.isSelected?"#fff":g?"#D1D5DB":"#111827",cursor:"pointer","&:active":{backgroundColor:g?"#2563EB":"#3B82F6"}}),singleValue:a=>({...a,color:g?"#D1D5DB":"#111827"}),input:a=>({...a,color:g?"#D1D5DB":"#111827"}),placeholder:a=>({...a,color:g?"#6B7280":"#9CA3AF"}),indicatorSeparator:a=>({...a,backgroundColor:g?"#374151":"#D1D5DB"}),dropdownIndicator:a=>({...a,color:g?"#6B7280":"#9CA3AF","&:hover":{color:g?"#D1D5DB":"#4B5563"}}),clearIndicator:a=>({...a,color:g?"#6B7280":"#9CA3AF","&:hover":{color:g?"#D1D5DB":"#4B5563"}})},classNamePrefix:"react-select",className:a?"react-select-error":""}),a&&(0,d.jsx)("p",{className:"mt-1 text-sm text-red-500",children:a})]})}},78552:(a,b,c)=>{c.d(b,{A:()=>f});var d=c(21124);c(38301);var e=c(58829);let f=({htmlFor:a,children:b,className:c})=>(0,d.jsx)("label",{htmlFor:a,className:(0,e.QP)("mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400",c),children:b})},78809:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{A:()=>j});var e=c(21124);c(38301);var f=c(81405),g=c(8059),h=c(34776),i=a([h]);function j({ticket:a,onView:b,onEdit:c,onDelete:d}){let{user:i}=(0,h.A)(),j=i?.role==="SUPERADMIN";return(0,e.jsx)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-5 hover:shadow-lg transition-shadow duration-200",children:(0,e.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,e.jsxs)("div",{className:"flex-1",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:a.titulo}),(0,e.jsxs)("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[(0,e.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${function(a){switch(a){case"ABERTO":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";case"EM_ANDAMENTO":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400";case"RESOLVIDO":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}}(a.status)}`,children:function(a){switch(a){case"ABERTO":return"Aberto";case"EM_ANDAMENTO":return"Em Andamento";case"RESOLVIDO":return"Resolvido";case"FECHADO":return"Fechado";default:return a}}(a.status)}),(0,e.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${function(a){switch(a){case"BAIXA":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"MEDIA":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";case"ALTA":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400";case"URGENTE":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}}(a.prioridade)}`,children:function(a){switch(a){case"BAIXA":return"Baixa";case"MEDIA":return"M\xe9dia";case"ALTA":return"Alta";case"URGENTE":return"Urgente";default:return a}}(a.prioridade)}),(0,e.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",children:function(a){switch(a){case"PROBLEMA":return"Problema";case"AJUDA":return"Ajuda";case"MELHORIA":return"Melhoria";case"SUGESTAO":return"Sugest\xe3o";default:return a}}(a.tipo)})]}),(0,e.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2 mb-3",children:a.descricao}),(0,e.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm mb-3",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Criado por: "}),(0,e.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:a.criador?.nome||"N/A"})]}),j&&a.empresa&&(0,e.jsxs)("div",{children:[(0,e.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Empresa: "}),(0,e.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:a.empresa.nome})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Data: "}),(0,e.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:(0,f.Yq)(a.createdAt)})]}),a._count&&(0,e.jsxs)("div",{children:[(0,e.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Mensagens: "}),(0,e.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:a._count.mensagens})]})]})]}),(0,e.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,e.jsx)(g.A,{variant:"secondary",size:"xs",onClick:b,title:"Visualizar Ticket",icon:"eye"}),j&&c&&(0,e.jsx)(g.A,{variant:"secondary",size:"xs",onClick:c,title:"Editar Ticket",icon:"edit"}),d&&(0,e.jsx)(g.A,{variant:"secondary",size:"xs",onClick:d,title:"Excluir Ticket",icon:"delete"})]})]})})}h=(i.then?(await i)():i)[0],d()}catch(a){d(a)}})},79450:(a,b,c)=>{c.d(b,{A:()=>e});var d=c(38301);let e=d.forwardRef(function({title:a,titleId:b,...c},e){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":b},c),a?d.createElement("title",{id:b},a):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))})},94260:(a,b,c)=>{c.d(b,{A:()=>e});var d=c(21124);c(38301);let e=({variant:a="primary",size:b="md",loading:c=!1,fullWidth:e=!1,className:f="",children:g,disabled:h,...i})=>{let j=["inline-flex items-center justify-center font-medium transition-colors rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",{success:"bg-green-500 text-white hover:bg-green-600 focus:ring-green-500",primary:"bg-brand-500 text-white hover:bg-brand-600 focus:ring-brand-500 disabled:bg-brand-300",secondary:"bg-gray-100 text-gray-700 hover:bg-gray-200 focus:ring-gray-500 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600",danger:"bg-error-500 text-white hover:bg-error-600 focus:ring-error-500"}[a],{xs:"px-2 py-1 text-xs",sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-base"}[b],e?"w-full":"",h||c?"opacity-50 cursor-not-allowed":"",f].join(" ");return(0,d.jsxs)("button",{className:j,disabled:h||c,...i,children:[c&&(0,d.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,d.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,d.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),g]})}}};
module.exports=[66497,a=>{"use strict";var b=a.i(72131);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))});a.s(["ExclamationTriangleIcon",0,c],66497)},67110,a=>{"use strict";var b=a.i(72131);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))});a.s(["QrCodeIcon",0,c],67110)},94988,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(77845);let e=(0,c.forwardRef)(({label:a,error:c,icon:e,variant:f="primary",className:g,containerClassName:h,...i},j)=>(0,b.jsxs)("div",{className:h,children:[a&&(0,b.jsx)("label",{className:"mb-2.5 block font-medium text-black dark:text-white",children:a}),(0,b.jsxs)("div",{className:"relative",children:[e&&(0,b.jsx)("div",{className:"absolute left-4 top-1/2 -translate-y-1/2",children:e}),(0,b.jsx)("input",{ref:j,className:(0,d.cn)("w-full rounded-lg border border-stroke bg-transparent px-4 py-3 outline-none transition","focus-visible:shadow-none dark:border-gray-600 dark:bg-gray-900",e?"pl-12":"",{primary:"focus:border-primary",secondary:"focus:border-gray-400",danger:"border-red-500 focus:border-red-500"}[f],c&&"!border-red-500",g),...i})]}),c&&(0,b.jsx)("span",{className:"mt-1 block text-sm text-red-500",children:c})]}));e.displayName="Input",a.s(["default",0,e])},23989,a=>a.a(async(b,c)=>{try{var d=a.i(87924),e=a.i(72131),f=a.i(50944),g=a.i(90365),h=a.i(52647),i=a.i(30467),j=a.i(29514),k=a.i(40772),l=a.i(66497),m=a.i(67110);a.i(54828);var n=a.i(41926),o=a.i(62097),p=a.i(96369),q=a.i(16777),r=a.i(6704),s=a.i(91119),t=a.i(32101),u=a.i(39906),v=a.i(94988),w=a.i(71987),x=b([g]);function y(){let a=(0,f.useRouter)(),[b,c]=(0,e.useState)({planoAtual:null,comprasPendentes:[]}),[x,y]=(0,e.useState)(!0),[z,A]=(0,e.useState)(!1),[B,C]=(0,e.useState)(null),[D,E]=(0,e.useState)(!1),[F,G]=(0,e.useState)(!1),H=(0,e.useCallback)(async()=>{try{y(!0);let a=await g.services.compraPlano.getPlanoAtual();c(a.data)}catch(a){console.error("Erro ao carregar plano atual:",a),r.default.error("Erro ao carregar informações do plano")}finally{y(!1)}},[]);(0,e.useEffect)(()=>{G(!0),H()},[H]);let I=async a=>{try{E(!0),await g.services.compraPlano.gerarCobranca(a.id),r.default.success("Cobrança gerada com sucesso!"),H()}catch(a){console.error("Erro ao gerar cobrança:",a),r.default.error(a.response?.data?.error||"Erro ao gerar cobrança")}finally{E(!1)}},J=async a=>{try{await navigator.clipboard.writeText(a),r.default.success("Código PIX copiado para a área de transferência!")}catch(a){r.default.error("Erro ao copiar código PIX")}},K=async a=>{try{await navigator.clipboard.writeText(a),r.default.success("Código de barras copiado para a área de transferência!")}catch(a){r.default.error("Erro ao copiar código de barras")}};return x?(0,d.jsx)("div",{className:"p-4 sm:p-6 lg:p-8",children:(0,d.jsxs)("div",{className:"animate-pulse space-y-6",children:[(0,d.jsx)("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/3"}),(0,d.jsx)("div",{className:"h-48 bg-gray-200 dark:bg-gray-700 rounded"}),(0,d.jsx)("div",{className:"h-32 bg-gray-200 dark:bg-gray-700 rounded"})]})}):(0,d.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8",children:[(0,d.jsxs)("div",{className:"mb-8",children:[(0,d.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-2",children:"Plano Atual"}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Visualize seu plano atual e compras pendentes"})]}),b.planoAtual?(0,d.jsxs)(s.Card,{className:"p-6 mb-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Plano Ativo"}),(0,d.jsx)(t.default,{color:"success",children:"Ativo"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(i.CreditCardIcon,{className:"h-6 w-6 text-green-500"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Plano"}),(0,d.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white",children:b.planoAtual.plano?.nome||"N/A"})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(j.CheckCircleIcon,{className:"h-6 w-6 text-green-500"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Valor Pago"}),(0,d.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white",children:(0,h.formatCurrency)(b.planoAtual.valor)})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(k.ClockIcon,{className:"h-6 w-6 text-green-500"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Data do Pagamento"}),(0,d.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white",children:b.planoAtual.dataPagamento?(0,h.formatDate)(b.planoAtual.dataPagamento):"N/A"})]})]})]})]}):(0,d.jsx)(s.Card,{className:"p-6 mb-6",children:(0,d.jsxs)("div",{className:"text-center py-8",children:[(0,d.jsx)(l.ExclamationTriangleIcon,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Nenhum Plano Ativo"}),(0,d.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Você ainda não possui um plano ativo. Contrate um plano para começar a usar o sistema."}),(0,d.jsx)(p.default,{variant:"primary",onClick:()=>a.push("/dashboard/empresa/planos/contratar"),children:"Contratar Plano"})]})}),b.comprasPendentes.length>0&&(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Compras Pendentes"}),(0,d.jsx)("div",{className:"space-y-4",children:b.comprasPendentes.map(a=>(0,d.jsxs)(s.Card,{className:"p-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a.plano?.nome||"Plano"}),(0,d.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Contratado em ",(0,h.formatDate)(a.createdAt)]})]}),(0,d.jsx)(t.default,{color:"warning",children:"Pendente"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Valor"}),(0,d.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white",children:(0,h.formatCurrency)(Number(a.valor))})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Vencimento"}),(0,d.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white",children:a.vencimento?(0,h.formatDate)(a.vencimento):"N/A"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Status"}),(0,d.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white",children:"PENDENTE"===a.status?"Aguardando Pagamento":"Pago"})]})]}),(0,d.jsx)("div",{className:"flex gap-3",children:a.copiacola||a.codigobarra?(0,d.jsxs)(d.Fragment,{children:[a.copiacola&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(p.default,{variant:"outline",onClick:()=>J(a.copiacola),startIcon:(0,d.jsx)(n.CopyIcon,{}),children:"Copiar PIX"}),(0,d.jsx)(p.default,{variant:"outline",onClick:()=>{C(a),A(!0)},startIcon:(0,d.jsx)(o.QrcodeIcon,{}),children:"Ver QR Code"})]}),a.codigobarra&&(0,d.jsx)(p.default,{variant:"outline",onClick:()=>K(a.codigobarra),startIcon:(0,d.jsx)(n.CopyIcon,{}),children:"Copiar Boleto"})]}):(0,d.jsx)(p.default,{variant:"primary",onClick:()=>I(a),disabled:D,children:D?"Gerando...":"Gerar Cobrança"})})]},a.id))})]}),(0,d.jsx)("div",{className:"text-center",children:(0,d.jsx)(p.default,{variant:"outline",onClick:()=>a.push("/dashboard/empresa/planos/contratar"),children:"Contratar Outro Plano"})}),F&&(0,d.jsx)(q.Modal,{isOpen:z,onClose:()=>{A(!1),C(null)},className:"max-w-[500px] m-4",children:(0,d.jsxs)("div",{className:"no-scrollbar relative w-full overflow-y-auto rounded-3xl bg-white p-4 dark:bg-gray-900 lg:p-11",children:[(0,d.jsxs)("div",{className:"px-2 pr-14",children:[(0,d.jsx)("h4",{className:"mb-2 text-2xl font-semibold text-gray-800 dark:text-white/90",children:"QR Code PIX"}),(0,d.jsx)("p",{className:"mb-6 text-sm text-gray-500 dark:text-gray-400 lg:mb-7",children:"Escaneie o QR Code para realizar o pagamento."})]}),B&&(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("h5",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:B.plano?.nome}),(0,d.jsx)("p",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:(0,h.formatCurrency)(B.valor)})]}),B.qrcode?(0,d.jsx)("div",{className:"text-center",children:(0,d.jsx)(w.default,{src:B.qrcode?.startsWith("data:")?B.qrcode:`data:image/png;base64,${B.qrcode}`,alt:"QR Code PIX",width:100,height:100,className:"mx-auto max-w-full h-auto",loading:"lazy"})}):(0,d.jsxs)("div",{className:"text-center py-8",children:[(0,d.jsx)(m.QrCodeIcon,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,d.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"QR Code não disponível"})]}),B.copiacola&&(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(u.default,{children:"Código PIX"}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(v.default,{value:B.copiacola,readOnly:!0,className:"flex-1"}),(0,d.jsx)(p.default,{variant:"outline",onClick:()=>J(B.copiacola),startIcon:(0,d.jsx)(n.CopyIcon,{}),children:"Copiar"})]})]})]}),(0,d.jsx)("div",{className:"flex justify-end gap-3 pt-4",children:(0,d.jsx)(p.default,{type:"button",variant:"outline",onClick:()=>{A(!1),C(null)},children:"Fechar"})})]})})]})}[g]=x.then?(await x)():x,a.s(["default",()=>y]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=_2eeafa95._.js.map
module.exports=[67820,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(52647),e=a.i(96438),f=a.i(8922);a.s(["default",0,({venda:a,onEdit:g,onDelete:h,onViewInvoices:i})=>{let[j,k]=(0,c.useState)(!1);return(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-5 hover:shadow-lg transition-shadow duration-200",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:["Venda #",a.id]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${(a=>{switch(a){case"PAGO":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"PENDENTE":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}})(a.status)}`,children:(a=>{switch(a){case"PAGO":return"Pago";case"PENDENTE":return"Pendente";default:return a}})(a.status)}),(0,b.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[a.uuid.slice(0,8),"..."]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Cliente: "}),(0,b.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:a.cliente?.nome||`ID: ${a.clienteId}`})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Vendedor: "}),(0,b.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:a.vendedor?.nome||`ID: ${a.vendedorId}`})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,b.jsx)(f.default,{variant:"secondary",size:"xs",onClick:i,title:"Ver Faturas",icon:"eye"}),(0,b.jsx)(f.default,{variant:"secondary",size:"xs",onClick:g,title:"Editar Venda",icon:"edit"}),(0,b.jsx)(f.default,{title:"Excluir Venda",icon:"delete",variant:"secondary",size:"xs",onClick:h})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Valor Unit√°rio"}),(0,b.jsx)("dd",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:(0,d.formatCurrency)(a.valor)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Valor Total"}),(0,b.jsx)("dd",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:(0,d.formatCurrency)(a.valorTotal)})]})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Data de In√≠cio"}),(0,b.jsx)("dd",{className:"text-sm text-gray-900 dark:text-white",children:(0,d.formatDate)(a.inicio)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Data de Fim"}),(0,b.jsx)("dd",{className:"text-sm text-gray-900 dark:text-white",children:(0,d.formatDate)(a.fim)})]})]}),a.quantidadeRecorrencia>0&&(0,b.jsxs)("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-blue-900 dark:text-blue-300 mb-2",children:"üìÖ Venda Recorrente"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-blue-700 dark:text-blue-400",children:"Intervalo: "}),(0,b.jsxs)("span",{className:"font-medium text-blue-900 dark:text-blue-200",children:[a.recorrencia," dias"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-blue-700 dark:text-blue-400",children:"Repeti√ß√µes: "}),(0,b.jsx)("span",{className:"font-medium text-blue-900 dark:text-blue-200",children:a.quantidadeRecorrencia})]})]}),(0,b.jsxs)("div",{className:"mt-2 text-xs text-blue-700 dark:text-blue-400",children:["Total de cobran√ßas: ",a.quantidadeRecorrencia+1]})]})]}),a.gateway&&(0,b.jsx)("div",{className:`mb-${a.produtos&&a.produtos.length>0?"4":"0"} p-3 bg-gray-50 dark:bg-gray-700 rounded-lg`,children:(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Gateway: "}),(0,b.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:a.gateway.nome})]})}),a.produtos&&a.produtos.length>0&&(0,b.jsxs)("div",{className:"mb-0",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Produtos (",a.produtos.length,")"]}),(0,b.jsx)(e.default,{variant:"secondary",size:"sm",onClick:()=>k(!j),className:"text-xs",children:j?"Ocultar":"Mostrar"})]}),j&&(0,b.jsx)("div",{className:"space-y-2",children:a.produtos?.map(a=>(0,b.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded p-3",children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:a.produto.nome}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Qtd:"}),(0,b.jsx)("span",{className:"ml-1 text-gray-900 dark:text-white",children:a.quantidade})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Unit:"}),(0,b.jsx)("span",{className:"ml-1 text-gray-900 dark:text-white",children:(0,d.formatCurrency)(a.valorUnitario)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Total:"}),(0,b.jsx)("span",{className:"ml-1 font-medium text-green-600 dark:text-green-400",children:(0,d.formatCurrency)(a.valorTotal)})]})]})]})},a.id))})]})]})}])},78777,a=>a.a(async(b,c)=>{try{var d=a.i(87924),e=a.i(72131),f=a.i(49744),g=a.i(33031),h=a.i(43742),i=a.i(17116),j=a.i(91262),k=a.i(50322),l=a.i(96438),m=a.i(39323),n=a.i(39906),o=a.i(622),p=a.i(52647),q=a.i(6704),r=a.i(34165),s=b([f,g,h,i,j,k]);[f,g,h,i,j,k]=s.then?(await s)():s;let t=[{value:"PIX",label:"PIX"},{value:"BOLETO",label:"Boleto"}],u=[{value:"PENDENTE",label:"Pendente"},{value:"PAGO",label:"Pago"}];a.s(["default",0,({venda:a,onSubmit:b,onCancel:c})=>{let[s,v]=(0,e.useState)({valor:a?.valor||0,valorTotal:a?.valorTotal||0,inicio:a?.inicio?new Date(a.inicio):new Date,clienteId:a?.clienteId||0,vendedorId:a?.vendedorId||0,type:a?.type||"PIX",produtos:a?.produtos||[],status:a?.status||"PENDENTE",recorrencia:a?.recorrencia||0,quantidadeRecorrencia:a?.quantidadeRecorrencia||0,gatewayId:a?.gatewayId||void 0,conexaoId:a?.conexaoId||void 0}),[w,x]=(0,e.useState)([]),[y,z]=(0,e.useState)([]),[A,B]=(0,e.useState)([]),[C,D]=(0,e.useState)([]),[E,F]=(0,e.useState)([]),[G,H]=(0,e.useState)(null),[I,J]=(0,e.useState)(!0),[K,L]=(0,e.useState)(!1),[M,N]=(0,e.useState)(a?.valor?(0,p.formatCurrency)(a.valor).replace("R$","").trim():""),O=G?.role==="VENDEDOR";(0,e.useEffect)(()=>{(async()=>{try{J(!0);let b=await k.authService.getMe();H(b.data);let[c,d,e,l]=await Promise.all([f.clienteService.list({limit:100}),g.produtoService.list({limit:100}),h.gatewayService.list({limit:100}),j.conexaoService.list({limit:100})]);if(x(c.data||[]),z(d.data||[]),B(e.data||[]),D(l.data||[]),b.data?.role!=="VENDEDOR")try{let a=await i.vendedorService.list({limit:100});F(a.data||[])}catch(a){console.error("Erro ao carregar vendedores:",a)}!a&&b.data&&"VENDEDOR"===b.data.role&&v(a=>({...a,vendedorId:b.data.id}))}catch(a){console.error("Erro ao carregar dados:",a),q.toast.error("Erro ao carregar dados necess√°rios")}finally{J(!1)}})()},[a]),(0,e.useEffect)(()=>{let a=s.valor;s.recorrencia&&s.recorrencia>0&&s.quantidadeRecorrencia&&s.quantidadeRecorrencia>0&&(a=s.valor*(s.quantidadeRecorrencia+1)),a!==s.valorTotal&&v(b=>({...b,valorTotal:a}))},[s.valor,s.recorrencia,s.quantidadeRecorrencia,s.valorTotal]);let P=async a=>{if(a.preventDefault(),!s.inicio)return void q.toast.error("Data de in√≠cio √© obrigat√≥ria");if(!s.clienteId||s.clienteId<=0)return void q.toast.error("Cliente √© obrigat√≥rio");if(!s.vendedorId||s.vendedorId<=0)return void q.toast.error("Vendedor √© obrigat√≥rio");if(!s.valor||s.valor<=0)return void q.toast.error("Valor deve ser maior que zero");let c=A.find(a=>a.isDefault);if(!s.gatewayId&&!c)return void q.toast.error("Gateway de pagamento √© obrigat√≥rio quando n√£o h√° gateway padr√£o");if(s.recorrencia&&s.recorrencia>0){if(!s.quantidadeRecorrencia||s.quantidadeRecorrencia<1)return void q.toast.error("Quantidade de recorr√™ncias deve ser pelo menos 1");if(s.recorrencia<1)return void q.toast.error("Intervalo de recorr√™ncia deve ser pelo menos 1 dia")}if(s.produtos&&s.produtos.some(a=>!a.produtoId||!a.quantidade))return void q.toast.error("Todos os campos dos produtos s√£o obrigat√≥rios");try{L(!0),await b(s)}catch(a){console.error("Erro ao salvar venda:",a)}finally{L(!1)}},Q=(a,b,c)=>{let d=[...s.produtos||[]];d[a]={...d[a],[b]:c},v(a=>({...a,produtos:d}))},R=w.map(a=>({value:a.id.toString(),label:`${a.nome} ${a.cpfCnpj?`(${a.cpfCnpj})`:""}`})),S=y.map(a=>({value:a.id.toString(),label:`${a.nome} - ${(0,p.formatCurrency)(a.valor)}`})),T=A.map(a=>({value:a.id.toString(),label:`${a.nome} (${a.gateway}) ${a.isDefault?"(Padr√£o)":""}`})),U=C.map(a=>({value:a.id.toString(),label:`${a.nome} ${a.isDefault?"(Padr√£o)":""}`})),V=E.map(a=>({value:a.id.toString(),label:`${a.nome} (${a.email})`}));return I?(0,d.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),(0,d.jsx)("p",{children:"Carregando dados..."})]})}):(0,d.jsxs)("form",{onSubmit:P,className:"space-y-6",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(n.default,{htmlFor:"clienteId",children:"Cliente *"}),(0,d.jsx)(o.default,{value:R.find(a=>a.value===s.clienteId.toString()),onChange:a=>{v(b=>({...b,clienteId:a?parseInt(a.value):0}))},options:R,placeholder:"Selecione um cliente",isClearable:!1})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(n.default,{htmlFor:"vendedor",children:"Vendedor *"}),O?(0,d.jsx)(m.default,{id:"vendedor",type:"text",value:G?`${G.nome} (${G.email})`:"Carregando...",readOnly:!0,className:"bg-gray-50"}):(0,d.jsx)(o.default,{value:V.find(a=>a.value===s.vendedorId?.toString()),onChange:a=>{v(b=>({...b,vendedorId:a?parseInt(a.value):0}))},options:V,placeholder:"Selecione um vendedor",isClearable:!1})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(n.default,{htmlFor:"type",children:"Tipo *"}),(0,d.jsx)(o.default,{value:t.find(a=>a.value===s.type),onChange:a=>{v(b=>({...b,type:a?.value||"PIX"}))},options:t,isClearable:!1})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(n.default,{htmlFor:"valor",children:"Valor *"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("span",{className:"absolute z-1 left-3 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-300",children:"R$"}),(0,d.jsx)(m.default,{id:"valor",type:"text",className:"pl-9",value:M,onChange:a=>{let b=a.target.value.replace(/\D/g,"");if(""===b){N(""),v(a=>({...a,valor:0}));return}let c=(0,p.formatCurrencyInput)(b);N(c),v(a=>({...a,valor:(0,p.parseCurrencyInput)(b)}))},placeholder:"0,00",required:!0})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(n.default,{htmlFor:"inicio",children:"Data de In√≠cio *"}),(0,d.jsx)(r.default,{id:"data",onChange:a=>{a[0]&&v({...s,inicio:a[0]})},defaultDate:new Date(s.inicio||new Date)})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(n.default,{htmlFor:"status",children:"Status *"}),(0,d.jsx)(o.default,{value:u.find(a=>a.value===s.status),onChange:a=>{v(b=>({...b,status:a?.value||"PENDENTE"}))},options:u,isClearable:!1})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(n.default,{htmlFor:"gatewayId",children:"Gateway de Pagamento"}),(0,d.jsx)(o.default,{value:T.find(a=>a.value===s.gatewayId?.toString()),onChange:a=>{v(b=>({...b,gatewayId:a?parseInt(a.value):void 0}))},options:T,placeholder:"Selecione um gateway (opcional)",isClearable:!0})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(n.default,{htmlFor:"conexaoId",children:"Conex√£o WhatsApp"}),(0,d.jsx)(o.default,{value:U.find(a=>a.value===s.conexaoId?.toString()),onChange:a=>{v(b=>({...b,conexaoId:a?parseInt(a.value):void 0}))},options:U,placeholder:"Selecione uma conex√£o (opcional)",isClearable:!0})]})]}),(0,d.jsxs)("div",{className:"space-y-4 p-4 border rounded-lg bg-gray-50 dark:bg-gray-700",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("input",{title:"Venda recorrente",type:"checkbox",id:"recorrencia",checked:(s.recorrencia||0)>0,onChange:a=>v(b=>({...b,recorrencia:30*!!a.target.checked,quantidadeRecorrencia:+!!a.target.checked})),className:"rounded border-gray-300"}),(0,d.jsx)(n.default,{htmlFor:"recorrencia",className:"font-semibold",children:"Venda recorrente"})]}),(s.recorrencia||0)>0&&(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(n.default,{htmlFor:"recorrencia",children:"Intervalo (dias) *"}),(0,d.jsx)(m.default,{id:"recorrencia",type:"number",min:1,value:s.recorrencia||30,onChange:a=>v(b=>({...b,recorrencia:parseInt(a.target.value)||30})),placeholder:"30"}),(0,d.jsx)("small",{className:"text-gray-600 dark:text-gray-400",children:"Intervalo em dias entre cada cobran√ßa"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(n.default,{htmlFor:"quantidadeRecorrencia",children:"Quantidade de Repeti√ß√µes *"}),(0,d.jsx)(m.default,{id:"quantidadeRecorrencia",type:"number",min:1,value:s.quantidadeRecorrencia||1,onChange:a=>v(b=>({...b,quantidadeRecorrencia:parseInt(a.target.value)||1})),placeholder:"1"}),(0,d.jsx)("small",{className:"text-gray-600 dark:text-gray-400",children:"Quantas vezes a cobran√ßa se repetir√° ap√≥s a primeira"})]})]}),s.inicio&&s.recorrencia&&s.quantidadeRecorrencia&&(0,d.jsxs)("div",{className:"mt-4 p-3  border rounded-lg",children:[(0,d.jsx)("h4",{className:"font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Cronograma de Cobran√ßas:"}),(0,d.jsx)("div",{className:"space-y-1",children:Array.from({length:s.quantidadeRecorrencia+1},(a,b)=>{let c=new Date(s.inicio);return c.setDate(c.getDate()+b*(s.recorrencia||30)),(0,d.jsxs)("div",{className:"text-sm text-gray-700 dark:text-gray-500",children:[(0,d.jsxs)("span",{className:"font-medium",children:[b+1,"¬™ cobran√ßa:"]})," ",c.toLocaleDateString("pt-BR"),0===b&&(0,d.jsx)("span",{className:"text-green-600 ml-2",children:"(Primeira cobran√ßa)"})]},b)})}),(0,d.jsxs)("div",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,d.jsx)("strong",{children:"Total de cobran√ßas:"})," ",s.quantidadeRecorrencia+1," (",(0,p.formatCurrency)((s.quantidadeRecorrencia+1)*s.valor),")"]})]})]})]}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)(n.default,{children:"Produtos (opcional)"}),(0,d.jsx)(l.default,{type:"button",onClick:()=>{let a=[...s.produtos||[],{produtoId:0,quantidade:1}];v(b=>({...b,produtos:a}))},variant:"secondary",size:"sm",children:"Adicionar Produto"})]}),s.produtos&&s.produtos.map((a,b)=>(0,d.jsxs)("div",{className:"flex gap-4 items-end p-4 border rounded-lg",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)(n.default,{htmlFor:`produto-${b}`,children:"Produto"}),(0,d.jsx)(o.default,{value:S.find(b=>b.value===a.produtoId.toString()),onChange:a=>{Q(b,"produtoId",a?parseInt(a.value):0)},options:S,placeholder:"Selecione um produto",isClearable:!1})]}),(0,d.jsxs)("div",{className:"w-32",children:[(0,d.jsx)(n.default,{htmlFor:`quantidade-${b}`,children:"Quantidade"}),(0,d.jsx)(m.default,{id:`quantidade-${b}`,type:"number",min:1,value:a.quantidade,onChange:a=>Q(b,"quantidade",parseInt(a.target.value)||1)})]}),(0,d.jsx)(l.default,{type:"button",onClick:()=>{let a;return a=(s.produtos||[]).filter((a,c)=>c!==b),void v(b=>({...b,produtos:a}))},variant:"danger",size:"sm",children:"Remover"})]},b))]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(n.default,{htmlFor:"valorTotal",children:"Valor Total"}),(0,d.jsx)(m.default,{id:"valorTotal",type:"text",value:(0,p.formatCurrency)(s.valorTotal),readOnly:!0,className:"bg-gray-50"})]}),(0,d.jsxs)("div",{className:"flex gap-4 pt-6",children:[c&&(0,d.jsx)(l.default,{type:"button",variant:"secondary",onClick:c,className:"flex-1",children:"Cancelar"}),(0,d.jsx)(l.default,{type:"submit",disabled:K,variant:"primary",className:"flex-1",children:K?"Salvando...":a?"Atualizar":"Criar Venda"})]})]})}]),c()}catch(a){c(a)}},!1),61999,a=>a.a(async(b,c)=>{try{var d=a.i(87924),e=a.i(72131),f=a.i(50944),g=a.i(6704),h=a.i(93601),i=a.i(67820),j=a.i(16777),k=a.i(78777),l=a.i(96438),m=a.i(39323),n=a.i(23091),o=a.i(39906),p=b([h,k]);function q(){let a=(0,f.useRouter)(),[b,c]=(0,e.useState)([]),[p,q]=(0,e.useState)(!0),[r,s]=(0,e.useState)(""),[t,u]=(0,e.useState)(1),[v,w]=(0,e.useState)(0),[x,y]=(0,e.useState)(!1),[z,A]=(0,e.useState)(null),[B,C]=(0,e.useState)(9),D=(0,e.useCallback)(async()=>{try{q(!0);let a=await h.vendaService.list({page:t,limit:B,search:r});c(a.data),a.pagination?w(a.pagination.pages):w(Math.ceil((a.data?.length||0)/B))}catch(a){g.toast.error("Erro ao carregar vendas")}finally{q(!1)}},[t,r,B]);(0,e.useEffect)(()=>{D()},[D]);let E=async a=>{if(window.confirm("Tem certeza que deseja excluir esta venda?"))try{await h.vendaService.delete(a),g.toast.success("Venda exclu√≠da com sucesso"),D()}catch(a){g.toast.error("Erro ao excluir venda")}},F=async a=>{try{z?(await h.vendaService.update(z.id,a),g.toast.success("Venda atualizada com sucesso")):(await h.vendaService.create(a),g.toast.success("Venda criada com sucesso")),y(!1),A(null),D()}catch(a){g.toast.error("Erro ao salvar venda")}};return(0,d.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8",children:[(0,d.jsxs)("div",{className:"mb-8",children:[(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Vendas"}),(0,d.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Gerencie suas vendas e contratos"})]}),(0,d.jsx)(l.default,{variant:"primary",onClick:()=>{A(null),y(!0)},children:"Nova Venda"})]}),(0,d.jsxs)("div",{className:"mt-6",children:[(0,d.jsx)("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between mb-6",children:(0,d.jsx)(m.default,{placeholder:"Buscar vendas...",value:r,onChange:a=>{s(a.target.value),u(1)},className:"max-w-xs"})}),(0,d.jsxs)("div",{className:"flex justify-between mb-4 gap-2 flex-wrap",children:[(0,d.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,d.jsx)(o.default,{className:"flex items-center mb-0 h-full",children:"Quantidade por p√°gina"}),(0,d.jsx)(m.default,{className:"max-w-24",defaultValue:B,max:100,min:1,onChange:a=>{let b=Number(a.target.value)||9;C(b),u(1)}})]}),(0,d.jsx)(n.default,{currentPage:t,totalPages:v,onPageChange:u})]})]})]}),p?(0,d.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(a=>(0,d.jsx)("div",{className:"animate-pulse bg-gray-100 dark:bg-gray-800 rounded-lg h-48"},a))}):(0,d.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:b.length>0?b.map(b=>(0,d.jsx)(i.default,{venda:b,onEdit:()=>{A(b),y(!0)},onDelete:()=>E(b.id),onViewInvoices:()=>{var c;return c=b.id,void a.push(`/dashboard/empresa/financeiro/vendas/vendas-finais/${c}`)}},b.id)):(0,d.jsx)("div",{className:"col-span-full text-center py-12",children:(0,d.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhuma venda encontrada."})})}),v>1&&(0,d.jsx)("div",{className:"mt-6",children:(0,d.jsx)("div",{className:"flex justify-end mb-4 gap-2 flex-wrap",children:(0,d.jsx)(n.default,{currentPage:t,totalPages:v,onPageChange:u})})}),(0,d.jsx)(j.Modal,{isOpen:x,onClose:()=>{y(!1),A(null)},className:"max-w-[900px] m-4",children:(0,d.jsxs)("div",{className:"no-scrollbar relative w-full overflow-y-auto rounded-3xl bg-white p-4 dark:bg-gray-900 lg:p-11",children:[(0,d.jsxs)("div",{className:"px-2 pr-14",children:[(0,d.jsx)("h4",{className:"mb-2 text-2xl font-semibold text-gray-800 dark:text-white/90",children:z?"Editar Venda":"Nova Venda"}),(0,d.jsx)("p",{className:"mb-6 text-sm text-gray-500 dark:text-gray-400 lg:mb-7",children:z?"Atualize as informa√ß√µes da venda.":"Preencha os dados para criar uma nova venda."})]}),(0,d.jsx)(k.default,{venda:z,onSubmit:F,onCancel:()=>{y(!1),A(null)}})]})})]})}[h,k]=p.then?(await p)():p,a.s(["default",()=>q]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=src_d6acca9d._.js.map
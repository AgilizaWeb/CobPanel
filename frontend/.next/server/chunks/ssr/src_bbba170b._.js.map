{"version":3,"sources":["../../../../src/components/form/input/InputField.tsx","../../../../src/app/%28dashboard%29/dashboard/admin/perfil/page.tsx"],"sourcesContent":["import React, { FC } from \"react\";\n\ninterface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {\n  type?: \"text\" | \"number\" | \"email\" | \"password\" | \"date\" | \"time\" | \"tel\" | string;\n  id?: string;\n  name?: string;\n  placeholder?: string;\n  value?: string | number;\n  defaultValue?: string | number;\n  onChange?: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  className?: string;\n  min?: string | number;\n  max?: string | number;\n  step?: number;\n  disabled?: boolean;\n  required?: boolean;\n  success?: boolean;\n  error?: string | boolean;\n  hint?: string; // Optional hint text\n}\n\nconst Input: FC<InputProps> = ({\n  type = \"text\",\n  id,\n  name,\n  placeholder,\n  defaultValue,\n  onChange,\n  min,\n  max,\n  step,\n  disabled = false,\n  success = false,\n  error = false,\n  hint,\n  value,\n  required,\n  className = \"\", \n  ...rest\n}) => {\n  // Determine input styles based on state (disabled, success, error)\n  // let inputClasses = `h-11 w-full rounded-lg border appearance-none px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:outline-hidden focus:ring-3 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800 ${className}`;\n  let inputClasses = `h-11 w-full rounded-lg border px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:outline-hidden focus:ring-3 ${className}`;\n\n  if (type !== \"date\") {\n    inputClasses += \" appearance-none\";\n  }\n\n  // Add styles for the different states\n  if (disabled) {\n    inputClasses += ` text-gray-500 border-gray-300 cursor-not-allowed dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700`;\n  } else if (error) {\n    inputClasses += ` text-error-800 border-error-500 focus:ring-3 focus:ring-error-500/10  dark:text-error-400 dark:border-error-500`;\n    // Se error for uma string, exibe a mensagem de erro\n    if (typeof error === 'string') {\n      return (\n        <div>\n          <input\n            {...rest}\n            type={type}\n            id={id}\n            name={name}\n            placeholder={placeholder}\n            defaultValue={defaultValue}\n            onChange={onChange}\n            className={inputClasses}\n            min={min}\n            max={max}\n            step={step}\n            disabled={disabled}\n            value={value}\n            required={required}\n          />\n          <p className=\"mt-1 text-xs text-error-500\">{error}</p>\n        </div>\n      );\n    }\n  } else if (success) {\n    inputClasses += ` text-success-500 border-success-400 focus:ring-success-500/10 focus:border-success-300  dark:text-success-400 dark:border-success-500`;\n  } else {\n    inputClasses += ` bg-transparent text-gray-800 border-gray-300 focus:border-brand-300 focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:focus:border-brand-800`;\n  }\n\n  return (\n    <div className=\"relative\">\n      <input\n            {...rest}\n        type={type}\n        id={id}\n        name={name}\n        placeholder={placeholder}\n        value={value}\n        defaultValue={defaultValue}\n        onChange={onChange}\n        min={min}\n        max={max}\n        required={required}\n        step={step}\n        disabled={disabled}\n        className={inputClasses}\n      />\n\n      {/* Optional Hint Text */}\n      {hint && (\n        <p\n          className={`mt-1.5 text-xs ${error\n              ? \"text-error-500\"\n              : success\n                ? \"text-success-500\"\n                : \"text-gray-500\"\n            }`}\n        >\n          {hint}\n        </p>\n      )}\n    </div>\n  );\n};\n\nexport default Input;\n","\"use client\";\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '@/hooks/useAuth';\nimport { services } from '@/services/api';\nimport { toast } from 'react-hot-toast';\nimport { ThemeToggleButton } from '@/components/common/ThemeToggleButton';\nimport Input from '@/components/form/input/InputField';\nimport Button from '@/components/ui/button/Button';\n\nexport default function AdminPerfilPage() {\n  const { user, updateUser } = useAuth();\n  const [loading, setLoading] = useState(false);\n  const [formData, setFormData] = useState({\n    nome: '',\n    email: '',\n    celular: '',\n    senha: '',\n    confirmarSenha: ''\n  });\n\n  useEffect(() => {\n    if (user) {\n      setFormData({\n        nome: user.nome || '',\n        email: user.email || '',\n        celular: (user as any).celular || '',\n        senha: '',\n        confirmarSenha: ''\n      });\n    }\n  }, [user]);\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  const handleUpdateProfile = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (formData.senha && formData.senha !== formData.confirmarSenha) {\n      toast.error('As senhas não coincidem');\n      return;\n    }\n\n    try {\n      setLoading(true);\n      \n      const updateData: any = {\n        nome: formData.nome,\n        email: formData.email,\n        celular: formData.celular\n      };\n\n      if (formData.senha) {\n        updateData.senha = formData.senha;\n      }\n\n      await services.users.update(user!.id, updateData);\n      \n      // Atualizar dados do usuário no contexto\n      updateUser({\n        nome: formData.nome,\n        email: formData.email\n      });\n\n      toast.success('Perfil atualizado com sucesso!');\n      \n      // Limpar campos de senha\n      setFormData(prev => ({\n        ...prev,\n        senha: '',\n        confirmarSenha: ''\n      }));\n      \n    } catch (error: any) {\n      toast.error(error.response?.data?.message || 'Erro ao atualizar perfil');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* <div className=\"flex justify-between items-center\">\n        <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">Meu Perfil</h1>\n        <ThemeToggleButton />\n      </div> */}\n\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6\">\n        <form onSubmit={handleUpdateProfile} className=\"space-y-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                Nome\n              </label>\n              <Input\n                type=\"text\"\n                name=\"nome\"\n                value={formData.nome}\n                onChange={handleInputChange}\n                placeholder=\"Digite seu nome\"\n                required\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                Email\n              </label>\n              <Input\n                type=\"email\"\n                name=\"email\"\n                value={formData.email}\n                onChange={handleInputChange}\n                placeholder=\"Digite seu email\"\n                required\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                Celular\n              </label>\n              <Input\n                type=\"tel\"\n                name=\"celular\"\n                value={formData.celular}\n                onChange={handleInputChange}\n                placeholder=\"Digite seu celular\"\n              />\n            </div>\n          </div>\n\n          <div className=\"border-t border-gray-200 dark:border-gray-700 pt-6\">\n            <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-4\">\n              Alterar Senha\n            </h3>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  Nova Senha\n                </label>\n                <Input\n                  type=\"password\"\n                  name=\"senha\"\n                  value={formData.senha}\n                  onChange={handleInputChange}\n                  placeholder=\"Digite a nova senha\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  Confirmar Nova Senha\n                </label>\n                <Input\n                  type=\"password\"\n                  name=\"confirmarSenha\"\n                  value={formData.confirmarSenha}\n                  onChange={handleInputChange}\n                  placeholder=\"Confirme a nova senha\"\n                />\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex justify-end\">\n            <Button\n              type=\"submit\"\n              disabled={loading}\n              className=\"px-6 py-2\"\n            >\n              {loading ? 'Salvando...' : 'Salvar Alterações'}\n            </Button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}
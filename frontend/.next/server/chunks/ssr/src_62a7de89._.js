module.exports=[16390,a=>a.a(async(b,c)=>{try{var d=a.i(79029),e=b([d]);[d]=e.then?(await e)():e,a.s(["contasPagarService",0,{create:async a=>(await d.api.post("/contas-pagar",a)).data,list:async({page:a=1,perPage:b=10,search:c="",status:e,fornecedorId:f,categoriaId:g,dataInicio:h,dataFim:i,orderBy:j="vencimento_asc"}={})=>(await d.api.get("/contas-pagar",{params:{page:a,limit:b,search:c,status:e?.join(","),fornecedorId:f,categoriaId:g,dataInicio:h?.toISOString(),dataFim:i?.toISOString(),orderBy:j}})).data,getById:async a=>(await d.api.get(`/contas-pagar/${a}`)).data,update:async(a,b)=>(await d.api.put(`/contas-pagar/${a}`,b)).data,delete:async a=>(await d.api.delete(`/contas-pagar/${a}`)).data,registrarPagamento:async(a,b)=>(await d.api.post(`/contas-pagar/${a}/pagar`,{dataPagamento:b})).data,cancelarPagamento:async a=>(await d.api.post(`/contas-pagar/${a}/cancelar`)).data}]),c()}catch(a){c(a)}},!1),50007,a=>{"use strict";var b=a.i(87924),c=a.i(52647),d=a.i(32101),e=a.i(8922);let f={PENDENTE:"warning",PAGO:"success"};a.s(["default",0,({conta:a,onEdit:g,onDelete:h,onHandleStatus:i})=>(0,b.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm hover:shadow-md shadow-gray-200 dark:shadow-gray-700 border border-gray-200 dark:border-gray-700 p-4",children:(0,b.jsx)("div",{children:(0,b.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-wrap overflow-x-hidden",children:[(0,b.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white",children:a.nome}),(0,b.jsx)(d.default,{color:f[a.status],className:"capitalize",children:a.status.toLowerCase().replace("_"," ")})]}),(0,b.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Valor: ",(0,c.formatCurrency)(a.valor)]}),(0,b.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Vencimento: ",(0,c.formatDate)(a.vencimento)]}),a.dataPagamento&&(0,b.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Data Pagamento: ",(0,c.formatDate)(a.dataPagamento)]}),a.fornecedor&&(0,b.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Fornecedor: ",a.fornecedor.nome]})]}),(0,b.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,b.jsx)(e.default,{variant:"secondary",size:"xs",onClick:g,title:"Editar",icon:"edit"}),(0,b.jsx)(e.default,{variant:"secondary",size:"xs",onClick:h,title:"Excluir",icon:"delete"})]})]})})})])},63913,a=>a.a(async(b,c)=>{try{var d=a.i(87924),e=a.i(72131),f=a.i(6704),g=a.i(36699),h=a.i(39323),i=a.i(622),j=a.i(96438),k=a.i(34165),l=a.i(52647),m=b([g]);[g]=m.then?(await m)():m,a.s(["default",0,({contaPagar:a,onSubmit:b,onCancel:c})=>{let[m,n]=(0,e.useState)({nome:a?.nome||"",observacao:a?.observacao||"",valor:a?.valor||0,vencimento:a?.vencimento||new Date,fornecedorId:a?.fornecedorId||0,status:a?.status||"PENDENTE"}),[o,p]=(0,e.useState)(a?.valor?(0,l.formatCurrency)(a.valor).replace("R$","").trim():""),[q,r]=(0,e.useState)([]),[s,t]=(0,e.useState)(!0),[u,v]=(0,e.useState)({}),[w,x]=(0,e.useState)(!1);(0,e.useEffect)(()=>{y()},[]);let y=async()=>{try{t(!0);let a=await g.fornecedorService.list({page:1,perPage:100});r(a.data)}catch(a){f.toast.error("Erro ao carregar fornecedores")}finally{t(!1)}},z=async a=>{let c;if(a.preventDefault(),c={},["valor","vencimento"].forEach(a=>{m[a]||(c[a]=`${a.charAt(0).toUpperCase()+a.slice(1)} \xe9 obrigat\xf3rio`)}),m.valor<=0&&(c.valor="Valor deve ser maior que zero"),v(c),0===Object.keys(c).length){x(!0);try{await b(m)}catch(a){f.toast.error("Erro ao salvar conta a pagar")}finally{x(!1)}}};return(0,d.jsxs)("form",{onSubmit:z,className:"space-y-6",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"observacao",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nome"}),(0,d.jsx)(h.default,{id:"nome",name:"nome",value:m.nome,onChange:a=>n({...m,nome:a.target.value}),error:u.nome})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"fornecedorId",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Fornecedor"}),(0,d.jsx)(i.default,{id:"fornecedorId",name:"fornecedorId",isLoading:s,value:q.filter(a=>a.id===m.fornecedorId).map(a=>({value:String(a.id),label:a.nome}))[0],options:q.map(a=>({value:String(a.id),label:a.nome})),onChange:a=>{a&&n({...m,fornecedorId:parseInt(a.value,10)})},placeholder:"Selecione o fornecedor",error:u.fornecedorId,className:"w-full"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"valor",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Valor"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("span",{className:"absolute z-1 left-3 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-300",children:"R$"}),(0,d.jsx)(h.default,{id:"valor",name:"valor",type:"text",value:o,className:"pl-9",onChange:a=>{let b=a.target.value.replace(/\D/g,"");if(""===b){p(""),n({...m,valor:0});return}let c=(0,l.formatCurrencyInput)(b);p(c),n({...m,valor:(0,l.parseCurrencyInput)(b)})},error:u.valor})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"vencimento",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Data de Vencimento"}),(0,d.jsx)(k.default,{id:"vencimento",onChange:a=>{a[0]&&n({...m,vencimento:a[0]})},defaultDate:new Date(m.vencimento)}),u.vencimento&&(0,d.jsx)("p",{className:"mt-1 text-sm text-red-600",children:u.vencimento})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"observacoes",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Observações"}),(0,d.jsx)("textarea",{id:"observacao",name:"observacao",rows:3,value:m.observacao,onChange:a=>n({...m,observacao:a.target.value}),className:"w-full rounded-lg border border-stroke bg-transparent px-4 py-3 outline-none focus:border-primary focus-visible:shadow-none dark:border-gray-600 dark:bg-gray-900 dark:focus:border-primary dark:text-white"})]}),(0,d.jsxs)("div",{className:"flex justify-end space-x-4 pt-4",children:[(0,d.jsx)(j.default,{variant:"secondary",onClick:c,disabled:w,children:"Cancelar"}),(0,d.jsx)(j.default,{variant:"primary",type:"submit",disabled:w,children:w?"Salvando...":a?"Atualizar":"Criar"})]})]})}]),c()}catch(a){c(a)}},!1),66720,a=>a.a(async(b,c)=>{try{var d=a.i(87924),e=a.i(72131),f=a.i(6704),g=a.i(96438),h=a.i(16777),i=a.i(39323),j=a.i(622),k=a.i(16390),l=a.i(50007),m=a.i(23091),n=a.i(63913),o=a.i(39906),p=b([k,n]);function q(){let[a,b]=(0,e.useState)([]),[c,p]=(0,e.useState)(!0),[q,r]=(0,e.useState)(""),[s,t]=(0,e.useState)(1),[u,v]=(0,e.useState)(0),[w,x]=(0,e.useState)(!1),[y,z]=(0,e.useState)(null),[A,B]=(0,e.useState)({}),[C,D]=(0,e.useState)(9),E=(0,e.useCallback)(async()=>{try{p(!0);let a=await k.contasPagarService.list({page:s,perPage:C,search:q,status:A.status?[A.status]:void 0,fornecedorId:A.fornecedorId,orderBy:A.orderBy});b(a.data),v(a.pagination.pages)}catch(a){f.toast.error("Erro ao carregar contas a pagar")}finally{p(!1)}},[s,q,A,C]);(0,e.useEffect)(()=>{E()},[E]);let F=a=>{B(b=>({...b,...a})),t(1)},G=async a=>{if(window.confirm("Tem certeza que deseja excluir esta conta?"))try{await k.contasPagarService.delete(a),f.toast.success("Conta excluída com sucesso"),E()}catch(a){f.toast.error("Erro ao excluir conta")}},H=async a=>{try{await k.contasPagarService.update(a.id,{...a,status:"PENDENTE"===a.status?"PAGO":"PENDENTE"}),f.toast.success("Conta cancelada com sucesso"),E()}catch(a){console.error("Erro ao cancelar conta",a),f.toast.error("Erro ao cancelar conta")}},I=async a=>{try{y?(await k.contasPagarService.update(y.id,a),f.toast.success("Conta atualizada com sucesso")):(await k.contasPagarService.create(a),f.toast.success("Conta criada com sucesso")),x(!1),z(null),E()}catch(a){f.toast.error("Erro ao salvar conta")}},J=[{value:"PENDENTE",label:"Pendente"},{value:"PAGO",label:"Pago"}],K=[{value:"vencimento_desc",label:"Vencimento - Mais próximo"},{value:"vencimento_asc",label:"Vencimento - Mais distante"},{value:"valor_desc",label:"Valor - Maior"},{value:"valor_asc",label:"Valor - Menor"}];return(0,d.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8",children:[(0,d.jsxs)("div",{className:"mb-8",children:[(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-2",children:"Contas a Pagar"}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Gerencie todas as contas a pagar da empresa"})]}),(0,d.jsx)("div",{className:"flex items-center gap-2",children:(0,d.jsx)(g.default,{variant:"primary",onClick:()=>{z(null),x(!0)},children:"Nova Conta"})})]}),(0,d.jsxs)("div",{className:"mt-6 flex flex-col sm:flex-row items-center gap-4",children:[(0,d.jsx)("div",{className:"flex-1 w-full sm:max-w-xs",children:(0,d.jsx)(i.default,{type:"text",placeholder:"Buscar contas...",value:q,onChange:a=>{r(a.target.value),t(1)},className:"w-full"})}),(0,d.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,d.jsx)(j.default,{placeholder:"Status",options:J,value:J.find(a=>a.value===A.status),onChange:a=>F({status:a?a.value:void 0}),isClearable:!0,className:"whitespace-nowrap min-w-40"}),(0,d.jsx)(j.default,{placeholder:"Ordenar por",options:K,value:K.find(a=>a.value===A.orderBy),onChange:a=>F({orderBy:a?a.value:void 0}),isClearable:!0,className:"whitespace-nowrap min-w-50"})]})]})]}),(0,d.jsxs)("div",{className:"flex justify-between mb-4 gap-2 flex-wrap",children:[(0,d.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,d.jsx)(o.default,{className:"flex items-center mb-0 h-full",children:"Quantidade por página"}),(0,d.jsx)(i.default,{className:"max-w-24",defaultValue:C,max:100,min:1,onChange:a=>{let b=Number(a.target.value)||9;D(b),t(1)}})]}),(0,d.jsx)(m.default,{currentPage:s,totalPages:u,onPageChange:t})]}),c?(0,d.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(a=>(0,d.jsx)("div",{className:"animate-pulse bg-gray-100 dark:bg-gray-800 rounded-lg h-48"},a))}):(0,d.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:a.length>0?a.map(a=>(0,d.jsx)(l.default,{conta:a,onEdit:()=>{z(a),x(!0)},onDelete:()=>G(a.id),onHandleStatus:()=>H(a)},a.id)):(0,d.jsx)("div",{className:"col-span-full text-center py-12",children:(0,d.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhuma conta encontrada"})})}),u>1&&(0,d.jsx)("div",{className:"mt-6",children:(0,d.jsx)("div",{className:"flex justify-end mb-4 gap-2 flex-wrap",children:(0,d.jsx)(m.default,{currentPage:s,totalPages:u,onPageChange:t})})}),(0,d.jsx)(h.Modal,{isOpen:w,onClose:()=>{x(!1),z(null)},className:"max-w-[800px] m-4",children:(0,d.jsxs)("div",{className:"no-scrollbar relative w-full overflow-y-auto rounded-3xl bg-white p-4 dark:bg-gray-900 lg:p-11",children:[(0,d.jsxs)("div",{className:"px-2 pr-14",children:[(0,d.jsx)("h4",{className:"mb-2 text-2xl font-semibold text-gray-800 dark:text-white/90",children:y?"Editar Conta":"Novo Conta"}),(0,d.jsx)("p",{className:"mb-6 text-sm text-gray-500 dark:text-gray-400 lg:mb-7",children:y?"Atualize as informações do conta.":"Preencha os dados para criar um novo conta."})]}),(0,d.jsx)(n.default,{contaPagar:y,onSubmit:I,onCancel:()=>{x(!1),z(null)}})]})})]})}[k,n]=p.then?(await p)():p,a.s(["default",()=>q]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=src_62a7de89._.js.map
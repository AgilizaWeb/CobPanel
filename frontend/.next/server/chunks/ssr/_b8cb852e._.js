module.exports=[91119,a=>{"use strict";var b=a.i(87924);let c=({children:a,className:c=""})=>(0,b.jsx)("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 ${c}`,children:a});a.s(["Card",()=>c])},84632,a=>{"use strict";var b=a.i(44688);a.s(["TimeIcon",()=>b.default])},32245,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"BailoutToCSR",{enumerable:!0,get:function(){return e}});let d=a.r(41997);function e({reason:a,children:b}){throw Object.defineProperty(new d.BailoutToCSRError(a),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}},7773,(a,b,c)=>{"use strict";function d(a){return a.split("/").map(a=>encodeURIComponent(a)).join("/")}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"encodeURIPath",{enumerable:!0,get:function(){return d}})},97458,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"PreloadChunks",{enumerable:!0,get:function(){return i}});let d=a.r(87924),e=a.r(35112),f=a.r(56704),g=a.r(7773),h=a.r(68063);function i({moduleIds:a}){let b=f.workAsyncStorage.getStore();if(void 0===b)return null;let c=[];if(b.reactLoadableManifest&&a){let d=b.reactLoadableManifest;for(let b of a){if(!d[b])continue;let a=d[b].files;c.push(...a)}}if(0===c.length)return null;let i=(0,h.getDeploymentIdQueryOrEmptyString)();return(0,d.jsx)(d.Fragment,{children:c.map(a=>{let c=`${b.assetPrefix}/_next/${(0,g.encodeURIPath)(a)}${i}`;return a.endsWith(".css")?(0,d.jsx)("link",{precedence:"dynamic",href:c,rel:"stylesheet",as:"style",nonce:b.nonce},a):((0,e.preload)(c,{as:"script",fetchPriority:"low",nonce:b.nonce}),null)})})}},69853,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return j}});let d=a.r(87924),e=a.r(72131),f=a.r(32245),g=a.r(97458);function h(a){return{default:a&&"default"in a?a.default:a}}let i={loader:()=>Promise.resolve(h(()=>null)),loading:null,ssr:!0},j=function(a){let b={...i,...a},c=(0,e.lazy)(()=>b.loader().then(h)),j=b.loading;function k(a){let h=j?(0,d.jsx)(j,{isLoading:!0,pastDelay:!0,error:null}):null,i=!b.ssr||!!b.loading,k=i?e.Suspense:e.Fragment,l=b.ssr?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g.PreloadChunks,{moduleIds:b.modules}),(0,d.jsx)(c,{...a})]}):(0,d.jsx)(f.BailoutToCSR,{reason:"next/dynamic",children:(0,d.jsx)(c,{...a})});return(0,d.jsx)(k,{...i?{fallback:h}:{},children:l})}return k.displayName="LoadableComponent",k}},19721,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return e}});let d=a.r(33354)._(a.r(69853));function e(a,b){let c={};"function"==typeof a&&(c.loader=a);let e={...c,...b};return(0,d.default)({...e,modules:e.loadableGenerated?.modules})}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},71702,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(52647);let e=(0,a.i(19721).default)(async()=>{},{loadableGenerated:{modules:[81814]},ssr:!1}),f=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"];function g({data:a}){let g=(0,c.useMemo)(()=>a&&0!==a.length?"number"==typeof a[0]?f.map((b,c)=>({label:b,revenue:Number(a[c]??0)})):a.map((a,b)=>({label:a.label??f[b]??`M${b+1}`,revenue:Number(a.revenue??0)})):f.map(a=>({label:a,revenue:0})),[a]),h=g.map(a=>a.label),i=g.map(a=>a.revenue);return(0,b.jsxs)("div",{className:"overflow-hidden rounded-2xl border border-gray-200 bg-white px-5 pt-5 dark:border-gray-800 dark:bg-white/[0.03] sm:px-6 sm:pt-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:"Receita por mês"})}),(0,b.jsx)("div",{className:"max-w-full overflow-x-auto custom-scrollbar",children:(0,b.jsx)("div",{className:"-ml-5 min-w-[650px] xl:min-w-full pl-2",children:(0,b.jsx)(e,{options:{colors:["#465fff"],chart:{fontFamily:"Outfit, sans-serif",type:"bar",height:200,toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:"39%",borderRadius:5,borderRadiusApplication:"end"}},dataLabels:{enabled:!1},stroke:{show:!0,width:4,colors:["transparent"]},xaxis:{categories:h,axisBorder:{show:!1},axisTicks:{show:!1}},legend:{show:!1},yaxis:{labels:{formatter:a=>`${(0,d.formatCurrency)(a)}`}},grid:{yaxis:{lines:{show:!0}}},fill:{opacity:1},tooltip:{x:{show:!1},y:{formatter:a=>`${(0,d.formatCurrency)(a)}`}}},series:[{name:"Receita",data:i}],type:"bar",height:200})})})]})}a.s(["RevenueByMonthChart",()=>g])},36374,a=>{"use strict";var b=a.i(87924);let c=(0,a.i(19721).default)(async()=>{},{loadableGenerated:{modules:[81814]},ssr:!1}),d={PENDING:"Pendente",APPROVED:"Pago",CANCELLED:"Cancelado",PENDENTE:"Pendente",PAGO:"Pago"},e={PENDING:"#f59e0b",APPROVED:"#10b981",CANCELLED:"#ef4444",PENDENTE:"#f59e0b",PAGO:"#10b981"};function f({items:a}){let f=a?.map(a=>d[a.status]??a.status)??[],g=a?.map(a=>a.total)??[],h=a?.map(a=>e[a.status]??"#6366f1");return(0,b.jsxs)("div",{className:"rounded-2xl border border-gray-200 bg-white px-5 pt-5 dark:border-gray-800 dark:bg-white/[0.03] sm:px-6 sm:pt-6",children:[(0,b.jsx)("h3",{className:"mb-4 text-lg font-semibold text-gray-800 dark:text-white/90",children:"Vendas por status"}),(0,b.jsx)(c,{options:{chart:{type:"donut",height:320,fontFamily:"Outfit, sans-serif"},labels:f,legend:{position:"bottom"},dataLabels:{enabled:!0},colors:h,tooltip:{y:{formatter:a=>`${a}`}}},series:g,type:"donut",height:320})]})}a.s(["SalesByStatusChart",()=>f])},40360,a=>{"use strict";var b=a.i(78294);a.s(["ErrorIcon",()=>b.default])},26817,a=>a.a(async(b,c)=>{try{var d=a.i(87924),e=a.i(72131),f=a.i(91119);a.i(54828);var g=a.i(84632),h=a.i(86262),i=a.i(40360),j=a.i(90365),k=a.i(6704),l=a.i(52647),m=a.i(71702),n=a.i(36374),o=b([j]);function p(){let[a,b]=(0,e.useState)(null),[c,o]=(0,e.useState)(!0);if((0,e.useEffect)(()=>{(async()=>{try{o(!0);let a=await j.services.adminStats.getStats();b(a.data)}catch(a){k.toast.error("Erro ao carregar estatísticas do dashboard."),console.error(a)}finally{o(!1)}})()},[]),c)return(0,d.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,d.jsx)("div",{className:"h-16 w-16 animate-spin rounded-full border-4 border-solid border-primary border-t-transparent"})});if(!a)return null;let p=a.plans,q=a.companies,r=a.users.breakdown,s=p.statusDistribution.map(a=>({status:a.status,total:a.total}));return(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)("div",{className:"flex justify-between items-center",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Visão Geral do Sistema"}),(0,d.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Acompanhe as métricas de planos e empresas conectadas ao seu marketplace."})]})}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:[(0,d.jsxs)(f.Card,{className:"p-6",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Receita total de planos"}),(0,d.jsx)("p",{className:"mt-2 text-3xl font-semibold text-gray-900 dark:text-white",children:(0,l.formatCurrency)(p.totalRevenue)}),(0,d.jsxs)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:[p.paidPurchases," compras confirmadas"]})]}),(0,d.jsxs)(f.Card,{className:"p-6",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Receita pendente"}),(0,d.jsx)("p",{className:"mt-2 text-3xl font-semibold text-amber-600",children:(0,l.formatCurrency)(p.pendingRevenue)}),(0,d.jsxs)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:[p.pendingPurchases," compras aguardando pagamento"]})]}),(0,d.jsxs)(f.Card,{className:"p-6",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Ticket médio dos planos"}),(0,d.jsx)("p",{className:"mt-2 text-3xl font-semibold text-gray-900 dark:text-white",children:(0,l.formatCurrency)(p.averageTicket)}),(0,d.jsxs)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:[p.catalog," planos no catálogo (",p.activePlans," ativos)"]})]}),(0,d.jsxs)(f.Card,{className:"p-6",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Empresas conectadas"}),(0,d.jsx)("p",{className:"mt-2 text-3xl font-semibold text-gray-900 dark:text-white",children:q.total}),(0,d.jsxs)("div",{className:"mt-3 grid grid-cols-2 gap-2 text-xs",children:[(0,d.jsxs)("span",{className:"inline-flex items-center gap-1 font-medium text-green-600",children:[(0,d.jsx)(h.CheckCircleIcon,{className:"h-6 w-6"})," ",q.active," ativas"]}),(0,d.jsxs)("span",{className:"inline-flex items-center gap-1 font-medium text-red-500",children:[(0,d.jsx)(i.ErrorIcon,{className:"h-6 w-6"})," ",q.expired," vencidas"]}),(0,d.jsxs)("span",{className:"inline-flex items-center gap-1 font-medium text-amber-500",children:[(0,d.jsx)(g.TimeIcon,{className:"h-6 w-6"})," ",q.expiring," vencendo"]})]})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-5 gap-6",children:[(0,d.jsx)("div",{className:"xl:col-span-3",children:(0,d.jsx)(m.RevenueByMonthChart,{data:p.monthlyRevenue.map(a=>({label:a.label.toUpperCase(),revenue:a.revenue}))})}),(0,d.jsxs)("div",{className:"xl:col-span-2 space-y-6",children:[(0,d.jsx)(n.SalesByStatusChart,{items:s}),(0,d.jsxs)(f.Card,{className:"p-6",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Visão rápida"}),(0,d.jsxs)("dl",{className:"space-y-3 text-sm text-gray-600 dark:text-gray-300",children:[(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("dt",{children:"Planos ativos"}),(0,d.jsx)("dd",{className:"font-medium text-gray-900 dark:text-white",children:p.activePlans})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("dt",{children:"Planos inativos"}),(0,d.jsx)("dd",{className:"font-medium",children:p.inactivePlans})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("dt",{children:"Empresas com mais clientes"}),(0,d.jsx)("dd",{className:"font-medium",children:q.topByClients[0]?.nome??"—"})]})]})]})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[(0,d.jsxs)(f.Card,{className:"p-6",children:[(0,d.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Top planos por receita"}),(0,d.jsx)("div",{className:"space-y-3",children:p.topPlans.map(a=>(0,d.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 bg-gray-50 px-4 py-3 dark:border-gray-700 dark:bg-white/[0.02]",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:a.nome}),(0,d.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[a.purchases," vendas · Ticket médio ",(0,l.formatCurrency)(a.averageTicket)]})]}),(0,d.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:(0,l.formatCurrency)(a.revenue)})]},a.nome))})]}),(0,d.jsxs)(f.Card,{className:"p-6",children:[(0,d.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Empresas que mais faturam"}),(0,d.jsx)("div",{className:"space-y-3",children:p.topCompanies.map(a=>(0,d.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 bg-gray-50 px-4 py-3 dark:border-gray-700 dark:bg-white/[0.02]",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:a.nome}),(0,d.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[a.purchases," compras de planos"]})]}),(0,d.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:(0,l.formatCurrency)(a.revenue)})]},a.nome))})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[(0,d.jsxs)(f.Card,{className:"p-6",children:[(0,d.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Compras recentes de planos"}),(0,d.jsx)("div",{className:"overflow-x-auto",children:(0,d.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700 text-sm",children:[(0,d.jsx)("thead",{className:"bg-gray-50 dark:bg-white/[0.05]",children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-600 dark:text-gray-300",children:"Empresa"}),(0,d.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-600 dark:text-gray-300",children:"Plano"}),(0,d.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-600 dark:text-gray-300",children:"Valor"}),(0,d.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-600 dark:text-gray-300",children:"Status"}),(0,d.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-600 dark:text-gray-300",children:"Data"})]})}),(0,d.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:p.recentPurchases.map(a=>(0,d.jsxs)("tr",{className:"bg-white dark:bg-white/[0.015]",children:[(0,d.jsx)("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:a.empresa}),(0,d.jsx)("td",{className:"px-3 py-2 text-gray-600 dark:text-gray-300",children:a.plano}),(0,d.jsx)("td",{className:"px-3 py-2 font-medium text-gray-900 dark:text-white",children:(0,l.formatCurrency)(a.valor)}),(0,d.jsx)("td",{className:"px-3 py-2",children:(0,d.jsx)("span",{className:`rounded-full px-2.5 py-1 text-xs font-semibold ${"PAGO"===a.status?"bg-emerald-100 text-emerald-700 dark:bg-emerald-500/10 dark:text-emerald-300":"bg-amber-100 text-amber-700 dark:bg-amber-500/10 dark:text-amber-300"}`,children:"PAGO"===a.status?"Pago":"Pendente"})}),(0,d.jsx)("td",{className:"px-3 py-2 text-gray-500 dark:text-gray-400",children:(0,l.formatDate)(a.dataPagamento??a.createdAt)})]},a.id))})]})})]}),(0,d.jsxs)(f.Card,{className:"p-6",children:[(0,d.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Distribuição de usuários"}),(0,d.jsx)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:Object.entries(r).map(([a,b])=>(0,d.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-gray-50 px-4 py-3 text-gray-700 dark:border-gray-700 dark:bg-white/[0.02] dark:text-gray-300",children:[(0,d.jsx)("p",{className:"text-xs uppercase text-gray-500 dark:text-gray-400",children:a}),(0,d.jsx)("p",{className:"mt-1 text-xl font-semibold text-gray-900 dark:text-white",children:b})]},a))})]})]})]})}[j]=o.then?(await o)():o,a.s(["default",()=>p]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=_b8cb852e._.js.map
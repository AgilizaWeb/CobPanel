module.exports=[87220,a=>a.a(async(b,c)=>{try{var d=a.i(87924),e=a.i(72131),f=a.i(32636),g=a.i(50944);a.i(54828);var h=a.i(42043),i=a.i(81956),j=a.i(84632),k=a.i(86262),l=a.i(22958),m=a.i(41926),n=a.i(52647),o=a.i(93601),p=a.i(17303),q=a.i(6704),r=a.i(71987),s=b([f,o]);function t(){let{user:a}=(0,f.useAuth)(),b=(0,g.useRouter)(),c=(0,g.useParams)(),[s,t]=(0,e.useState)(null),[u,v]=(0,e.useState)(!0),[w,x]=(0,e.useState)(null),y=(0,e.useCallback)(async()=>{if(c.id)try{v(!0);let a=parseInt(c.id),b=await o.vendaFinalService.getById(a);t(b.data)}catch(a){console.error("Erro ao carregar fatura:",a),q.default.error("Erro ao carregar dados da fatura")}finally{v(!1)}},[c.id]);(0,e.useEffect)(()=>{y()},[y]);let z=async(a,b)=>{try{await navigator.clipboard.writeText(a),x(b),q.default.success(`${b} copiado para a \xe1rea de transfer\xeancia!`),setTimeout(()=>x(null),2e3)}catch(a){q.default.error("Erro ao copiar para a área de transferência")}},A=a=>{switch(a){case"APPROVED":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"PENDING":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"CANCELLED":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},B=a=>"string"==typeof a?new Date(a).toLocaleDateString("pt-BR"):a.toLocaleDateString("pt-BR"),C=a=>"string"==typeof a?new Date(a).toLocaleString("pt-BR"):a?.toLocaleString("pt-BR"),D=a=>"string"==typeof a?new Date(a)<new Date:a<new Date;return u?(0,d.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,d.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):s?(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,d.jsx)("button",{onClick:()=>b.back(),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Voltar",children:(0,d.jsx)(h.ChevronLeftIcon,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["Fatura #",s.id]}),(0,d.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Detalhes da fatura"})]})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(p.ThemeToggleButton,{}),(a=>{switch(a){case"APPROVED":return(0,d.jsx)(k.CheckCircleIcon,{className:"w-5 h-5 text-green-500"});case"PENDING":return(0,d.jsx)(j.TimeIcon,{className:"w-5 h-5 text-yellow-500"});case"CANCELLED":return(0,d.jsx)(l.AlertIcon,{className:"w-5 h-5 text-red-500"});default:return(0,d.jsx)(j.TimeIcon,{className:"w-5 h-5 text-gray-500"})}})(s.status),(0,d.jsx)("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${A(s.status)}`,children:s.status})]})]})}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,d.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Informações da Fatura"}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Valor:"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:(0,n.formatCurrency)(s.valor)})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tipo de Pagamento:"}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(a=>{switch(a){case"PIX":return(0,d.jsx)(i.DollarLineIcon,{className:"w-6 h-6 text-blue-500"});case"BOLETO":return(0,d.jsx)(i.DollarLineIcon,{className:"w-6 h-6 text-green-500"});default:return(0,d.jsx)(i.DollarLineIcon,{className:"w-6 h-6 text-gray-500"})}})(s.type),(0,d.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:s.type})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Data de Vencimento:"}),(0,d.jsxs)("p",{className:`font-medium ${D(s.vencimento)&&"PENDING"===s.status?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"}`,children:[B(s.vencimento),D(s.vencimento)&&"PENDING"===s.status&&(0,d.jsx)("span",{className:"ml-2 text-red-600 dark:text-red-400 font-medium",children:"(Vencida)"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Status:"}),(0,d.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:(a=>{switch(a){case"APPROVED":return"Pago";case"PENDING":return"Aguardando Pagamento";case"CANCELLED":return"Cancelado";default:return a}})(s.status)})]}),s.dataPagamento&&(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Data de Pagamento:"}),(0,d.jsx)("p",{className:"font-medium text-green-600 dark:text-green-400",children:C(s.dataPagamento)})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Criada em:"}),(0,d.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:C(s.createdAt)})]})]})]}),"PENDING"===s.status&&(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Instruções de Pagamento"}),"PIX"===s.type&&(0,d.jsxs)("div",{className:"space-y-4",children:[s.copiacola&&(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Código PIX (Copiar e Colar):"}),(0,d.jsxs)("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,d.jsx)("input",{type:"text",value:s.copiacola,readOnly:!0,className:"flex-1 bg-transparent text-sm font-mono text-gray-700 dark:text-gray-300 border-none outline-none","aria-label":"Código PIX para copiar"}),(0,d.jsx)("button",{onClick:()=>z(s.copiacola,"Código PIX"),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",title:"Copiar código PIX",children:(0,d.jsx)(m.CopyIcon,{className:`w-5 h-5 ${"Código PIX"===w?"text-green-500":"text-gray-500"}`})})]})]}),s.qrcode&&(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"QR Code PIX:"}),(0,d.jsx)("div",{className:"flex justify-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:(0,d.jsx)(r.default,{src:s.qrcode.startsWith("data:image")?s.qrcode:`data:image/png;base64,${s.qrcode}`,alt:"QR Code PIX",width:100,height:100,className:"max-w-48 max-h-48"})})]})]}),"BOLETO"===s.type&&s.codigobarra&&(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Código de Barras:"}),(0,d.jsxs)("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,d.jsx)("input",{type:"text",value:s.codigobarra,readOnly:!0,className:"flex-1 bg-transparent text-sm font-mono text-gray-700 dark:text-gray-300 border-none outline-none","aria-label":"Código de barras para copiar"}),(0,d.jsx)("button",{onClick:()=>z(s.codigobarra,"Código de Barras"),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",title:"Copiar código de barras",children:(0,d.jsx)(m.CopyIcon,{className:`w-5 h-5 ${"Código de Barras"===w?"text-green-500":"text-gray-500"}`})})]})]}),(0,d.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,d.jsx)("h4",{className:"font-medium text-blue-900 dark:text-blue-300 mb-2",children:"Instruções:"}),(0,d.jsx)("ul",{className:"text-sm text-blue-800 dark:text-blue-400 space-y-1",children:"PIX"===s.type?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("li",{children:"• Copie o código PIX ou escaneie o QR Code"}),(0,d.jsx)("li",{children:"• Abra o aplicativo do seu banco"}),(0,d.jsx)("li",{children:"• Selecione a opção PIX"}),(0,d.jsx)("li",{children:"• Cole o código ou escaneie o QR Code"}),(0,d.jsx)("li",{children:"• Confirme o pagamento"})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("li",{children:"• Copie o código de barras"}),(0,d.jsx)("li",{children:"• Acesse o site ou aplicativo do seu banco"}),(0,d.jsx)("li",{children:'• Selecione a opção "Pagar Boleto"'}),(0,d.jsx)("li",{children:"• Cole o código de barras"}),(0,d.jsx)("li",{children:"• Confirme os dados e efetue o pagamento"})]})})]})]}),"APPROVED"===s.status&&(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,d.jsx)(k.CheckCircleIcon,{className:"w-8 h-8 text-green-500"}),(0,d.jsx)("h3",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:"Fatura Paga"})]}),(0,d.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:["Esta fatura foi paga em ",C(s.dataPagamento),". Obrigado pelo pagamento!"]})]}),"CANCELLED"===s.status&&(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,d.jsx)(l.AlertIcon,{className:"w-8 h-8 text-red-500"}),(0,d.jsx)("h3",{className:"text-lg font-semibold text-red-600 dark:text-red-400",children:"Fatura Cancelada"})]}),(0,d.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Esta fatura foi cancelada e não pode mais ser paga."})]})]}),(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Resumo"}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Status:"}),(0,d.jsx)("span",{className:`font-medium ${A(s.status)} px-2 py-1 rounded-full text-xs`,children:s.status})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Valor:"}),(0,d.jsx)("span",{className:"font-bold text-gray-900 dark:text-white",children:(0,n.formatCurrency)(s.valor)})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Tipo:"}),(0,d.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:s.type})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Vencimento:"}),(0,d.jsx)("span",{className:`font-medium ${D(s.vencimento)&&"PENDING"===s.status?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"}`,children:B(s.vencimento)})]})]})]}),(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Venda Relacionada"}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("p",{className:"font-medium text-gray-900 dark:text-white",children:["Venda #",s.vendaId]}),(0,d.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Cliente: ",a?.nome||"N/A"]})]})]}),(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Ações"}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("button",{onClick:()=>b.push(`/dashboard/cliente/cobranca/${s.vendaId}`),className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-sm",children:"Ver Venda Relacionada"}),(0,d.jsx)("button",{onClick:()=>b.push("/dashboard/cliente/faturas"),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-sm",children:"Voltar para Faturas"})]})]})]})]})]}):(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)(l.AlertIcon,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,d.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Fatura não encontrada"}),(0,d.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"A fatura solicitada não foi encontrada ou você não tem permissão para visualizá-la."}),(0,d.jsx)("button",{onClick:()=>b.push("/dashboard/cliente/faturas"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Voltar para Faturas"})]})}[f,o]=s.then?(await s)():s,a.s(["default",()=>t]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=src_app_%28dashboard%29_dashboard_cliente_fatura_%5Bid%5D_page_tsx_dfc30573._.js.map
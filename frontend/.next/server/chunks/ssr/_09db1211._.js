module.exports=[23091,a=>{"use strict";var b=a.i(87924);let c=a=>(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...a,children:(0,b.jsx)("polyline",{points:"15 18 9 12 15 6"})}),d=a=>(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...a,children:(0,b.jsx)("polyline",{points:"9 18 15 12 9 6"})});var e=a.i(96438);a.s(["default",0,({currentPage:a,totalPages:f,onPageChange:g})=>(0,b.jsxs)("nav",{className:"flex justify-center items-center space-x-2",children:[(0,b.jsx)(e.default,{variant:"secondary",size:"sm",onClick:()=>g(a-1),disabled:1===a,children:(0,b.jsx)(c,{className:"h-5 w-5"})}),(()=>{let c=[],d=Math.max(1,a-2),h=Math.min(f,a+2);d>1&&(c.push((0,b.jsx)(e.default,{variant:1===a?"primary":"secondary",size:"sm",onClick:()=>g(1),className:"hidden sm:block",children:"1"},1)),d>2&&c.push((0,b.jsx)("span",{className:"px-2 py-2 text-gray-500 dark:text-gray-400",children:"..."},"start-ellipsis")));for(let f=d;f<=h;f++)c.push((0,b.jsx)(e.default,{variant:a===f?"primary":"secondary",size:"sm",onClick:()=>g(f),children:f},f));return h<f&&(h<f-1&&c.push((0,b.jsx)("span",{className:"px-2 py-2 text-gray-500 dark:text-gray-400",children:"..."},"end-ellipsis")),c.push((0,b.jsx)(e.default,{variant:a===f?"primary":"secondary",size:"sm",onClick:()=>g(f),className:"hidden sm:block",children:f},f))),c})(),(0,b.jsx)(e.default,{variant:"secondary",size:"sm",onClick:()=>g(a+1),disabled:a===f,children:(0,b.jsx)(d,{className:"h-5 w-5"})})]})],23091)},39323,a=>{"use strict";var b=a.i(87924);a.s(["default",0,({type:a="text",id:c,name:d,placeholder:e,defaultValue:f,onChange:g,min:h,max:i,step:j,disabled:k=!1,success:l=!1,error:m=!1,hint:n,value:o,required:p,className:q="",...r})=>{let s=`h-11 w-full rounded-lg border px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:outline-hidden focus:ring-3 ${q}`;if("date"!==a&&(s+=" appearance-none"),k)s+=" text-gray-500 border-gray-300 cursor-not-allowed dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700";else if(m){if(s+=" text-error-800 border-error-500 focus:ring-3 focus:ring-error-500/10  dark:text-error-400 dark:border-error-500","string"==typeof m)return(0,b.jsxs)("div",{children:[(0,b.jsx)("input",{...r,type:a,id:c,name:d,placeholder:e,defaultValue:f,onChange:g,className:s,min:h,max:i,step:j,disabled:k,value:o,required:p}),(0,b.jsx)("p",{className:"mt-1 text-xs text-error-500",children:m})]})}else l?s+=" text-success-500 border-success-400 focus:ring-success-500/10 focus:border-success-300  dark:text-success-400 dark:border-success-500":s+=" bg-transparent text-gray-800 border-gray-300 focus:border-brand-300 focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:focus:border-brand-800";return(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{...r,type:a,id:c,name:d,placeholder:e,value:o,defaultValue:f,onChange:g,min:h,max:i,required:p,step:j,disabled:k,className:s}),n&&(0,b.jsx)("p",{className:`mt-1.5 text-xs ${m?"text-error-500":l?"text-success-500":"text-gray-500"}`,children:n})]})}])},96438,a=>{"use strict";var b=a.i(87924);a.s(["default",0,({variant:a="primary",size:c="md",loading:d=!1,fullWidth:e=!1,className:f="",children:g,disabled:h,...i})=>{let j=["inline-flex items-center justify-center font-medium transition-colors rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",{success:"bg-green-500 text-white hover:bg-green-600 focus:ring-green-500",primary:"bg-brand-500 text-white hover:bg-brand-600 focus:ring-brand-500 disabled:bg-brand-300",secondary:"bg-gray-100 text-gray-700 hover:bg-gray-200 focus:ring-gray-500 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600",danger:"bg-error-500 text-white hover:bg-error-600 focus:ring-error-500"}[a],{xs:"px-2 py-1 text-xs",sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-base"}[c],e?"w-full":"",h||d?"opacity-50 cursor-not-allowed":"",f].join(" ");return(0,b.jsxs)("button",{className:j,disabled:h||d,...i,children:[d&&(0,b.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),g]})}])},84312,a=>{"use strict";var b=a.i(96924);a.s(["EditIcon",()=>b.default])},83894,a=>{"use strict";var b=a.i(84692);a.s(["EyeIcon",()=>b.default])},62527,a=>{"use strict";var b=a.i(72131);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))});a.s(["PlayIcon",0,c],62527)},62097,a=>{"use strict";var b=a.i(54317);a.s(["QrcodeIcon",()=>b.default])},8922,a=>{"use strict";var b=a.i(87924);a.i(54828);var c=a.i(84312),d=a.i(44091),e=a.i(83894),f=a.i(89740),f=f,g=a.i(47116),g=g,h=a.i(62097),i=a.i(96438),j=a.i(62527);a.s(["default",0,({size:a="md",variant:k="primary",onClick:l,className:m="",disabled:n=!1,type:o="button",title:p="Editar",icon:q="edit"})=>{let r=`${"edit"===q||"eye"===q||"reload"===q||"stop"===q||"qrcode"===q?"text-gray-400 hover:text-brand-500 dark:hover:text-brand-400":"text-red-500 dark:text-red-400"} rounded-md flex items-center justify-center transition-colors`;return(0,b.jsx)(i.default,{variant:k,size:a,onClick:()=>l&&l(),className:`${r} ${m}`,title:p,type:o,disabled:n,children:q&&(0,b.jsx)("span",{className:"flex items-center",children:"edit"===q?(0,b.jsx)(c.EditIcon,{className:"w-5 h-5 inline-block"}):"eye"===q?(0,b.jsx)(e.EyeIcon,{className:"w-5 h-5 inline-block"}):"reload"===q?(0,b.jsx)(f.default,{className:"w-5 h-5 inline-block"}):"stop"===q?(0,b.jsx)(g.default,{className:"w-5 h-5 inline-block"}):"qrcode"===q?(0,b.jsx)(h.QrcodeIcon,{className:"w-5 h-5 inline-block"}):"play"===q?(0,b.jsx)(j.PlayIcon,{className:"w-5 h-5 inline-block text-green-500"}):(0,b.jsx)(d.TrashBinIcon,{className:"w-5 h-5 inline-block"})})})}],8922)},32101,a=>{"use strict";var b=a.i(87924);a.s(["default",0,({variant:a="light",color:c="primary",size:d="md",startIcon:e,className:f,endIcon:g,children:h})=>{let i={light:{primary:"bg-brand-50 text-brand-500 dark:bg-brand-500/15 dark:text-brand-400",success:"bg-success-50 text-success-600 dark:bg-success-500/15 dark:text-success-500",error:"bg-error-50 text-error-600 dark:bg-error-500/15 dark:text-error-500",warning:"bg-warning-50 text-warning-600 dark:bg-warning-500/15 dark:text-orange-400",info:"bg-blue-light-50 text-blue-light-500 dark:bg-blue-light-500/15 dark:text-blue-light-500",light:"bg-gray-100 text-gray-700 dark:bg-white/5 dark:text-white/80",dark:"bg-gray-500 text-white dark:bg-white/5 dark:text-white"},solid:{primary:"bg-brand-500 text-white dark:text-white",success:"bg-success-500 text-white dark:text-white",error:"bg-error-500 text-white dark:text-white",warning:"bg-warning-500 text-white dark:text-white",info:"bg-blue-light-500 text-white dark:text-white",light:"bg-gray-400 dark:bg-white/5 text-white dark:text-white/80",dark:"bg-gray-700 text-white dark:text-white"}}[a][c];return(0,b.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 justify-center gap-1 rounded-full font-medium ${{sm:"text-theme-xs",md:"text-sm"}[d]} ${i} ${f}`,children:[e&&(0,b.jsx)("span",{className:"mr-1",children:e}),h,g&&(0,b.jsx)("span",{className:"ml-1",children:g})]})}])},88541,a=>a.a(async(b,c)=>{try{var d=a.i(87924),e=a.i(72131),f=a.i(6704),g=a.i(32101),h=a.i(8922),i=a.i(90365),j=a.i(79029),k=b([i,j]);[i,j]=k.then?(await k)():k;let l={MERCADO_PAGO:{label:"Mercado Pago",color:"primary"},OMIE:{label:"Omie",color:"warning"},ASAAS:{label:"Asaas",color:"success"},CORA:{label:"Cora",color:"info"},EFIPAY:{label:"EFI Pay",color:"warning"}},m={MERCADO_PAGO:{access_token:{label:"Access Token",type:"password",required:!0}},OMIE:{app_key:{label:"App Key",type:"text",required:!0},app_secret:{label:"App Secret",type:"password",required:!0},conta_corrente_id:{label:"Conta Corrente ID",type:"text",required:!0}},ASAAS:{api_key:{label:"API Key",type:"password",required:!0}},CORA:{client_id:{label:"Client ID",type:"text",required:!0},cert_pem:{label:"Certificado (.pem)",type:"file",accept:".pem",required:!0},cert_key:{label:"Private Key (.key)",type:"file",accept:".key",required:!0}},EFIPAY:{client_id:{label:"Client ID",type:"text",required:!0},client_secret:{label:"Client Secret",type:"password",required:!0},chave_pix:{label:"Chave PIX",type:"text",required:!0},cert_p12:{label:"Certificado (.p12)",type:"file",accept:".p12",required:!0}}},n=["token","secret","key","access_token","app_secret","api_key","client_secret","id","pem"];a.s(["default",0,({gateway:a,onEdit:b,onDelete:c})=>{let[i,k]=(0,e.useState)(!1),[o,p]=(0,e.useState)({}),q=j.api.defaults.baseURL||"",r=q?`${q}/webhook/gateways/${a.gateway.toLowerCase()}`:"",s=l[a.gateway],t=m[a.gateway],u=Object.entries(a.dados||{}).filter(([a])=>t[a]),v=i?u:u.slice(0,4),w=async a=>{try{await navigator.clipboard.writeText(String(a)),f.toast.success("Copiado para a área de transferência")}catch(a){f.toast.error("Não foi possível copiar")}};return(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm hover:shadow-md transition-shadow border border-gray-200 dark:border-gray-700 p-5 flex flex-col",children:[(0,d.jsxs)("div",{className:"flex justify-between gap-4 mb-4",children:[(0,d.jsxs)("div",{className:"min-w-0",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,d.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white truncate max-w-[220px]",title:a.nome||s?.label,children:a.nome||s?.label}),s&&(0,d.jsx)(g.default,{color:s.color,className:"uppercase tracking-wide text-[10px] font-semibold",children:s.label}),a.isDefault&&(0,d.jsx)(g.default,{color:"success",className:"text-[10px] font-semibold",children:"Padrão"})]}),a.descricao&&(0,d.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 line-clamp-2",title:a.descricao,children:a.descricao})]}),(0,d.jsxs)("div",{className:"flex items-start gap-2 shrink-0",children:[(0,d.jsx)(h.default,{variant:"secondary",size:"xs",onClick:b,title:"Editar",icon:"edit"}),(0,d.jsx)(h.default,{variant:"secondary",size:"xs",onClick:c,title:"Excluir",icon:"delete"})]})]}),(0,d.jsxs)("div",{className:"space-y-3 flex-1",children:[(0,d.jsx)("h4",{className:"text-xs font-medium uppercase text-gray-500 dark:text-gray-400 tracking-wider",children:"Configurações"}),0===u.length&&(0,d.jsx)("p",{className:"text-sm text-gray-400",children:"Nenhuma configuração definida."}),(0,d.jsx)("ul",{className:"space-y-1",children:v.map(([a,b])=>{let c=n.some(b=>a.toLowerCase().includes(b)),e=o[a];return(0,d.jsx)("li",{className:"group border border-gray-100 dark:border-gray-700 rounded-lg px-2 py-1 bg-gray-50/60 dark:bg-gray-900/40 hover:bg-gray-100 dark:hover:bg-gray-900 transition-colors",children:(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("p",{className:"text-[11px] uppercase tracking-wide text-gray-500 dark:text-gray-500 font-medium mb-0.5",children:a.replace(/_/g," ").replace(/([a-z])([A-Z])/g,"$1 $2").replace(/^./,a=>a.toUpperCase())}),(0,d.jsx)("div",{className:"text-sm font-mono break-all text-gray-800 dark:text-gray-200 select-text",children:c&&!e?(a=>{if(null==a)return"-";let b=String(a);return b.length<=8?"*".repeat(b.length):b.slice(0,4)+"••••"+b.slice(-4)})(b):String(b)})]}),(0,d.jsxs)("div",{className:"flex flex-col gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[c&&(0,d.jsx)("button",{type:"button",onClick:()=>{p(b=>({...b,[a]:!b[a]}))},className:"text-[10px] px-2 py-1 rounded bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 font-medium",title:e?"Ocultar":"Revelar",children:e?"Ocultar":"Ver"}),(0,d.jsx)("button",{type:"button",onClick:()=>w(b),className:"text-[10px] px-2 py-1 rounded bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 font-medium",title:"Copiar valor",children:"Copiar"})]})]})},a)})}),u.length>4&&(0,d.jsx)("button",{type:"button",onClick:()=>k(a=>!a),className:"w-full mt-1 text-xs font-medium text-primary hover:underline",children:i?"Mostrar menos":`Mostrar todas (${u.length})`}),r&&(0,d.jsxs)("div",{className:"mt-4 border border-gray-100 dark:border-gray-700 rounded-lg p-3 bg-gray-50/60 dark:bg-gray-900/40",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,d.jsx)("h5",{className:"text-[11px] uppercase tracking-wide text-gray-500 dark:text-gray-400 font-semibold m-0",children:"Webhook"}),(0,d.jsx)("span",{className:"inline-flex items-center justify-center w-4 h-4 text-[10px] rounded-full bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300 cursor-help",title:"Use esta URL no painel do gateway para receber notificações e atualizar automaticamente as faturas.",children:"i"})]}),(0,d.jsxs)("div",{className:"flex items-start gap-2",children:[(0,d.jsx)("code",{className:"text-[11px] font-mono break-all text-gray-700 dark:text-gray-200 flex-1 select-text",children:r}),(0,d.jsx)("button",{type:"button",onClick:()=>w(r),className:"shrink-0 text-[10px] px-2 py-1 rounded bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 font-medium",title:"Copiar URL",children:"Copiar"})]})]})]})]})}]),c()}catch(a){c(a)}},!1),98165,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(6704),e=a.i(39323),f=a.i(622),g=a.i(96438),h=a.i(39906);let i=[{value:"MERCADO_PAGO",label:"Mercado Pago"},{value:"ASAAS",label:"Asaas"},{value:"CORA",label:"Cora"},{value:"EFIPAY",label:"EFI Pay"}],j={MERCADO_PAGO:{access_token:{label:"Access Token",type:"password",required:!0}},OMIE:{app_key:{label:"App Key",type:"text",required:!0},app_secret:{label:"App Secret",type:"password",required:!0},conta_corrente_id:{label:"Conta Corrente ID",type:"text",required:!0}},ASAAS:{api_key:{label:"API Key",type:"password",required:!0}},CORA:{client_id:{label:"Client ID",type:"text",required:!0},cert_pem:{label:"Certificado (.pem)",type:"file",accept:".pem",required:!0},cert_key:{label:"Private Key (.key)",type:"file",accept:".key",required:!0}},EFIPAY:{client_id:{label:"Client ID",type:"text",required:!0},client_secret:{label:"Client Secret",type:"password",required:!0},chave_pix:{label:"Chave PIX",type:"text",required:!0},cert_p12:{label:"Certificado (.p12)",type:"file",accept:".p12",required:!0}}};a.s(["default",0,({gateway:a,onSubmit:k,onCancel:l})=>{let[m,n]=(0,c.useState)({}),[o,p]=(0,c.useState)({gateway:a?.gateway||"MERCADO_PAGO",nome:a?.nome||"",descricao:a?.descricao||"",isDefault:a?.isDefault||!1,dados:a?.dados||{},empresaId:a?.empresaId}),[q,r]=(0,c.useState)({}),[s,t]=(0,c.useState)(!1),u=async a=>{let b,c,e;if(a.preventDefault(),b={},c=j[o.gateway],o.nome||(b.nome="Nome é obrigatório"),o.gateway||(b.gateway="Gateway é obrigatório"),e={},c&&Object.entries(c).forEach(([a,b])=>{b.required&&!o.dados[a]&&(e[a]=`${b.label} \xe9 obrigat\xf3rio`)}),Object.keys(e).length>0&&(b.dados=e),r(b),0===Object.keys(b).length){t(!0);try{let a=new FormData;a.append("gateway",o.gateway),a.append("nome",o.nome),a.append("descricao",o.descricao||""),a.append("isDefault",String(o.isDefault)),a.append("empresaId",String(o.empresaId||"")),Object.entries(o.dados).forEach(([b,c])=>{a.append(`dados[${b}]`,c)}),Object.entries(m).forEach(([b,c])=>{a.append(b,c)}),console.log("FormData::",a),await k(a)}catch(a){d.toast.error("Erro ao salvar gateway")}finally{t(!1)}}};return(0,b.jsxs)("form",{onSubmit:u,className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(h.default,{htmlFor:"gateway",children:"Gateway"}),(0,b.jsx)(f.default,{id:"gateway",name:"gateway",value:i.find(a=>a.value===o.gateway),options:i,onChange:a=>{a&&p({...o,gateway:a.value,dados:{}})},error:q.gateway})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.default,{htmlFor:"nome",children:"Nome"}),(0,b.jsx)(e.default,{id:"nome",name:"nome",value:o.nome,onChange:a=>p({...o,nome:a.target.value}),error:q.nome})]}),(0,b.jsxs)("div",{className:"sm:col-span-2",children:[(0,b.jsx)(h.default,{htmlFor:"descricao",children:"Descrição"}),(0,b.jsx)("textarea",{title:"descricao",id:"descricao",name:"descricao",value:o.descricao,onChange:a=>p({...o,descricao:a.target.value}),className:"w-full rounded-lg border border-stroke bg-transparent px-4 py-3 outline-none focus:border-primary focus-visible:shadow-none dark:border-gray-600 dark:bg-gray-900 dark:focus:border-primary dark:text-white",rows:3})]}),(0,b.jsx)("div",{className:"sm:col-span-2",children:(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("input",{title:"Gateway padrão",type:"checkbox",id:"isDefault",checked:o.isDefault,onChange:a=>p({...o,isDefault:a.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),(0,b.jsx)(h.default,{htmlFor:"isDefault",children:"Gateway padrão"})]})}),o.gateway&&j[o.gateway]&&(0,b.jsxs)("div",{className:"sm:col-span-2",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Configurações do Gateway"}),(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:Object.entries(j[o.gateway]).map(([a,c])=>{let d=".zip";return"accept"in c&&(d=c.accept),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.default,{htmlFor:a,children:c.label}),"select"===c.type?(0,b.jsx)(f.default,{id:a,name:a,value:c.options?.find(b=>b.value===o.dados[a]),options:c.options||[],onChange:b=>{b&&p({...o,dados:{...o.dados,[a]:b.value}})},error:q.dados?.[a]}):"file"===c.type?(0,b.jsx)(e.default,{id:a,name:a,type:c.type,accept:d,onChange:async b=>{let c=b.target.files?.[0];c&&(p({...o,dados:{...o.dados,[a]:c.name}}),n(b=>({...b,[a]:c})))},error:q.dados?.[a]}):(0,b.jsx)(e.default,{id:a,name:a,type:c.type,value:o.dados[a]||"",onChange:b=>p({...o,dados:{...o.dados,[a]:b.target.value}}),error:q.dados?.[a]})]},a)})})]})]}),(0,b.jsxs)("div",{className:"flex justify-end space-x-4 pt-4",children:[(0,b.jsx)(g.default,{variant:"secondary",onClick:l,disabled:s,children:"Cancelar"}),(0,b.jsx)(g.default,{variant:"primary",type:"submit",disabled:s,children:s?"Salvando...":a?"Atualizar":"Criar"})]})]})}])},62774,a=>a.a(async(b,c)=>{try{var d=a.i(87924),e=a.i(72131),f=a.i(6704),g=a.i(96438),h=a.i(16777),i=a.i(39323),j=a.i(43742),k=a.i(88541),l=a.i(23091),m=a.i(98165),n=a.i(39906),o=b([j,k]);function p(){let[a,b]=(0,e.useState)([]),[c,o]=(0,e.useState)(!0),[p,q]=(0,e.useState)(""),[r,s]=(0,e.useState)(1),[t,u]=(0,e.useState)(0),[v,w]=(0,e.useState)(!1),[x,y]=(0,e.useState)(null),[z,A]=(0,e.useState)({}),[B,C]=(0,e.useState)(9),D=(0,e.useCallback)(async()=>{try{o(!0);let a=await j.gatewayService.list({page:r,limit:B,search:p});b(a.data),u(a.pagination.pages)}catch(a){console.error("Erro ao carregar gateways:",a),f.toast.error("Erro ao carregar gateways")}finally{o(!1)}},[r,p,B]);(0,e.useEffect)(()=>{D()},[D]);let E=async a=>{if(window.confirm("Tem certeza que deseja excluir este gateway?"))try{await j.gatewayService.delete(a),f.toast.success("Gateway excluído com sucesso"),D()}catch(a){f.toast.error("Erro ao excluir gateway")}},F=async a=>{try{x?(await j.gatewayService.update(x.id,a),f.toast.success("Gateway atualizado com sucesso")):(await j.gatewayService.create(a),f.toast.success("Gateway criado com sucesso")),w(!1),y(null),D()}catch(a){f.toast.error("Erro ao salvar gateway")}};return(0,d.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8",children:[(0,d.jsxs)("div",{className:"mb-8",children:[(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-2",children:"Bancos e Gateways"}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Gerencie as integrações de pagamento do sistema"})]}),(0,d.jsx)("div",{className:"flex items-center gap-2",children:(0,d.jsx)(g.default,{variant:"primary",onClick:()=>{y(null),w(!0)},children:"Novo Gateway"})})]}),(0,d.jsx)("div",{className:"mt-6 flex flex-col sm:flex-row items-center gap-4",children:(0,d.jsx)("div",{className:"flex-1 w-full sm:max-w-xs",children:(0,d.jsx)(i.default,{type:"text",placeholder:"Buscar gateways...",value:p,onChange:a=>{q(a.target.value),s(1)},className:"w-full"})})})]}),(0,d.jsxs)("div",{className:"flex justify-between mb-4 gap-2 flex-wrap",children:[(0,d.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,d.jsx)(n.default,{className:"flex items-center mb-0 h-full",children:"Quantidade por página"}),(0,d.jsx)(i.default,{className:"max-w-24",defaultValue:B,max:100,min:1,onChange:a=>{let b=Number(a.target.value)||9;C(b),s(1)}})]}),(0,d.jsx)(l.default,{currentPage:r,totalPages:t,onPageChange:s})]}),c?(0,d.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(a=>(0,d.jsx)("div",{className:"animate-pulse bg-gray-100 dark:bg-gray-800 rounded-lg h-48"},a))}):(0,d.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:a.length>0?a.map(a=>(0,d.jsx)(k.default,{gateway:a,onEdit:()=>{y(a),w(!0)},onDelete:()=>E(a.id)},a.id)):(0,d.jsx)("div",{className:"col-span-full text-center py-12",children:(0,d.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhum gateway encontrado"})})}),t>1&&(0,d.jsx)("div",{className:"mt-6",children:(0,d.jsx)("div",{className:"flex justify-end mb-4 gap-2 flex-wrap",children:(0,d.jsx)(l.default,{currentPage:r,totalPages:t,onPageChange:s})})}),(0,d.jsx)(h.Modal,{isOpen:v,onClose:()=>{w(!1),y(null)},className:"max-w-[800px] m-4",children:(0,d.jsx)("div",{className:"no-scrollbar relative w-full overflow-y-auto rounded-3xl bg-white p-4 dark:bg-gray-900 lg:p-11",children:(0,d.jsx)(m.default,{gateway:x,onSubmit:F,onCancel:()=>{w(!1),y(null)}})})})]})}[j,k]=o.then?(await o)():o,a.s(["default",()=>p]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=_09db1211._.js.map
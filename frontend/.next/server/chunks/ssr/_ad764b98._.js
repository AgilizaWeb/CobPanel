module.exports=[39323,a=>{"use strict";var b=a.i(87924);a.s(["default",0,({type:a="text",id:c,name:d,placeholder:e,defaultValue:f,onChange:g,min:h,max:i,step:j,disabled:k=!1,success:l=!1,error:m=!1,hint:n,value:o,required:p,className:q="",...r})=>{let s=`h-11 w-full rounded-lg border px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:outline-hidden focus:ring-3 ${q}`;if("date"!==a&&(s+=" appearance-none"),k)s+=" text-gray-500 border-gray-300 cursor-not-allowed dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700";else if(m){if(s+=" text-error-800 border-error-500 focus:ring-3 focus:ring-error-500/10  dark:text-error-400 dark:border-error-500","string"==typeof m)return(0,b.jsxs)("div",{children:[(0,b.jsx)("input",{...r,type:a,id:c,name:d,placeholder:e,defaultValue:f,onChange:g,className:s,min:h,max:i,step:j,disabled:k,value:o,required:p}),(0,b.jsx)("p",{className:"mt-1 text-xs text-error-500",children:m})]})}else l?s+=" text-success-500 border-success-400 focus:ring-success-500/10 focus:border-success-300  dark:text-success-400 dark:border-success-500":s+=" bg-transparent text-gray-800 border-gray-300 focus:border-brand-300 focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:focus:border-brand-800";return(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{...r,type:a,id:c,name:d,placeholder:e,value:o,defaultValue:f,onChange:g,min:h,max:i,required:p,step:j,disabled:k,className:s}),n&&(0,b.jsx)("p",{className:`mt-1.5 text-xs ${m?"text-error-500":l?"text-success-500":"text-gray-500"}`,children:n})]})}])},96438,a=>{"use strict";var b=a.i(87924);a.s(["default",0,({variant:a="primary",size:c="md",loading:d=!1,fullWidth:e=!1,className:f="",children:g,disabled:h,...i})=>{let j=["inline-flex items-center justify-center font-medium transition-colors rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",{success:"bg-green-500 text-white hover:bg-green-600 focus:ring-green-500",primary:"bg-brand-500 text-white hover:bg-brand-600 focus:ring-brand-500 disabled:bg-brand-300",secondary:"bg-gray-100 text-gray-700 hover:bg-gray-200 focus:ring-gray-500 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600",danger:"bg-error-500 text-white hover:bg-error-600 focus:ring-error-500"}[a],{xs:"px-2 py-1 text-xs",sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-base"}[c],e?"w-full":"",h||d?"opacity-50 cursor-not-allowed":"",f].join(" ");return(0,b.jsxs)("button",{className:j,disabled:h||d,...i,children:[d&&(0,b.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),g]})}])},23091,a=>{"use strict";var b=a.i(87924);let c=a=>(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...a,children:(0,b.jsx)("polyline",{points:"15 18 9 12 15 6"})}),d=a=>(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...a,children:(0,b.jsx)("polyline",{points:"9 18 15 12 9 6"})});var e=a.i(96438);a.s(["default",0,({currentPage:a,totalPages:f,onPageChange:g})=>(0,b.jsxs)("nav",{className:"flex justify-center items-center space-x-2",children:[(0,b.jsx)(e.default,{variant:"secondary",size:"sm",onClick:()=>g(a-1),disabled:1===a,children:(0,b.jsx)(c,{className:"h-5 w-5"})}),(()=>{let c=[],d=Math.max(1,a-2),h=Math.min(f,a+2);d>1&&(c.push((0,b.jsx)(e.default,{variant:1===a?"primary":"secondary",size:"sm",onClick:()=>g(1),className:"hidden sm:block",children:"1"},1)),d>2&&c.push((0,b.jsx)("span",{className:"px-2 py-2 text-gray-500 dark:text-gray-400",children:"..."},"start-ellipsis")));for(let f=d;f<=h;f++)c.push((0,b.jsx)(e.default,{variant:a===f?"primary":"secondary",size:"sm",onClick:()=>g(f),children:f},f));return h<f&&(h<f-1&&c.push((0,b.jsx)("span",{className:"px-2 py-2 text-gray-500 dark:text-gray-400",children:"..."},"end-ellipsis")),c.push((0,b.jsx)(e.default,{variant:a===f?"primary":"secondary",size:"sm",onClick:()=>g(f),className:"hidden sm:block",children:f},f))),c})(),(0,b.jsx)(e.default,{variant:"secondary",size:"sm",onClick:()=>g(a+1),disabled:a===f,children:(0,b.jsx)(d,{className:"h-5 w-5"})})]})],23091)},34165,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(39906);a.i(54828);var e=a.i(42173),e=e;function f({id:a,mode:f,onChange:g,label:h,defaultDate:i,dateFormat:j="d/m/Y",placeholder:k,onClickHj:l,onClickMes:m,onClickAno:n,onClickClean:o}){let[p,q]=(0,c.useState)(!1);return(l||(l=a=>{a&&a.setDate(new Date),a.close()}),o||(o=a=>{a&&a.clear(),a.close()}),(0,c.useEffect)(()=>{q(!0)},[]),(0,c.useEffect)(()=>{},[p,f,g,a,i,j,n,m,l,o]),p)?(0,b.jsxs)("div",{children:[h&&(0,b.jsx)(d.default,{htmlFor:a,children:h}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{id:a,placeholder:k,className:"h-11 w-full rounded-lg border appearance-none px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:outline-hidden focus:ring-3  dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30  bg-transparent text-gray-800 border-gray-300 focus:border-brand-300 focus:ring-brand-500/20 dark:border-gray-700  dark:focus:border-brand-800"}),(0,b.jsx)("span",{className:"absolute text-gray-500 -translate-y-1/2 pointer-events-none right-3 top-1/2 dark:text-gray-400",children:(0,b.jsx)(e.default,{className:"size-6"})})]})]}):(0,b.jsxs)("div",{children:[h&&(0,b.jsx)(d.default,{htmlFor:a,children:h}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{id:a,placeholder:k,className:"h-11 w-full rounded-lg border appearance-none px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:outline-hidden focus:ring-3 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 bg-transparent text-gray-800 border-gray-300 focus:border-brand-300 focus:ring-brand-500/20 dark:border-gray-700 dark:focus:border-brand-800",disabled:!0}),(0,b.jsx)("span",{className:"absolute text-gray-500 -translate-y-1/2 pointer-events-none right-3 top-1/2 dark:text-gray-400",children:(0,b.jsx)(e.default,{className:"size-6"})})]})]})}a.s(["default",()=>f],34165)},32245,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"BailoutToCSR",{enumerable:!0,get:function(){return e}});let d=a.r(41997);function e({reason:a,children:b}){throw Object.defineProperty(new d.BailoutToCSRError(a),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}},7773,(a,b,c)=>{"use strict";function d(a){return a.split("/").map(a=>encodeURIComponent(a)).join("/")}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"encodeURIPath",{enumerable:!0,get:function(){return d}})},97458,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"PreloadChunks",{enumerable:!0,get:function(){return i}});let d=a.r(87924),e=a.r(35112),f=a.r(56704),g=a.r(7773),h=a.r(68063);function i({moduleIds:a}){let b=f.workAsyncStorage.getStore();if(void 0===b)return null;let c=[];if(b.reactLoadableManifest&&a){let d=b.reactLoadableManifest;for(let b of a){if(!d[b])continue;let a=d[b].files;c.push(...a)}}if(0===c.length)return null;let i=(0,h.getDeploymentIdQueryOrEmptyString)();return(0,d.jsx)(d.Fragment,{children:c.map(a=>{let c=`${b.assetPrefix}/_next/${(0,g.encodeURIPath)(a)}${i}`;return a.endsWith(".css")?(0,d.jsx)("link",{precedence:"dynamic",href:c,rel:"stylesheet",as:"style",nonce:b.nonce},a):((0,e.preload)(c,{as:"script",fetchPriority:"low",nonce:b.nonce}),null)})})}},69853,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return j}});let d=a.r(87924),e=a.r(72131),f=a.r(32245),g=a.r(97458);function h(a){return{default:a&&"default"in a?a.default:a}}let i={loader:()=>Promise.resolve(h(()=>null)),loading:null,ssr:!0},j=function(a){let b={...i,...a},c=(0,e.lazy)(()=>b.loader().then(h)),j=b.loading;function k(a){let h=j?(0,d.jsx)(j,{isLoading:!0,pastDelay:!0,error:null}):null,i=!b.ssr||!!b.loading,k=i?e.Suspense:e.Fragment,l=b.ssr?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g.PreloadChunks,{moduleIds:b.modules}),(0,d.jsx)(c,{...a})]}):(0,d.jsx)(f.BailoutToCSR,{reason:"next/dynamic",children:(0,d.jsx)(c,{...a})});return(0,d.jsx)(k,{...i?{fallback:h}:{},children:l})}return k.displayName="LoadableComponent",k}},19721,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return e}});let d=a.r(33354)._(a.r(69853));function e(a,b){let c={};"function"==typeof a&&(c.loader=a);let e={...c,...b};return(0,d.default)({...e,modules:e.loadableGenerated?.modules})}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},71702,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(52647);let e=(0,a.i(19721).default)(async()=>{},{loadableGenerated:{modules:[81814]},ssr:!1}),f=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"];function g({data:a}){let g=(0,c.useMemo)(()=>a&&0!==a.length?"number"==typeof a[0]?f.map((b,c)=>({label:b,revenue:Number(a[c]??0)})):a.map((a,b)=>({label:a.label??f[b]??`M${b+1}`,revenue:Number(a.revenue??0)})):f.map(a=>({label:a,revenue:0})),[a]),h=g.map(a=>a.label),i=g.map(a=>a.revenue);return(0,b.jsxs)("div",{className:"overflow-hidden rounded-2xl border border-gray-200 bg-white px-5 pt-5 dark:border-gray-800 dark:bg-white/[0.03] sm:px-6 sm:pt-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:"Receita por mês"})}),(0,b.jsx)("div",{className:"max-w-full overflow-x-auto custom-scrollbar",children:(0,b.jsx)("div",{className:"-ml-5 min-w-[650px] xl:min-w-full pl-2",children:(0,b.jsx)(e,{options:{colors:["#465fff"],chart:{fontFamily:"Outfit, sans-serif",type:"bar",height:200,toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:"39%",borderRadius:5,borderRadiusApplication:"end"}},dataLabels:{enabled:!1},stroke:{show:!0,width:4,colors:["transparent"]},xaxis:{categories:h,axisBorder:{show:!1},axisTicks:{show:!1}},legend:{show:!1},yaxis:{labels:{formatter:a=>`${(0,d.formatCurrency)(a)}`}},grid:{yaxis:{lines:{show:!0}}},fill:{opacity:1},tooltip:{x:{show:!1},y:{formatter:a=>`${(0,d.formatCurrency)(a)}`}}},series:[{name:"Receita",data:i}],type:"bar",height:200})})})]})}a.s(["RevenueByMonthChart",()=>g])},36374,a=>{"use strict";var b=a.i(87924);let c=(0,a.i(19721).default)(async()=>{},{loadableGenerated:{modules:[81814]},ssr:!1}),d={PENDING:"Pendente",APPROVED:"Pago",CANCELLED:"Cancelado",PENDENTE:"Pendente",PAGO:"Pago"},e={PENDING:"#f59e0b",APPROVED:"#10b981",CANCELLED:"#ef4444",PENDENTE:"#f59e0b",PAGO:"#10b981"};function f({items:a}){let f=a?.map(a=>d[a.status]??a.status)??[],g=a?.map(a=>a.total)??[],h=a?.map(a=>e[a.status]??"#6366f1");return(0,b.jsxs)("div",{className:"rounded-2xl border border-gray-200 bg-white px-5 pt-5 dark:border-gray-800 dark:bg-white/[0.03] sm:px-6 sm:pt-6",children:[(0,b.jsx)("h3",{className:"mb-4 text-lg font-semibold text-gray-800 dark:text-white/90",children:"Vendas por status"}),(0,b.jsx)(c,{options:{chart:{type:"donut",height:320,fontFamily:"Outfit, sans-serif"},labels:f,legend:{position:"bottom"},dataLabels:{enabled:!0},colors:h,tooltip:{y:{formatter:a=>`${a}`}}},series:g,type:"donut",height:320})]})}a.s(["SalesByStatusChart",()=>f])},16890,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(52647),e=a.i(96438);a.s(["default",0,({vendaFinal:a,onEdit:f,onDelete:g,onSend:h,showActions:i=!0})=>{let[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(null),n=(a,b)=>{navigator.clipboard.writeText(a),m(b),setTimeout(()=>m(null),2e3)},o=(a,b=4)=>a.length<=b?a:a.slice(0,b)+"*".repeat(a.length-b);return(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6 hover:shadow-lg transition-shadow duration-200",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:["Fatura #",a.id]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${(a=>{switch(a){case"APPROVED":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"PENDING":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400";case"CANCELLED":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}})(a.status)}`,children:(a=>{switch(a){case"APPROVED":return"Aprovado";case"PENDING":return"Pendente";case"CANCELLED":return"Cancelado";default:return a}})(a.status)}),(0,b.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",children:(a=>{switch(a){case"PIX":return"PIX";case"BOLETO":return"Boleto";default:return a}})(a.type)})]}),(0,b.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["UUID: ",a.uuid.slice(0,8),"..."]})]}),(0,b.jsxs)("div",{className:"flex gap-2 ml-4",children:[i&&h&&(0,b.jsx)(e.default,{variant:"primary",size:"sm",onClick:h,className:"p-2",title:"Enviar fatura para o cliente",children:(0,b.jsx)("svg",{className:"w-4 h-4",viewBox:"0 0 20 20",fill:"currentColor",children:(0,b.jsx)("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})}),i&&(0,b.jsx)(e.default,{variant:"secondary",size:"sm",onClick:f,className:"p-2",children:(0,b.jsx)("svg",{className:"w-4 h-4",viewBox:"0 0 20 20",fill:"currentColor",children:(0,b.jsx)("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),i&&(0,b.jsx)(e.default,{variant:"danger",size:"sm",onClick:g,className:"p-2",children:(0,b.jsx)("svg",{className:"w-4 h-4",viewBox:"0 0 20 20",fill:"currentColor",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Valor"}),(0,b.jsx)("dd",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:(0,d.formatCurrency)(a.valor)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Vencimento"}),(0,b.jsx)("dd",{className:`text-sm text-gray-900 dark:text-white border-b border-b-${(0,d.getDueDateColor)(a.vencimento)}-500`,children:(0,d.formatDate)(a.vencimento)})]}),a.dataPagamento&&(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Data de Pagamento"}),(0,b.jsx)("dd",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:(0,d.formatDate)(a.dataPagamento)})]})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Dados de Pagamento"}),(0,b.jsx)(e.default,{variant:"secondary",size:"sm",onClick:()=>k(!j),className:"text-xs",children:j?"Ocultar":"Mostrar"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"ID do Pagamento:"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-sm font-mono text-gray-900 dark:text-white",children:j?a.id_payment||"N/A":o(a.id_payment||"N/A")}),a.id_payment&&(0,b.jsx)(e.default,{variant:"secondary",size:"sm",onClick:()=>n(a.id_payment,"id_payment"),className:"p-1",children:"id_payment"===l?(0,b.jsx)("svg",{className:"w-3 h-3 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):(0,b.jsxs)("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:[(0,b.jsx)("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),(0,b.jsx)("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})]})})]})]}),a.copiacola&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Copia e Cola:"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-sm font-mono text-gray-900 dark:text-white break-all",children:j?a.copiacola:o(a.copiacola,20)}),(0,b.jsx)(e.default,{variant:"secondary",size:"sm",onClick:()=>n(a.copiacola,"copiacola"),className:"p-1 min-w-fit",children:"copiacola"===l?(0,b.jsx)("svg",{className:"w-3 h-3 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):(0,b.jsxs)("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:[(0,b.jsx)("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),(0,b.jsx)("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})]})})]})]}),a.codigobarra&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Código de Barra:"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-sm font-mono text-gray-900 dark:text-white",children:j?a.codigobarra:o(a.codigobarra,10)}),(0,b.jsx)(e.default,{variant:"secondary",size:"sm",onClick:()=>n(a.codigobarra,"codigobarra"),className:"p-1",children:"codigobarra"===l?(0,b.jsx)("svg",{className:"w-3 h-3 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):(0,b.jsxs)("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:[(0,b.jsx)("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),(0,b.jsx)("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})]})})]})]})]})]}),(0,b.jsx)("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,b.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Venda ID: #",a.vendaId]})})]})}])},97976,a=>{"use strict";var b=a.i(87924);a.i(54828);var c=a.i(48526),c=c,d=a.i(60711),e=a.i(81956),f=a.i(52647);function g({totalClientes:a,totalVendas:g,totalRecebido:h}){return(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3 md:gap-6",children:[(0,b.jsxs)("div",{className:"rounded-2xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-white/[0.03] md:p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-gray-100 rounded-xl dark:bg-gray-800",children:(0,b.jsx)(d.GroupIcon,{className:"text-gray-800 size-6 dark:text-white/90"})}),(0,b.jsx)("div",{className:"flex items-end justify-between mt-5",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Clientes"}),(0,b.jsx)("h4",{className:"mt-2 font-bold text-gray-800 text-title-sm dark:text-white/90",children:a})]})})]}),(0,b.jsxs)("div",{className:"rounded-2xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-white/[0.03] md:p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-gray-100 rounded-xl dark:bg-gray-800",children:(0,b.jsx)(c.default,{className:"text-gray-800 dark:text-white/90"})}),(0,b.jsx)("div",{className:"flex items-end justify-between mt-5",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Vendas"}),(0,b.jsx)("h4",{className:"mt-2 font-bold text-gray-800 text-title-sm dark:text-white/90",children:g})]})})]}),(0,b.jsxs)("div",{className:"rounded-2xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-white/[0.03] md:p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-gray-100 rounded-xl dark:bg-gray-800",children:(0,b.jsx)(e.DollarLineIcon,{className:"text-gray-800 dark:text-white/90"})}),(0,b.jsx)("div",{className:"flex items-end justify-between mt-5",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total recebido"}),(0,b.jsx)("h4",{className:"mt-2 font-bold text-gray-800 text-title-sm dark:text-white/90",children:(0,f.formatCurrency)(h||0)})]})})]})]})}a.s(["DashboardKpis",()=>g],97976)},18883,a=>{"use strict";var b=a.i(87924),c=a.i(16890);function d({items:a,onSend:d}){return a?.length?(0,b.jsx)("div",{className:"space-y-4",children:a.map(a=>(0,b.jsx)(c.default,{vendaFinal:a,onSend:d?()=>d(a.id):void 0,onEdit:()=>{},onDelete:()=>{},showActions:!1},a.id))}):(0,b.jsx)("div",{className:"rounded-2xl border border-dashed border-gray-200 p-6 text-center text-gray-500 dark:border-gray-800 dark:text-gray-400",children:"Sem faturas recentes"})}a.s(["RecentInvoices",()=>d])},40929,a=>a.a(async(b,c)=>{try{var d=a.i(87924),e=a.i(72131),f=a.i(32636),g=a.i(97976),h=a.i(71702),i=a.i(36374),j=a.i(93601),k=a.i(18883),l=a.i(622),m=a.i(39323),n=a.i(34165),o=a.i(23091),p=a.i(43742),q=a.i(90365),r=a.i(49744),s=b([f,j,p,q,r]);function t(){let{user:a}=(0,f.useAuth)(),[b,c]=(0,e.useState)(!0),[q,s]=(0,e.useState)([]),[t,u]=(0,e.useState)([]),[v,w]=(0,e.useState)({data:[],pagination:{total:0,page:1,limit:1,pages:0},message:""}),x=new Date(new Date().getFullYear(),0,1),y=new Date(new Date().getFullYear(),11,31),[z,A]=(0,e.useState)(""),[B,C]=(0,e.useState)(void 0),[D,E]=(0,e.useState)(void 0),[F,G]=(0,e.useState)(`${x.toISOString()},${y.toISOString()}`),[H,I]=(0,e.useState)(void 0),[J,K]=(0,e.useState)("createdAt_desc"),[L,M]=(0,e.useState)(1),[N,O]=(0,e.useState)(10),[P,Q]=(0,e.useState)(0),R=a?.empresaId;(0,e.useEffect)(()=>{let a=!1;return(async()=>{if(R)try{c(!0);let[b,d,e]=await Promise.all([p.gatewayService.list({page:0,limit:0}),j.vendaFinalService.list({page:L,limit:N,search:z,type:B,status:D,vencimento:F,gatewayId:H,orderBy:J}),r.clienteService.list({page:1,limit:1,search:""})]);if(a)return;u(b.data||[]),s(d.data||[]),w(e),Q(d.pagination?.pages||0)}catch(a){console.error("Erro ao carregar dashboard",a)}finally{a||c(!1)}})(),()=>{a=!0}},[R,L,N,z,B,D,F,H,J]);let S=(0,e.useMemo)(()=>{let a=Array(12).fill(0);if(!q?.length)return a;let b=new Date().getFullYear();for(let c of q){let d=new Date(c.vencimento);if("APPROVED"!==c.status||d.getFullYear()!==b)continue;let e=d.getMonth(),f=Number(c.valor??0);Number.isNaN(f)||(a[e]+=f)}return console.log("receitaMensal:",a),a},[q]),T=(0,e.useMemo)(()=>{let a=new Map;for(let b of q){let c=b.status,d=a.get(c)||0;a.set(c,d+(Number(b.valor)||0))}return Array.from(a.entries()).map(([a,b])=>({status:a,total:b}))},[q]),U=async a=>{try{await j.vendaFinalService.send(a)}catch(a){}};return(0,d.jsxs)("div",{className:"grid grid-cols-12 gap-4 md:gap-6",children:[(0,d.jsxs)("div",{className:"col-span-12 space-y-6 xl:col-span-7",children:[(0,d.jsx)(g.DashboardKpis,{totalClientes:v.pagination.total,totalVendas:q.length,totalRecebido:q.filter(a=>"APPROVED"===a.status).reduce((a,b)=>a+(Number(b.valor)||0),0)}),(0,d.jsx)(h.RevenueByMonthChart,{data:S})]}),(0,d.jsx)("div",{className:"col-span-12 xl:col-span-5",children:(0,d.jsx)(i.SalesByStatusChart,{items:T})}),(0,d.jsxs)("div",{className:"col-span-12 space-y-4",children:[(0,d.jsxs)("div",{className:"flex flex-col gap-3 md:flex-row md:items-end md:justify-between",children:[(0,d.jsx)("div",{className:"flex-1 max-w-xs",children:(0,d.jsx)(m.default,{type:"text",placeholder:"Buscar faturas...",value:z,onChange:a=>{A(a.target.value),M(1)}})}),(0,d.jsxs)("div",{className:"flex flex-wrap gap-3 items-end",children:[(0,d.jsx)(l.default,{placeholder:"Tipo",options:[{value:"PIX",label:"PIX"},{value:"BOLETO",label:"Boleto"}],value:B?{value:B,label:B}:void 0,onChange:a=>{C(a?a.value:void 0),M(1)},isClearable:!0,className:"min-w-40"}),(0,d.jsx)(l.default,{placeholder:"Status",options:[{value:"PENDING",label:"Pendente"},{value:"APPROVED",label:"Aprovado"},{value:"CANCELLED",label:"Cancelado"}],value:D?{value:D,label:D}:void 0,onChange:a=>{E(a?a.value:void 0),M(1)},isClearable:!0,className:"min-w-40"}),(0,d.jsx)("div",{className:"min-w-48",children:(0,d.jsx)(n.default,{id:"vencimento",mode:"range",onClickClean:a=>{a&&(a.clear(),a.close(),G(void 0),M(1))},onClickHj:a=>{if(a){let b=new Date;a.setDate(b),a.close(),G(b.toISOString()),M(1)}},onClickAno:a=>{if(a){let b=new Date,c=new Date(b.getFullYear(),0,1),d=new Date(b.getFullYear(),11,31);a.setDate(c),a.setDate(d),a.close(),G(`${c.toISOString()},${d.toISOString()}`),M(1)}},onClickMes:a=>{if(a){let b=new Date,c=new Date(b.getFullYear(),b.getMonth(),1),d=new Date(b.getFullYear(),b.getMonth()+1,0);a.setDate(c),a.setDate(d),a.close(),G(`${c.toISOString()},${d.toISOString()}`),M(1)}},onChange:a=>{let b=a.length,c=b>1?a?.[0]?.toISOString()+","+a?.[1]?.toISOString():a?.[0]?.toISOString();b>1&&(G(c),M(1))},defaultDate:F?.split(",").map(a=>new Date(a))||void 0})}),(0,d.jsx)(l.default,{placeholder:"Gateway",options:t.map(a=>({value:a.id.toString(),label:`${a.nome} (${a.gateway})${a.isDefault?" (Padrão)":""}`})),value:H?{value:H.toString(),label:t.find(a=>a.id===H)?.nome||""}:void 0,onChange:a=>{I(a?parseInt(a.value):void 0),M(1)},isClearable:!0,className:"min-w-50"}),(0,d.jsx)(l.default,{placeholder:"Ordenar por",options:[{value:"createdAt_desc",label:"Criado - Mais recente"},{value:"createdAt_asc",label:"Criado - Mais antigo"},{value:"vencimento_asc",label:"Vencimento - Mais próximo"},{value:"vencimento_desc",label:"Vencimento - Mais distante"},{value:"valor_desc",label:"Valor - Maior"},{value:"valor_asc",label:"Valor - Menor"}],value:{value:J,label:""},onChange:a=>{K(a?a.value:"createdAt_desc"),M(1)},isClearable:!1,className:"min-w-50"})]})]}),(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:"Faturas"}),(0,d.jsx)(k.RecentInvoices,{items:q,onSend:U}),(0,d.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,d.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Itens por página:",(0,d.jsx)("select",{title:"Itens por página",className:"ml-2 rounded border border-gray-300 bg-white px-2 py-1 text-sm dark:bg-gray-900 dark:border-gray-700",value:N,onChange:a=>{O(parseInt(a.target.value)),M(1)},children:[5,10,20].map(a=>(0,d.jsx)("option",{value:a,children:a},a))})]}),(0,d.jsx)(o.default,{totalPages:P,currentPage:L,onPageChange:M})]})]})]})}[f,j,p,q,r]=s.then?(await s)():s,a.s(["default",()=>t]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=_ad764b98._.js.map
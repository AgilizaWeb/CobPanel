module.exports=[39323,a=>{"use strict";var b=a.i(87924);a.s(["default",0,({type:a="text",id:c,name:d,placeholder:e,defaultValue:f,onChange:g,min:h,max:i,step:j,disabled:k=!1,success:l=!1,error:m=!1,hint:n,value:o,required:p,className:q="",...r})=>{let s=`h-11 w-full rounded-lg border px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:outline-hidden focus:ring-3 ${q}`;if("date"!==a&&(s+=" appearance-none"),k)s+=" text-gray-500 border-gray-300 cursor-not-allowed dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700";else if(m){if(s+=" text-error-800 border-error-500 focus:ring-3 focus:ring-error-500/10  dark:text-error-400 dark:border-error-500","string"==typeof m)return(0,b.jsxs)("div",{children:[(0,b.jsx)("input",{...r,type:a,id:c,name:d,placeholder:e,defaultValue:f,onChange:g,className:s,min:h,max:i,step:j,disabled:k,value:o,required:p}),(0,b.jsx)("p",{className:"mt-1 text-xs text-error-500",children:m})]})}else l?s+=" text-success-500 border-success-400 focus:ring-success-500/10 focus:border-success-300  dark:text-success-400 dark:border-success-500":s+=" bg-transparent text-gray-800 border-gray-300 focus:border-brand-300 focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:focus:border-brand-800";return(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{...r,type:a,id:c,name:d,placeholder:e,value:o,defaultValue:f,onChange:g,min:h,max:i,required:p,step:j,disabled:k,className:s}),n&&(0,b.jsx)("p",{className:`mt-1.5 text-xs ${m?"text-error-500":l?"text-success-500":"text-gray-500"}`,children:n})]})}])},96438,a=>{"use strict";var b=a.i(87924);a.s(["default",0,({variant:a="primary",size:c="md",loading:d=!1,fullWidth:e=!1,className:f="",children:g,disabled:h,...i})=>{let j=["inline-flex items-center justify-center font-medium transition-colors rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",{success:"bg-green-500 text-white hover:bg-green-600 focus:ring-green-500",primary:"bg-brand-500 text-white hover:bg-brand-600 focus:ring-brand-500 disabled:bg-brand-300",secondary:"bg-gray-100 text-gray-700 hover:bg-gray-200 focus:ring-gray-500 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600",danger:"bg-error-500 text-white hover:bg-error-600 focus:ring-error-500"}[a],{xs:"px-2 py-1 text-xs",sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-base"}[c],e?"w-full":"",h||d?"opacity-50 cursor-not-allowed":"",f].join(" ");return(0,b.jsxs)("button",{className:j,disabled:h||d,...i,children:[d&&(0,b.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),g]})}])},73277,a=>a.a(async(b,c)=>{try{var d=a.i(87924),e=a.i(72131),f=a.i(32636),g=a.i(23386),h=a.i(90365),i=a.i(39323),j=a.i(39906),k=a.i(96438),l=a.i(6704),m=b([f,g,h]);function n(){let{user:a,loading:b}=(0,f.useAuth)(),[c,m]=(0,e.useState)({nome:"",email:"",celular:""}),[n,o]=(0,e.useState)(!1),[p,q]=(0,e.useState)(""),[r,s]=(0,e.useState)(""),[t,u]=(0,e.useState)(""),[v,w]=(0,e.useState)(!1);(0,e.useEffect)(()=>{a&&m({nome:a.nome||"",email:a.email||"",celular:a.celular||""})},[a]);let x=async b=>{if(b.preventDefault(),a)try{o(!0),await g.usersService.update(a.id,{nome:c.nome,email:c.email,celular:c.celular}),l.toast.success("Dados atualizados")}catch(a){l.toast.error("Erro ao atualizar dados")}finally{o(!1)}},y=async a=>{if(a.preventDefault(),!p||!r)return void l.toast.error("Preencha a senha atual e a nova senha");if(r!==t)return void l.toast.error("As senhas não conferem");try{w(!0),await h.services.auth.changePassword({senhaAtual:p,novaSenha:r}),q(""),s(""),u(""),l.toast.success("Senha alterada com sucesso")}catch(a){l.toast.error("Erro ao alterar senha")}finally{w(!1)}};return(0,d.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8",children:[(0,d.jsx)("div",{className:"mb-8",children:(0,d.jsx)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-1",children:"Minha Conta"}),(0,d.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Atualize seus dados pessoais e senha de acesso"})]})})}),b?(0,d.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(a=>(0,d.jsx)("div",{className:"animate-pulse bg-gray-100 dark:bg-gray-800 rounded-lg h-48"},a))}):(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:[(0,d.jsx)("h2",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Dados do usuário"}),(0,d.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(j.default,{htmlFor:"nome",children:"Nome"}),(0,d.jsx)(i.default,{id:"nome",value:c.nome,onChange:a=>m({...c,nome:a.target.value}),required:!0})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(j.default,{htmlFor:"email",children:"Email"}),(0,d.jsx)(i.default,{id:"email",type:"email",value:c.email,onChange:a=>m({...c,email:a.target.value}),required:!0})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(j.default,{htmlFor:"celular",children:"Celular"}),(0,d.jsx)(i.default,{id:"celular",value:c.celular||"",onChange:a=>m({...c,celular:a.target.value})})]}),(0,d.jsx)("div",{className:"pt-2",children:(0,d.jsx)(k.default,{type:"submit",variant:"primary",disabled:n,className:"min-w-40",children:"Salvar"})})]})]}),(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:[(0,d.jsx)("h2",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Alterar senha"}),(0,d.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(j.default,{htmlFor:"senhaAtual",children:"Senha atual"}),(0,d.jsx)(i.default,{id:"senhaAtual",type:"password",value:p,onChange:a=>q(a.target.value),required:!0})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(j.default,{htmlFor:"novaSenha",children:"Nova senha"}),(0,d.jsx)(i.default,{id:"novaSenha",type:"password",value:r,onChange:a=>s(a.target.value),required:!0})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(j.default,{htmlFor:"confirmSenha",children:"Confirmar nova senha"}),(0,d.jsx)(i.default,{id:"confirmSenha",type:"password",value:t,onChange:a=>u(a.target.value),required:!0})]}),(0,d.jsx)("div",{className:"pt-2",children:(0,d.jsx)(k.default,{type:"submit",variant:"secondary",disabled:v,className:"min-w-40",children:"Alterar senha"})})]})]})]})]})}[f,g,h]=m.then?(await m)():m,a.s(["default",()=>n]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=src_35325912._.js.map
{"version":3,"sources":["../../../../src/components/form/input/InputField.tsx","../../../../src/app/%28dashboard%29/dashboard/empresa/perfil/page.tsx"],"sourcesContent":["import React, { FC } from \"react\";\n\ninterface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {\n  type?: \"text\" | \"number\" | \"email\" | \"password\" | \"date\" | \"time\" | \"tel\" | string;\n  id?: string;\n  name?: string;\n  placeholder?: string;\n  value?: string | number;\n  defaultValue?: string | number;\n  onChange?: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  className?: string;\n  min?: string | number;\n  max?: string | number;\n  step?: number;\n  disabled?: boolean;\n  required?: boolean;\n  success?: boolean;\n  error?: string | boolean;\n  hint?: string; // Optional hint text\n}\n\nconst Input: FC<InputProps> = ({\n  type = \"text\",\n  id,\n  name,\n  placeholder,\n  defaultValue,\n  onChange,\n  min,\n  max,\n  step,\n  disabled = false,\n  success = false,\n  error = false,\n  hint,\n  value,\n  required,\n  className = \"\", \n  ...rest\n}) => {\n  // Determine input styles based on state (disabled, success, error)\n  // let inputClasses = `h-11 w-full rounded-lg border appearance-none px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:outline-hidden focus:ring-3 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800 ${className}`;\n  let inputClasses = `h-11 w-full rounded-lg border px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:outline-hidden focus:ring-3 ${className}`;\n\n  if (type !== \"date\") {\n    inputClasses += \" appearance-none\";\n  }\n\n  // Add styles for the different states\n  if (disabled) {\n    inputClasses += ` text-gray-500 border-gray-300 cursor-not-allowed dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700`;\n  } else if (error) {\n    inputClasses += ` text-error-800 border-error-500 focus:ring-3 focus:ring-error-500/10  dark:text-error-400 dark:border-error-500`;\n    // Se error for uma string, exibe a mensagem de erro\n    if (typeof error === 'string') {\n      return (\n        <div>\n          <input\n            {...rest}\n            type={type}\n            id={id}\n            name={name}\n            placeholder={placeholder}\n            defaultValue={defaultValue}\n            onChange={onChange}\n            className={inputClasses}\n            min={min}\n            max={max}\n            step={step}\n            disabled={disabled}\n            value={value}\n            required={required}\n          />\n          <p className=\"mt-1 text-xs text-error-500\">{error}</p>\n        </div>\n      );\n    }\n  } else if (success) {\n    inputClasses += ` text-success-500 border-success-400 focus:ring-success-500/10 focus:border-success-300  dark:text-success-400 dark:border-success-500`;\n  } else {\n    inputClasses += ` bg-transparent text-gray-800 border-gray-300 focus:border-brand-300 focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:focus:border-brand-800`;\n  }\n\n  return (\n    <div className=\"relative\">\n      <input\n            {...rest}\n        type={type}\n        id={id}\n        name={name}\n        placeholder={placeholder}\n        value={value}\n        defaultValue={defaultValue}\n        onChange={onChange}\n        min={min}\n        max={max}\n        required={required}\n        step={step}\n        disabled={disabled}\n        className={inputClasses}\n      />\n\n      {/* Optional Hint Text */}\n      {hint && (\n        <p\n          className={`mt-1.5 text-xs ${error\n              ? \"text-error-500\"\n              : success\n                ? \"text-success-500\"\n                : \"text-gray-500\"\n            }`}\n        >\n          {hint}\n        </p>\n      )}\n    </div>\n  );\n};\n\nexport default Input;\n","\"use client\";\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '@/hooks/useAuth';\r\nimport { services } from '@/services/api';\r\nimport { toast } from 'react-hot-toast';\r\nimport { ThemeToggleButton } from '@/components/common/ThemeToggleButton';\r\nimport Input from '@/components/form/input/InputField';\r\nimport Button from '@/components/ui/button/Button';\r\n\r\nexport default function EmpresaPerfilPage() {\r\n  const { user, updateUser } = useAuth();\r\n  const [loading, setLoading] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    nome: '',\r\n    email: '',\r\n    celular: '',\r\n    senha: '',\r\n    confirmarSenha: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      setFormData({\r\n        nome: user.nome || '',\r\n        email: user.email || '',\r\n        celular: (user as any).celular || '',\r\n        senha: '',\r\n        confirmarSenha: ''\r\n      });\r\n    }\r\n  }, [user]);\r\n\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handleUpdateProfile = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    if (formData.senha && formData.senha !== formData.confirmarSenha) {\r\n      toast.error('As senhas não coincidem');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      \r\n      const updateData: any = {\r\n        nome: formData.nome,\r\n        email: formData.email,\r\n        celular: formData.celular\r\n      };\r\n\r\n      if (formData.senha) {\r\n        updateData.senha = formData.senha;\r\n      }\r\n\r\n      await services.users.update(user!.id, updateData);\r\n      \r\n      // Atualizar dados do usuário no contexto\r\n      updateUser({\r\n        nome: formData.nome,\r\n        email: formData.email\r\n      });\r\n\r\n      toast.success('Perfil atualizado com sucesso!');\r\n      \r\n      // Limpar campos de senha\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        senha: '',\r\n        confirmarSenha: ''\r\n      }));\r\n      \r\n    } catch (error: any) {\r\n      toast.error(error.response?.data?.message || 'Erro ao atualizar perfil');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* <div className=\"flex justify-between items-center\">\r\n        <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">Meu Perfil</h1>\r\n        <ThemeToggleButton />\r\n      </div> */}\r\n\r\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6\">\r\n        <form onSubmit={handleUpdateProfile} className=\"space-y-6\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                Nome\r\n              </label>\r\n              <Input\r\n                type=\"text\"\r\n                name=\"nome\"\r\n                value={formData.nome}\r\n                onChange={handleInputChange}\r\n                placeholder=\"Digite seu nome\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                Email\r\n              </label>\r\n              <Input\r\n                type=\"email\"\r\n                name=\"email\"\r\n                value={formData.email}\r\n                onChange={handleInputChange}\r\n                placeholder=\"Digite seu email\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                Celular\r\n              </label>\r\n              <Input\r\n                type=\"tel\"\r\n                name=\"celular\"\r\n                value={formData.celular}\r\n                onChange={handleInputChange}\r\n                placeholder=\"Digite seu celular\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                Função\r\n              </label>\r\n              <Input\r\n                type=\"text\"\r\n                value={user?.role || ''}\r\n                disabled\r\n                className=\"bg-gray-100 dark:bg-gray-700\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"border-t border-gray-200 dark:border-gray-700 pt-6\">\r\n            <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-4\">\r\n              Alterar Senha\r\n            </h3>\r\n            \r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                  Nova Senha\r\n                </label>\r\n                <Input\r\n                  type=\"password\"\r\n                  name=\"senha\"\r\n                  value={formData.senha}\r\n                  onChange={handleInputChange}\r\n                  placeholder=\"Digite a nova senha\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                  Confirmar Nova Senha\r\n                </label>\r\n                <Input\r\n                  type=\"password\"\r\n                  name=\"confirmarSenha\"\r\n                  value={formData.confirmarSenha}\r\n                  onChange={handleInputChange}\r\n                  placeholder=\"Confirme a nova senha\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex justify-end\">\r\n            <Button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              className=\"px-6 py-2\"\r\n            >\r\n              {loading ? 'Salvando...' : 'Salvar Alterações'}\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}
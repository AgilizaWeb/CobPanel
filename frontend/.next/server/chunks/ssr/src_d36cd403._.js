module.exports=[14998,a=>{"use strict";var b=a.i(87924),c=a.i(8922);a.s(["default",0,({fornecedor:a,onEdit:d,onDelete:e})=>(0,b.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm hover:shadow-md shadow-gray-200 dark:shadow-gray-700 border border-gray-200 dark:border-gray-700 p-4",children:(0,b.jsx)("div",{children:(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white",children:a.nome}),(0,b.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["CNPJ: ",a.cpfCnpj]}),(0,b.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Email: ",a.email]}),(0,b.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Tel: ",a.celular||"N/A"]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(c.default,{size:"xs",variant:"secondary",onClick:d,title:"Editar fornecedor",icon:"edit"}),(0,b.jsx)(c.default,{size:"xs",variant:"secondary",onClick:e,title:"Excluir fornecedor",icon:"delete"})]})]})})})])},86347,a=>a.a(async(b,c)=>{try{var d=a.i(87924),e=a.i(72131),f=a.i(6704),g=a.i(39323),h=a.i(39906),i=a.i(96438),j=a.i(90365),k=b([j]);[j]=k.then?(await k)():k,a.s(["default",0,({fornecedor:a,onSubmit:b,onCancel:c})=>{let[k,l]=(0,e.useState)({nome:a?.nome||"",cpfCnpj:a?.cpfCnpj||"",email:a?.email||"",celular:a?.celular||"",categoriaId:a?.categoriaId||null}),[m,n]=(0,e.useState)({}),[o,p]=(0,e.useState)(!1),[q,r]=(0,e.useState)([]);(0,e.useEffect)(()=>{(async()=>{try{let a=await j.services.categoriaFornecedor.list();r(a.data.data)}catch(a){f.toast.error("Erro ao carregar categorias")}})()},[]);let s=async a=>{let c;if(a.preventDefault(),c={},k.nome||(c.nome="Nome é obrigatório"),k.cpfCnpj||(c.cpfCnpj="CPF ou CNPJ é obrigatório"),n(c),0===Object.keys(c).length){p(!0);try{await b(k)}catch(a){f.toast.error("Erro ao salvar fornecedor")}finally{p(!1)}}};return(0,d.jsxs)("form",{onSubmit:s,className:"space-y-6",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{className:"md:col-span-2",children:[(0,d.jsxs)(h.default,{htmlFor:"nome",children:["Nome",(0,d.jsx)("span",{className:"text-error-500",children:"*"})]}),(0,d.jsx)(g.default,{id:"nome",name:"nome",value:k.nome,onChange:a=>l({...k,nome:a.target.value}),error:m.nome})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)(h.default,{htmlFor:"cpfCnpj",children:["CPF ou CNPJ",(0,d.jsx)("span",{className:"text-error-500",children:"*"})]}),(0,d.jsx)(g.default,{id:"cpfCnpj",name:"cpfCnpj",value:k.cpfCnpj,onChange:a=>l({...k,cpfCnpj:a.target.value}),error:m.cpfCnpj})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(h.default,{htmlFor:"email",children:"Email"}),(0,d.jsx)(g.default,{id:"email",name:"email",type:"email",value:k.email,onChange:a=>l({...k,email:a.target.value}),error:m.email})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(h.default,{htmlFor:"telefone",children:"Telefone"}),(0,d.jsx)(g.default,{id:"telefone",name:"telefone",value:k.celular,onChange:a=>l({...k,celular:a.target.value}),error:m.celular})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)(h.default,{htmlFor:"categoria",children:["Categoria",(0,d.jsx)("span",{className:"text-error-500",children:"*"})]}),(0,d.jsxs)("select",{id:"categoria",name:"categoria",value:k.categoriaId||"",onChange:a=>l({...k,categoriaId:a.target.value?Number(a.target.value):null}),className:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300",children:[(0,d.jsx)("option",{value:"",children:"Selecione uma categoria"}),q.map(a=>(0,d.jsx)("option",{value:a.id,children:a.nome},a.id))]})]})]}),(0,d.jsxs)("div",{className:"flex justify-end space-x-4 pt-4",children:[(0,d.jsx)(i.default,{variant:"secondary",onClick:c,type:"button",children:"Cancelar"}),(0,d.jsx)(i.default,{variant:"primary",type:"submit",loading:o,children:a?"Atualizar":"Criar"})]})]})}]),c()}catch(a){c(a)}},!1),38185,a=>{"use strict";var b=a.i(87924),c=a.i(96438);a.s(["default",0,({categoria:a,onEdit:d,onDelete:e})=>(0,b.jsx)("div",{className:"relative overflow-hidden rounded-lg border border-gray-200 bg-white p-4 dark:border-gray-800 dark:bg-gray-900",children:(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsx)("div",{children:(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:a.nome})}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(c.default,{variant:"secondary",size:"sm",onClick:d,title:"Editar categoria",children:"Editar"}),(0,b.jsx)(c.default,{variant:"danger",size:"sm",onClick:e,title:"Excluir categoria",children:"Excluir"})]})]})})])},78182,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(6704),e=a.i(39323),f=a.i(39906),g=a.i(96438);a.s(["default",0,({categoria:a,onSubmit:h,onCancel:i})=>{let[j,k]=(0,c.useState)({nome:a?.nome||""}),[l,m]=(0,c.useState)({}),[n,o]=(0,c.useState)(!1),p=async a=>{let b;if(a.preventDefault(),b={},j.nome||(b.nome="Nome é obrigatório"),m(b),0===Object.keys(b).length){o(!0);try{await h(j)}catch(a){d.toast.error("Erro ao salvar categoria")}finally{o(!1)}}};return(0,b.jsxs)("form",{onSubmit:p,className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)(f.default,{htmlFor:"nome",children:["Nome",(0,b.jsx)("span",{className:"text-error-500",children:"*"})]}),(0,b.jsx)(e.default,{id:"nome",name:"nome",value:j.nome,onChange:a=>k({...j,nome:a.target.value}),error:l.nome})]}),(0,b.jsxs)("div",{className:"flex justify-end space-x-4 pt-4",children:[(0,b.jsx)(g.default,{variant:"secondary",onClick:i,type:"button",children:"Cancelar"}),(0,b.jsx)(g.default,{variant:"primary",type:"submit",loading:n,children:a?"Atualizar":"Criar"})]})]})}])},13054,a=>a.a(async(b,c)=>{try{var d=a.i(87924),e=a.i(72131),f=a.i(90365),g=a.i(32636),h=a.i(6704),i=a.i(96438),j=a.i(85479),k=a.i(16777),l=a.i(14998),m=a.i(86347),n=a.i(38185),o=a.i(78182),p=b([f,g,m]);function q(){let{user:a}=(0,g.useAuth)(),[b,c]=(0,e.useState)([]),[p,q]=(0,e.useState)([]),[r,s]=(0,e.useState)(!0),[t,u]=(0,e.useState)(""),[v,w]=(0,e.useState)(1),[x,y]=(0,e.useState)(0),[z,A]=(0,e.useState)(!1),[B,C]=(0,e.useState)(null),[D,E]=(0,e.useState)(null),[F,G]=(0,e.useState)("FORNECEDORES"),[H,I]=(0,e.useState)(null),J=(0,e.useCallback)(async()=>{try{let a=await f.services.categoriaFornecedor.list();q(a.data.data)}catch(a){h.default.error("Erro ao carregar categorias")}},[]),K=(0,e.useCallback)(async()=>{try{s(!0);let a=(await f.services.fornecedor.list({page:v,limit:9,search:t})).data.data;c(a),y(Math.ceil((a?.length||0)/9))}catch(a){h.default.error("Erro ao carregar fornecedores")}finally{s(!1)}},[v,t,9]);(0,e.useEffect)(()=>{J()},[J]),(0,e.useEffect)(()=>{K()},[K]);let L=async a=>{if(window.confirm("Tem certeza que deseja excluir este fornecedor?"))try{await f.services.fornecedor.delete(a),h.default.success("Fornecedor excluído com sucesso"),K()}catch(a){h.default.error("Erro ao excluir fornecedor")}},M=async a=>{if(window.confirm("Tem certeza que deseja excluir esta categoria?"))try{await f.services.categoriaFornecedor.delete(a),h.default.success("Categoria excluída com sucesso"),J(),K()}catch(a){h.default.error("Erro ao excluir categoria")}},N=async a=>{try{B?(await f.services.fornecedor.update(B.id,a),h.default.success("Fornecedor atualizado com sucesso")):(await f.services.fornecedor.create(a),h.default.success("Fornecedor criado com sucesso")),A(!1),C(null),K()}catch(a){h.default.error("Erro ao salvar fornecedor")}},O=async a=>{try{D?(await f.services.categoriaFornecedor.update(D.id,a),h.default.success("Categoria atualizada com sucesso")):(await f.services.categoriaFornecedor.create(a),h.default.success("Categoria criada com sucesso")),A(!1),E(null),J()}catch(a){h.default.error("Erro ao salvar categoria")}};return(0,d.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8",children:[(0,d.jsxs)("div",{className:"mb-8",children:[(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Fornecedores e Categorias"}),(0,d.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Gerencie seus fornecedores e categorias"})]}),(0,d.jsx)(i.default,{variant:"primary",onClick:()=>{C(null),E(null),A(!0)},children:"FORNECEDORES"===F?"Novo Fornecedor":"Nova Categoria"})]}),(0,d.jsxs)("div",{className:"mt-6",children:[(0,d.jsx)("div",{className:"flex flex-wrap gap-2 mb-6",children:["FORNECEDORES","CATEGORIAS"].map(a=>(0,d.jsx)("button",{onClick:()=>{G(a),"CATEGORIAS"===a&&I(null)},className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors
                  ${F===a?"bg-brand-500 text-white dark:bg-brand-400 dark:text-gray-900":"bg-gray-100 text-gray-600 hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700"}`,children:"FORNECEDORES"===a?"Fornecedores":"Categorias"},a))}),(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between mb-6",children:[(0,d.jsxs)("div",{className:"flex gap-4 w-full sm:w-auto",children:[(0,d.jsx)("div",{className:"w-full sm:w-96",children:(0,d.jsx)(j.default,{value:t,onChange:a=>{u(a.target.value),w(1)},placeholder:`Buscar ${"FORNECEDORES"===F?"fornecedores":"categorias"}...`})}),"FORNECEDORES"===F&&(0,d.jsxs)("select",{title:"Selecione uma categoria",className:"w-48 rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300",onChange:a=>{let b=a.target.value?Number(a.target.value):null;I(b),w(1)},value:H||"",children:[(0,d.jsx)("option",{value:"",children:"Todas as categorias"}),p.map(a=>(0,d.jsx)("option",{value:a.id,children:a.nome},a.id))]})]}),x>1&&(0,d.jsx)("div",{className:"flex gap-2",children:Array.from({length:x},(a,b)=>b+1).map(a=>(0,d.jsx)("button",{onClick:()=>w(a),className:`px-3 py-1 text-sm font-medium rounded transition-colors
                        ${v===a?"bg-brand-500 text-white dark:bg-brand-400":"bg-gray-100 text-gray-600 hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700"}`,children:a},a))})]})]})]}),r?(0,d.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(a=>(0,d.jsx)("div",{className:"animate-pulse bg-gray-100 dark:bg-gray-800 rounded-lg h-48"},a))}):"FORNECEDORES"===F?(0,d.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:b.length>0?b.filter(a=>!H||a.categoriaId===H).map(a=>(0,d.jsx)(l.default,{fornecedor:a,onEdit:()=>{C(a),A(!0)},onDelete:()=>L(a.id)},a.id)):(0,d.jsx)("div",{className:"col-span-full text-center py-12",children:(0,d.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhum fornecedor encontrado."})})}):(0,d.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:p.length>0?p.map(a=>(0,d.jsx)(n.default,{categoria:a,onEdit:()=>{E(a),A(!0)},onDelete:()=>M(a.id)},a.id)):(0,d.jsx)("div",{className:"col-span-full text-center py-12",children:(0,d.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhuma categoria encontrada."})})}),(0,d.jsx)(k.Modal,{isOpen:z,onClose:()=>{A(!1),C(null),E(null)},className:"max-w-[800px] m-4",children:(0,d.jsxs)("div",{className:"no-scrollbar relative w-full overflow-y-auto rounded-3xl bg-white p-4 dark:bg-gray-900 lg:p-11",children:[(0,d.jsxs)("div",{className:"px-2 pr-14",children:[(0,d.jsx)("h4",{className:"mb-2 text-2xl font-semibold text-gray-800 dark:text-white/90",children:"FORNECEDORES"===F?B?"Editar Fornecedor":"Novo Fornecedor":D?"Editar Categoria":"Nova Categoria"}),(0,d.jsx)("p",{className:"mb-6 text-sm text-gray-500 dark:text-gray-400 lg:mb-7",children:"FORNECEDORES"===F?B?"Atualize as informações do fornecedor.":"Preencha os dados para criar um novo fornecedor.":D?"Atualize as informações da categoria.":"Preencha os dados para criar uma nova categoria."})]}),"FORNECEDORES"===F?(0,d.jsx)(m.default,{fornecedor:B||void 0,onSubmit:N,onCancel:()=>{A(!1),C(null)}}):(0,d.jsx)(o.default,{categoria:D||void 0,onSubmit:O,onCancel:()=>{A(!1),E(null)}})]})})]})}[f,g,m]=p.then?(await p)():p,a.s(["default",()=>q]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=src_d36cd403._.js.map
module.exports=[39323,a=>{"use strict";var b=a.i(87924);a.s(["default",0,({type:a="text",id:c,name:d,placeholder:e,defaultValue:f,onChange:g,min:h,max:i,step:j,disabled:k=!1,success:l=!1,error:m=!1,hint:n,value:o,required:p,className:q="",...r})=>{let s=`h-11 w-full rounded-lg border px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:outline-hidden focus:ring-3 ${q}`;if("date"!==a&&(s+=" appearance-none"),k)s+=" text-gray-500 border-gray-300 cursor-not-allowed dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700";else if(m){if(s+=" text-error-800 border-error-500 focus:ring-3 focus:ring-error-500/10  dark:text-error-400 dark:border-error-500","string"==typeof m)return(0,b.jsxs)("div",{children:[(0,b.jsx)("input",{...r,type:a,id:c,name:d,placeholder:e,defaultValue:f,onChange:g,className:s,min:h,max:i,step:j,disabled:k,value:o,required:p}),(0,b.jsx)("p",{className:"mt-1 text-xs text-error-500",children:m})]})}else l?s+=" text-success-500 border-success-400 focus:ring-success-500/10 focus:border-success-300  dark:text-success-400 dark:border-success-500":s+=" bg-transparent text-gray-800 border-gray-300 focus:border-brand-300 focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:focus:border-brand-800";return(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{...r,type:a,id:c,name:d,placeholder:e,value:o,defaultValue:f,onChange:g,min:h,max:i,required:p,step:j,disabled:k,className:s}),n&&(0,b.jsx)("p",{className:`mt-1.5 text-xs ${m?"text-error-500":l?"text-success-500":"text-gray-500"}`,children:n})]})}])},96438,a=>{"use strict";var b=a.i(87924);a.s(["default",0,({variant:a="primary",size:c="md",loading:d=!1,fullWidth:e=!1,className:f="",children:g,disabled:h,...i})=>{let j=["inline-flex items-center justify-center font-medium transition-colors rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",{success:"bg-green-500 text-white hover:bg-green-600 focus:ring-green-500",primary:"bg-brand-500 text-white hover:bg-brand-600 focus:ring-brand-500 disabled:bg-brand-300",secondary:"bg-gray-100 text-gray-700 hover:bg-gray-200 focus:ring-gray-500 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600",danger:"bg-error-500 text-white hover:bg-error-600 focus:ring-error-500"}[a],{xs:"px-2 py-1 text-xs",sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-base"}[c],e?"w-full":"",h||d?"opacity-50 cursor-not-allowed":"",f].join(" ");return(0,b.jsxs)("button",{className:j,disabled:h||d,...i,children:[d&&(0,b.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),g]})}])},34165,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(39906);a.i(54828);var e=a.i(42173),e=e;function f({id:a,mode:f,onChange:g,label:h,defaultDate:i,dateFormat:j="d/m/Y",placeholder:k,onClickHj:l,onClickMes:m,onClickAno:n,onClickClean:o}){let[p,q]=(0,c.useState)(!1);return(l||(l=a=>{a&&a.setDate(new Date),a.close()}),o||(o=a=>{a&&a.clear(),a.close()}),(0,c.useEffect)(()=>{q(!0)},[]),(0,c.useEffect)(()=>{},[p,f,g,a,i,j,n,m,l,o]),p)?(0,b.jsxs)("div",{children:[h&&(0,b.jsx)(d.default,{htmlFor:a,children:h}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{id:a,placeholder:k,className:"h-11 w-full rounded-lg border appearance-none px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:outline-hidden focus:ring-3  dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30  bg-transparent text-gray-800 border-gray-300 focus:border-brand-300 focus:ring-brand-500/20 dark:border-gray-700  dark:focus:border-brand-800"}),(0,b.jsx)("span",{className:"absolute text-gray-500 -translate-y-1/2 pointer-events-none right-3 top-1/2 dark:text-gray-400",children:(0,b.jsx)(e.default,{className:"size-6"})})]})]}):(0,b.jsxs)("div",{children:[h&&(0,b.jsx)(d.default,{htmlFor:a,children:h}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{id:a,placeholder:k,className:"h-11 w-full rounded-lg border appearance-none px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:outline-hidden focus:ring-3 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 bg-transparent text-gray-800 border-gray-300 focus:border-brand-300 focus:ring-brand-500/20 dark:border-gray-700 dark:focus:border-brand-800",disabled:!0}),(0,b.jsx)("span",{className:"absolute text-gray-500 -translate-y-1/2 pointer-events-none right-3 top-1/2 dark:text-gray-400",children:(0,b.jsx)(e.default,{className:"size-6"})})]})]})}a.s(["default",()=>f],34165)},59718,a=>a.a(async(b,c)=>{try{var d=a.i(87924),e=a.i(72131),f=a.i(39323),g=a.i(39906),h=a.i(96438),i=a.i(622),j=a.i(34165),k=a.i(6704),l=a.i(83490),m=a.i(32636),n=b([m]);[m]=n.then?(await n)():n;let p=[{value:"AC",label:"Acre"},{value:"AL",label:"Alagoas"},{value:"AP",label:"Amapá"},{value:"AM",label:"Amazonas"},{value:"BA",label:"Bahia"},{value:"CE",label:"Ceará"},{value:"DF",label:"Distrito Federal"},{value:"ES",label:"Espírito Santo"},{value:"GO",label:"Goiás"},{value:"MA",label:"Maranhão"},{value:"MT",label:"Mato Grosso"},{value:"MS",label:"Mato Grosso do Sul"},{value:"MG",label:"Minas Gerais"},{value:"PA",label:"Pará"},{value:"PB",label:"Paraíba"},{value:"PR",label:"Paraná"},{value:"PE",label:"Pernambuco"},{value:"PI",label:"Piauí"},{value:"RJ",label:"Rio de Janeiro"},{value:"RN",label:"Rio Grande do Norte"},{value:"RS",label:"Rio Grande do Sul"},{value:"RO",label:"Rondônia"},{value:"RR",label:"Roraima"},{value:"SC",label:"Santa Catarina"},{value:"SP",label:"São Paulo"},{value:"SE",label:"Sergipe"},{value:"TO",label:"Tocantins"}];function o({empresa:a,onSubmit:b,isSubmitting:c}){let{user:n}=(0,m.useAuth)(),[o,q]=(0,e.useState)({nome:a?.nome??"",cpfCnpj:a?.cpfCnpj??"",celular:a?.celular??"",cep:a?.cep??"",cidade:a?.cidade??"",estado:a?.estado??"",bairro:a?.bairro??"",rua:a?.rua??"",numero:a?.numero??""});(0,e.useEffect)(()=>{q({nome:a?.nome??"",cpfCnpj:a?.cpfCnpj??"",celular:a?.celular??"",cep:a?.cep??"",cidade:a?.cidade??"",estado:a?.estado??"",bairro:a?.bairro??"",rua:a?.rua??"",numero:a?.numero??""})},[a]);let[r,s]=(0,e.useState)(0),t=(0,e.useCallback)(async(a,b="https://viacep.com.br/ws/{cep}/json/")=>{let c=(a||"").replace(/\D/g,"");if(8===c.length){console.log("cep.length",c.length,"cep",c);try{let{data:a}=await l.default.get(b.replace("{cep}",c));if(a?.erro){console.error("CEP não encontrado, erro:",a.erro),s(a=>a+1);return}q(b=>({...b,rua:a.street||a.logradouro||b.rua,bairro:a.neighborhood||a.bairro||b.bairro,cidade:a.city||a.localidade||b.cidade,estado:a.state||a.uf||b.estado})),s(0)}catch(a){console.error("Erro ao buscar CEP:",a),s(a=>a+1)}}},[]);(0,e.useEffect)(()=>{if(0===r)return;if(r>1){console.log("Muitos erros ao buscar CEP, não tentando mais"),s(0);return}let a=setTimeout(()=>{t(o.cep||"","https://brasilapi.com.br/api/cep/v1/{cep}")},3e3);return()=>clearTimeout(a)},[r,o.cep,t]);let u=async a=>{(a.preventDefault(),o.nome)?await b(o):k.toast.error("Nome é obrigatório")},v=n?.role==="SUPERADMIN";return(0,d.jsxs)("form",{onSubmit:u,className:"space-y-6",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(g.default,{htmlFor:"nome",children:"Nome"}),(0,d.jsx)(f.default,{id:"nome",value:o.nome||"",onChange:a=>q({...o,nome:a.target.value}),required:!0})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(g.default,{htmlFor:"cpfCnpj",children:"CPF/CNPJ"}),(0,d.jsx)(f.default,{id:"cpfCnpj",value:o.cpfCnpj||"",onChange:a=>q({...o,cpfCnpj:a.target.value})})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(g.default,{htmlFor:"celular",children:"Celular"}),(0,d.jsx)(f.default,{id:"celular",value:o.celular||"",onChange:a=>q({...o,celular:a.target.value})})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(g.default,{htmlFor:"cep",children:"CEP"}),(0,d.jsx)(f.default,{id:"cep",value:o.cep||"",onChange:a=>{q({...o,cep:a.target.value}),t(a.target.value)}})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(g.default,{htmlFor:"rua",children:"Rua"}),(0,d.jsx)(f.default,{id:"rua",value:o.rua||"",onChange:a=>q({...o,rua:a.target.value})})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(g.default,{htmlFor:"numero",children:"Número"}),(0,d.jsx)(f.default,{id:"numero",value:o.numero||"",onChange:a=>q({...o,numero:a.target.value})})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(g.default,{htmlFor:"bairro",children:"Bairro"}),(0,d.jsx)(f.default,{id:"bairro",value:o.bairro||"",onChange:a=>q({...o,bairro:a.target.value})})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(g.default,{htmlFor:"cidade",children:"Cidade"}),(0,d.jsx)(f.default,{id:"cidade",value:o.cidade||"",onChange:a=>q({...o,cidade:a.target.value})})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(g.default,{htmlFor:"estado",children:"Estado"}),(0,d.jsx)(i.default,{id:"estado",options:p,value:p.find(a=>a.value===o.estado),onChange:a=>q({...o,estado:a?.value}),isClearable:!0})]}),(0,d.jsxs)("div",{className:v?"":"opacity-50 pointer-events-none",children:[(0,d.jsx)(g.default,{htmlFor:"vencimento",children:"Vencimento "}),(0,d.jsx)(j.default,{id:"vencimento",defaultDate:a?.vencimento?new Date(a.vencimento):void 0,onChange:a=>{let b=a?.[0];q(a=>({...a,vencimento:b}))}})]})]}),(0,d.jsx)("div",{className:"flex gap-3 pt-6",children:(0,d.jsx)(h.default,{type:"submit",variant:"primary",disabled:!!c,className:"min-w-40",children:"Salvar alterações"})})]})}a.s(["default",()=>o]),c()}catch(a){c(a)}},!1),92946,a=>a.a(async(b,c)=>{try{var d=a.i(87924),e=a.i(72131),f=a.i(6704),g=a.i(30324),h=a.i(59718),i=a.i(32636),j=b([g,h,i]);function k(){let{user:a}=(0,i.useAuth)(),[b,c]=(0,e.useState)(null),[j,k]=(0,e.useState)(!0),[l,m]=(0,e.useState)(!1),n=(0,e.useCallback)(async()=>{try{k(!0);let b=a?.empresaId||a?.empresa?.id;if(!b)return void c(null);let d=await g.empresaService.getById(b);c(d.data)}catch(a){f.toast.error("Erro ao carregar dados da empresa")}finally{k(!1)}},[a]);(0,e.useEffect)(()=>{n()},[n]);let o=async c=>{if(b)try{m(!0);let d={...c};a?.role!=="SUPERADMIN"&&delete d.vencimento,await g.empresaService.update(b.id,d),f.toast.success("Configurações atualizadas"),await n()}catch(a){f.toast.error("Erro ao salvar")}finally{m(!1)}};return(0,d.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8",children:[(0,d.jsx)("div",{className:"mb-8",children:(0,d.jsx)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-1",children:"Configurações da Empresa"}),(0,d.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Atualize os dados cadastrais e preferências da sua empresa"})]})})}),j?(0,d.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(a=>(0,d.jsx)("div",{className:"animate-pulse bg-gray-100 dark:bg-gray-800 rounded-lg h-48"},a))}):b?(0,d.jsx)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:(0,d.jsx)(h.default,{empresa:b,onSubmit:o,isSubmitting:l})}):(0,d.jsx)("div",{className:"text-center text-gray-500 dark:text-gray-400",children:"Nenhuma empresa encontrada."})]})}[g,h,i]=j.then?(await j)():j,a.s(["default",()=>k]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=src_f830fed2._.js.map
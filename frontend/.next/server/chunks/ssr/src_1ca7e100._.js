module.exports=[39323,a=>{"use strict";var b=a.i(87924);a.s(["default",0,({type:a="text",id:c,name:d,placeholder:e,defaultValue:f,onChange:g,min:h,max:i,step:j,disabled:k=!1,success:l=!1,error:m=!1,hint:n,value:o,required:p,className:q="",...r})=>{let s=`h-11 w-full rounded-lg border px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:outline-hidden focus:ring-3 ${q}`;if("date"!==a&&(s+=" appearance-none"),k)s+=" text-gray-500 border-gray-300 cursor-not-allowed dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700";else if(m){if(s+=" text-error-800 border-error-500 focus:ring-3 focus:ring-error-500/10  dark:text-error-400 dark:border-error-500","string"==typeof m)return(0,b.jsxs)("div",{children:[(0,b.jsx)("input",{...r,type:a,id:c,name:d,placeholder:e,defaultValue:f,onChange:g,className:s,min:h,max:i,step:j,disabled:k,value:o,required:p}),(0,b.jsx)("p",{className:"mt-1 text-xs text-error-500",children:m})]})}else l?s+=" text-success-500 border-success-400 focus:ring-success-500/10 focus:border-success-300  dark:text-success-400 dark:border-success-500":s+=" bg-transparent text-gray-800 border-gray-300 focus:border-brand-300 focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:focus:border-brand-800";return(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{...r,type:a,id:c,name:d,placeholder:e,value:o,defaultValue:f,onChange:g,min:h,max:i,required:p,step:j,disabled:k,className:s}),n&&(0,b.jsx)("p",{className:`mt-1.5 text-xs ${m?"text-error-500":l?"text-success-500":"text-gray-500"}`,children:n})]})}])},96438,a=>{"use strict";var b=a.i(87924);a.s(["default",0,({variant:a="primary",size:c="md",loading:d=!1,fullWidth:e=!1,className:f="",children:g,disabled:h,...i})=>{let j=["inline-flex items-center justify-center font-medium transition-colors rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",{success:"bg-green-500 text-white hover:bg-green-600 focus:ring-green-500",primary:"bg-brand-500 text-white hover:bg-brand-600 focus:ring-brand-500 disabled:bg-brand-300",secondary:"bg-gray-100 text-gray-700 hover:bg-gray-200 focus:ring-gray-500 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600",danger:"bg-error-500 text-white hover:bg-error-600 focus:ring-error-500"}[a],{xs:"px-2 py-1 text-xs",sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-base"}[c],e?"w-full":"",h||d?"opacity-50 cursor-not-allowed":"",f].join(" ");return(0,b.jsxs)("button",{className:j,disabled:h||d,...i,children:[d&&(0,b.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),g]})}])},84312,a=>{"use strict";var b=a.i(96924);a.s(["EditIcon",()=>b.default])},85479,a=>{"use strict";var b=a.i(87924);a.s(["default",0,({error:a,className:c="",...d})=>(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"text",className:`
          w-full rounded-lg border border-gray-300 bg-white pl-4 pr-10 py-3 text-sm outline-none transition-all 
          focus:border-brand-500 focus:ring-1 focus:ring-brand-500 
          dark:border-gray-800 dark:bg-gray-900 dark:focus:border-brand-500 text-gray-900 dark:text-white
          ${a?"border-error-500 focus:border-error-500 focus:ring-error-500":""}
          ${c}
        `,...d}),(0,b.jsx)("svg",{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),a&&(0,b.jsx)("p",{className:"mt-1 text-sm text-error-500",children:a})]})])},95589,a=>{"use strict";var b=a.i(87924);a.i(54828);var c=a.i(22131),d=a.i(84312),e=a.i(44091),f=a.i(96438);let g={SUPERADMIN:"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-300",ADMIN:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300",GESTOR:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300",VENDEDOR:"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-300",CLIENTE:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300"},h={SUPERADMIN:"Super Admin",ADMIN:"Administrador",GESTOR:"Gestor",VENDEDOR:"Vendedor",CLIENTE:"Cliente"};a.s(["default",0,({user:a,onEdit:i,onDelete:j,isCurrentUser:k})=>(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm hover:shadow-md shadow-gray-200 dark:shadow-gray-700 border border-gray-200 dark:border-gray-700 p-4",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-full p-2",children:(0,b.jsx)(c.UserCircleIcon,{className:"text-gray-500 dark:text-gray-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[a.nome,k&&(0,b.jsx)("span",{className:"ml-2 text-xs text-gray-500 dark:text-gray-400",children:"(Voc칡)"})]}),(0,b.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a.email})]})]}),(0,b.jsx)("span",{className:`px-2.5 py-0.5 text-xs font-medium rounded-full ${g[a.role]}`,children:h[a.role]})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[a.celular&&(0,b.jsxs)("div",{className:"mt-3 text-sm text-gray-500 dark:text-gray-400",children:["游님 ",a.celular]}),(0,b.jsxs)("div",{className:"mt-4 flex space-x-2",children:[(0,b.jsx)(f.default,{variant:"secondary",size:"xs",onClick:i,className:"flex items-center justify-center text-gray-400 hover:text-brand-500 dark:hover:text-brand-400 transition-colors",title:"Editar Usu치rio",children:(0,b.jsx)(d.EditIcon,{className:"w-5 h-5 inline-block"})}),!k&&(0,b.jsx)(f.default,{variant:"secondary",size:"xs",onClick:j,className:"flex items-center justify-center text-red-500 dark:text-red-400 rounded-md transition-colors",title:"Excluir Usu치rio",children:(0,b.jsx)(e.TrashBinIcon,{className:"w-5 h-5 inline-block"})})]})]})]})])},56687,a=>a.a(async(b,c)=>{try{var d=a.i(87924),e=a.i(72131),f=a.i(39323),g=a.i(39906),h=a.i(96438),i=a.i(32636),j=a.i(622),k=b([i]);[i]=k.then?(await k)():k;let l=[{value:"GESTOR",label:"Gestor"},{value:"VENDEDOR",label:"Vendedor"},{value:"CLIENTE",label:"Cliente"}];a.s(["default",0,({user:a,onSubmit:b,onCancel:c})=>{let{user:k}=(0,i.useAuth)(),[m,n]=e.default.useState({nome:a?.nome||"",email:a?.email||"",celular:a?.celular||"",role:a?.role||"GESTOR"}),[o,p]=(0,e.useState)({}),[q,r]=(0,e.useState)(!1),s=!!a,t=async a=>{a.preventDefault(),r(!0);try{await b(m)}catch(a){(a.response?.data?.details||[]).forEach(a=>{let b=a.field.replace("body.","");p(c=>({...c,[b]:a.message}))})}finally{r(!1)}};return(0,d.jsxs)("form",{onSubmit:t,className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)(g.default,{htmlFor:"nome",children:["Nome Completo",(0,d.jsx)("span",{className:"text-error-500",children:"*"})]}),(0,d.jsx)(f.default,{id:"nome",name:"nome",type:"text",placeholder:"Digite seu nome completo",required:!0,defaultValue:a?.nome||"",onChange:a=>n({...m,nome:a.target.value}),error:o.nome})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)(g.default,{htmlFor:"email",children:["E-mail",(0,d.jsx)("span",{className:"text-error-500",children:"*"})]}),(0,d.jsx)(f.default,{id:"email",name:"email",type:"email",placeholder:"Digite seu email",required:!0,defaultValue:a?.email||"",onChange:a=>n({...m,email:a.target.value}),error:o.email})]}),!s&&(0,d.jsxs)("div",{children:[(0,d.jsxs)(g.default,{htmlFor:"senha",children:["Senha",!s&&(0,d.jsx)("span",{className:"text-error-500",children:"*"})]}),(0,d.jsx)(f.default,{id:"senha",name:"senha",type:"password",placeholder:"Digite sua senha",min:6,required:!0,onChange:a=>n({...m,senha:a.target.value}),error:o.senha})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(g.default,{htmlFor:"celular",children:"Celular"}),(0,d.jsx)(f.default,{id:"celular",name:"celular",required:!0,type:"tel",placeholder:"(00) 00000-0000",defaultValue:a?.celular||"",onChange:a=>n({...m,celular:a.target.value}),error:o.celular})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)(g.default,{htmlFor:"role",children:["Fun칞칚o",(0,d.jsx)("span",{className:"text-error-500",children:"*"})]}),(0,d.jsx)(j.default,{id:"role",name:"role",value:l.find(a=>a.value===m.role),options:l,onChange:a=>n({...m,role:a.value}),isSearchable:!0,placeholder:"Selecione o tipo de usu치rio",error:o.role,className:"w-full"})]}),(0,d.jsxs)("div",{className:"flex justify-end space-x-4 pt-4",children:[(0,d.jsx)(h.default,{variant:"secondary",onClick:c,type:"button",children:"Cancelar"}),(0,d.jsx)(h.default,{variant:"primary",type:"submit",loading:q,children:s?"Atualizar":"Criar"})]})]})}]),c()}catch(a){c(a)}},!1),4389,a=>a.a(async(b,c)=>{try{var d=a.i(87924),e=a.i(72131),f=a.i(90365),g=a.i(32636),h=a.i(6704),i=a.i(96438),j=a.i(85479),k=a.i(95589),l=a.i(56687),m=a.i(16777),n=b([f,g,l]);function o(){let{user:a}=(0,g.useAuth)(),[b,c]=(0,e.useState)([]),[n,o]=(0,e.useState)(!0),[p,q]=(0,e.useState)(""),[r,s]=(0,e.useState)(!1),[t,u]=(0,e.useState)(null),v=async()=>{try{o(!0);let a=await f.services.users.list();c(a.data)}catch(a){h.default.error("Erro ao carregar usu치rios")}finally{o(!1)}};(0,e.useEffect)(()=>{v()},[]);let w=async a=>{if(window.confirm("Tem certeza que deseja excluir este usu치rio?"))try{await f.services.users.delete(a),h.default.success("Usu치rio exclu칤do com sucesso"),v()}catch(a){h.default.error("Erro ao excluir usu치rio")}},x=async a=>{console.log("handleSave:",a);try{if(t){let b=Object.fromEntries(Object.entries({nome:a.nome,email:a.email,celular:a.celular,role:a.role}).filter(([a,b])=>void 0!==b));await f.services.users.update(t.id,b),h.default.success("Usu치rio atualizado com sucesso")}else{let b={nome:a.nome,email:a.email,senha:a.senha,role:a.role||"VENDEDOR",celular:a.celular};await f.services.users.create(b),h.default.success("Usu치rio criado com sucesso")}s(!1),u(null),v()}catch(a){throw a}},y=b.filter(a=>a.nome.toLowerCase().includes(p.toLowerCase())||a.email.toLowerCase().includes(p.toLowerCase()));return(0,d.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8",children:[(0,d.jsxs)("div",{className:"mb-8",children:[(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Usu치rios"}),(0,d.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Gerencie os usu치rios do sistema"})]}),(0,d.jsx)(i.default,{variant:"primary",onClick:()=>{u(null),s(!0)},children:"Adicionar Usu치rio"})]}),(0,d.jsx)("div",{className:"mt-4 w-full sm:max-w-xs",children:(0,d.jsx)(j.default,{value:p,onChange:a=>q(a.target.value),placeholder:"Buscar por nome ou email..."})})]}),n?(0,d.jsx)("div",{className:"flex justify-center items-center min-h-[200px]",children:(0,d.jsx)("div",{className:"loader"})}):(0,d.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:y.map(b=>(0,d.jsx)(k.default,{user:b,onEdit:()=>{u(b),s(!0)},onDelete:()=>w(b.id),isCurrentUser:a?.id===b.id},b.id))}),(0,d.jsx)(m.Modal,{isOpen:r,onClose:()=>{s(!1),u(null)},className:"max-w-[800px] m-4",children:(0,d.jsxs)("div",{className:"no-scrollbar relative w-full overflow-y-auto rounded-3xl bg-white p-4 dark:bg-gray-900 lg:p-11",children:[(0,d.jsxs)("div",{className:"px-2 pr-14",children:[(0,d.jsx)("h4",{className:"mb-2 text-2xl font-semibold text-gray-800 dark:text-white/90",children:t?"Editar Usu치rio":"Novo Usu치rio"}),(0,d.jsx)("p",{className:"mb-6 text-sm text-gray-500 dark:text-gray-400 lg:mb-7",children:t?"Atualize as informa칞칫es do usu치rio.":"Preencha os dados para criar um novo usu치rio."})]}),(0,d.jsx)(l.default,{user:t,onSubmit:x,onCancel:()=>{s(!1),u(null)}})]})})]})}[f,g,l]=n.then?(await n)():n,a.s(["default",()=>o]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=src_1ca7e100._.js.map
"use strict";exports.id=8385,exports.ids=[8385],exports.modules={8691:(a,b,c)=>{c.d(b,{A:()=>e});var d=c(21124);c(38301);let e=({variant:a="light",color:b="primary",size:c="md",startIcon:e,className:f,endIcon:g,children:h})=>{let i={light:{primary:"bg-brand-50 text-brand-500 dark:bg-brand-500/15 dark:text-brand-400",success:"bg-success-50 text-success-600 dark:bg-success-500/15 dark:text-success-500",error:"bg-error-50 text-error-600 dark:bg-error-500/15 dark:text-error-500",warning:"bg-warning-50 text-warning-600 dark:bg-warning-500/15 dark:text-orange-400",info:"bg-blue-light-50 text-blue-light-500 dark:bg-blue-light-500/15 dark:text-blue-light-500",light:"bg-gray-100 text-gray-700 dark:bg-white/5 dark:text-white/80",dark:"bg-gray-500 text-white dark:bg-white/5 dark:text-white"},solid:{primary:"bg-brand-500 text-white dark:text-white",success:"bg-success-500 text-white dark:text-white",error:"bg-error-500 text-white dark:text-white",warning:"bg-warning-500 text-white dark:text-white",info:"bg-blue-light-500 text-white dark:text-white",light:"bg-gray-400 dark:bg-white/5 text-white dark:text-white/80",dark:"bg-gray-700 text-white dark:text-white"}}[a][b];return(0,d.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 justify-center gap-1 rounded-full font-medium ${{sm:"text-theme-xs",md:"text-sm"}[c]} ${i} ${f}`,children:[e&&(0,d.jsx)("span",{className:"mr-1",children:e}),h,g&&(0,d.jsx)("span",{className:"ml-1",children:g})]})}},20396:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{A:()=>j});var e=c(21124);c(38301);var f=c(34776),g=c(24515),h=c(64925),i=a([f]);function j({mensagem:a}){let{user:b}=(0,f.A)(),c=a.userId===b?.id,d=a.user?.role==="SUPERADMIN";return(0,e.jsx)("div",{className:`flex ${c?"justify-end":"justify-start"} mb-4`,children:(0,e.jsxs)("div",{className:`flex flex-col max-w-[70%] ${c?"items-end":"items-start"}`,children:[(0,e.jsxs)("div",{className:`flex items-center gap-2 mb-1 ${c?"flex-row-reverse":""}`,children:[(0,e.jsx)("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:a.user?.nome||"Usu\xe1rio"}),d&&(0,e.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 font-medium",children:"ADMIN"}),(0,e.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:function(a){try{let b=new Date(a),c=new Date,d=Math.floor((c.getTime()-b.getTime())/1e3);if(d<60)return"agora";if(d<3600)return`${Math.floor(d/60)} min atr\xe1s`;if(d<86400)return`${Math.floor(d/3600)} hr atr\xe1s`;let e=new Date;e.setHours(0,0,0,0);let f=new Date(b);if(f.setHours(0,0,0,0),f.getTime()===e.getTime())return`Hoje \xe0s ${b.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}`;let g=new Date(e);if(g.setDate(g.getDate()-1),f.getTime()===g.getTime())return`Ontem \xe0s ${b.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}`;return b.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return a}}(a.createdAt)})]}),a.anexos&&Array.isArray(a.anexos)&&a.anexos.length>0&&(0,e.jsx)("div",{className:`mt-2 ${c?"text-right":"text-left"}`,children:(0,e.jsx)("div",{className:"flex flex-wrap gap-2",children:a.anexos.map((a,b)=>{let d=a.tipo?.startsWith("image/"),f=(0,h.WE)(),i=a.url?`${f?.backendUrl}${a.url}`:"#";return console.log("fileUrl:",i),(0,e.jsxs)("div",{className:"flex flex-col gap-1",children:[d?(0,e.jsx)("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"block",children:(0,e.jsx)(g.default,{src:i,alt:a.nome||`Anexo ${b+1}`,className:"max-w-[200px] max-h-[200px] rounded-lg object-cover border border-gray-200 dark:border-gray-600 hover:opacity-80 transition-opacity cursor-pointer",width:200,height:200})}):(0,e.jsxs)("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center gap-1 text-xs px-3 py-1.5 rounded-lg transition-colors ${c?"bg-blue-400/20 text-blue-100 hover:bg-blue-400/30":"bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-500"}`,children:[(0,e.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),a.nome||`Anexo ${b+1}`]}),d&&(0,e.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400 truncate max-w-[200px]",children:a.nome||`Anexo ${b+1}`})]},b)})})}),(0,e.jsx)("div",{className:`rounded-2xl px-4 py-3 shadow-sm ${c?"bg-blue-500 text-white rounded-tr-sm":d?"bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 text-gray-900 dark:text-white rounded-tl-sm":"bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 text-gray-900 dark:text-white rounded-tl-sm"}`,children:(0,e.jsx)("p",{className:"text-sm leading-relaxed whitespace-pre-wrap break-words",children:a.mensagem})})]})})}f=(i.then?(await i)():i)[0],d()}catch(a){d(a)}})},62186:(a,b,c)=>{c.d(b,{Z:()=>e});var d=c(21124);c(38301);let e=({children:a,className:b=""})=>(0,d.jsx)("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 ${b}`,children:a})},66088:(a,b,c)=>{c.d(b,{A:()=>g});var d=c(21124);c(38301);var e=c(25581),f=c(26424);function g({error:a,className:b="",...c}){let{isDark:g}=(0,f.D)();return(0,d.jsxs)("div",{className:b,children:[(0,d.jsx)(e.Ay,{...c,styles:{control:(b,c)=>({...b,backgroundColor:g?"#1F2937":"#fff",borderColor:a?"#EF4444":c.isFocused?"#3B82F6":g?"#374151":"#D1D5DB",borderRadius:"0.375rem",boxShadow:c.isFocused?"0 0 0 2px rgba(59, 130, 246, 0.5)":"none","&:hover":{borderColor:c.isFocused?"#3B82F6":g?"#4B5563":"#9CA3AF"},minHeight:"2.5rem"}),menu:a=>({...a,backgroundColor:g?"#1F2937":"#fff",borderColor:g?"#374151":"#D1D5DB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(a,b)=>({...a,backgroundColor:b.isSelected?g?"#3B82F6":"#2563EB":b.isFocused?g?"#374151":"#F3F4F6":"transparent",color:b.isSelected?"#fff":g?"#D1D5DB":"#111827",cursor:"pointer","&:active":{backgroundColor:g?"#2563EB":"#3B82F6"}}),singleValue:a=>({...a,color:g?"#D1D5DB":"#111827"}),input:a=>({...a,color:g?"#D1D5DB":"#111827"}),placeholder:a=>({...a,color:g?"#6B7280":"#9CA3AF"}),indicatorSeparator:a=>({...a,backgroundColor:g?"#374151":"#D1D5DB"}),dropdownIndicator:a=>({...a,color:g?"#6B7280":"#9CA3AF","&:hover":{color:g?"#D1D5DB":"#4B5563"}}),clearIndicator:a=>({...a,color:g?"#6B7280":"#9CA3AF","&:hover":{color:g?"#D1D5DB":"#4B5563"}})},classNamePrefix:"react-select",className:a?"react-select-error":""}),a&&(0,d.jsx)("p",{className:"mt-1 text-sm text-red-500",children:a})]})}},78552:(a,b,c)=>{c.d(b,{A:()=>f});var d=c(21124);c(38301);var e=c(58829);let f=({htmlFor:a,children:b,className:c})=>(0,d.jsx)("label",{htmlFor:a,className:(0,e.QP)("mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400",c),children:b})},80813:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{d:()=>l});var e=c(38301),f=c(42378);c(66013);var g=c(83988);c(87159);var h=c(66518),i=c(34776),j=c(64925),k=a([g,i]);function l(){(0,f.useRouter)();let{user:a,isAuthenticated:b}=(0,i.A)();(0,j.zr)();let[c,d]=(0,e.useState)([]),[k,l]=(0,e.useState)(!0),[m,n]=(0,e.useState)(null),[o,p]=(0,e.useState)(!1),[q,r]=(0,e.useState)(null);(0,e.useRef)(!1);let s=(0,e.useCallback)(async a=>{try{l(!0);let b=await g.$p.ticket.list(a);d(b.data)}catch(a){console.error("Erro ao carregar tickets:",a),h.Ay.error("Erro ao carregar tickets")}finally{l(!1)}},[]),t=(0,e.useCallback)(async a=>{try{return(await g.$p.ticket.getById(a)).data}catch(a){return console.error("Erro ao carregar ticket:",a),h.Ay.error("Erro ao carregar ticket"),null}},[]),u=(0,e.useCallback)(a=>{m&&o&&(m.emit("ticket:join",{ticketId:a}),r(a))},[m,o]),v=(0,e.useCallback)(a=>{m&&o&&(m.emit("ticket:leave",{ticketId:a}),q===a&&r(null))},[m,o,q]);return{tickets:c,loading:k,isConnected:o,currentTicketId:q,loadTickets:s,loadTicket:t,joinTicketRoom:u,leaveTicketRoom:v}}[g,i]=k.then?(await k)():k,d()}catch(a){d(a)}})}};
"use strict";exports.id=6579,exports.ids=[6579],exports.modules={8929:(e,r,t)=>{t.a(e,async(e,a)=>{try{t.d(r,{A:()=>d});var s=t(60687);t(43210);var o=t(87979),l=t(30474),i=t(90168),n=e([o]);function d({mensagem:e}){let{user:r}=(0,o.A)(),t=e.userId===r?.id,a=e.user?.role==="SUPERADMIN";return(0,s.jsx)("div",{className:`flex ${t?"justify-end":"justify-start"} mb-4`,children:(0,s.jsxs)("div",{className:`flex flex-col max-w-[70%] ${t?"items-end":"items-start"}`,children:[(0,s.jsxs)("div",{className:`flex items-center gap-2 mb-1 ${t?"flex-row-reverse":""}`,children:[(0,s.jsx)("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:e.user?.nome||"Usu\xe1rio"}),a&&(0,s.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 font-medium",children:"ADMIN"}),(0,s.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:function(e){try{let r=new Date(e),t=new Date,a=Math.floor((t.getTime()-r.getTime())/1e3);if(a<60)return"agora";if(a<3600)return`${Math.floor(a/60)} min atr\xe1s`;if(a<86400)return`${Math.floor(a/3600)} hr atr\xe1s`;let s=new Date;s.setHours(0,0,0,0);let o=new Date(r);if(o.setHours(0,0,0,0),o.getTime()===s.getTime())return`Hoje \xe0s ${r.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}`;let l=new Date(s);if(l.setDate(l.getDate()-1),o.getTime()===l.getTime())return`Ontem \xe0s ${r.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}`;return r.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return e}}(e.createdAt)})]}),e.anexos&&Array.isArray(e.anexos)&&e.anexos.length>0&&(0,s.jsx)("div",{className:`mt-2 ${t?"text-right":"text-left"}`,children:(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:e.anexos.map((e,r)=>{let a=e.tipo?.startsWith("image/"),o=(0,i.WE)(),n=e.url?`${o?.backendUrl}${e.url}`:"#";return console.log("fileUrl:",n),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[a?(0,s.jsx)("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"block",children:(0,s.jsx)(l.default,{src:n,alt:e.nome||`Anexo ${r+1}`,className:"max-w-[200px] max-h-[200px] rounded-lg object-cover border border-gray-200 dark:border-gray-600 hover:opacity-80 transition-opacity cursor-pointer",width:200,height:200})}):(0,s.jsxs)("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center gap-1 text-xs px-3 py-1.5 rounded-lg transition-colors ${t?"bg-blue-400/20 text-blue-100 hover:bg-blue-400/30":"bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-500"}`,children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),e.nome||`Anexo ${r+1}`]}),a&&(0,s.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400 truncate max-w-[200px]",children:e.nome||`Anexo ${r+1}`})]},r)})})}),(0,s.jsx)("div",{className:`rounded-2xl px-4 py-3 shadow-sm ${t?"bg-blue-500 text-white rounded-tr-sm":a?"bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 text-gray-900 dark:text-white rounded-tl-sm":"bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 text-gray-900 dark:text-white rounded-tl-sm"}`,children:(0,s.jsx)("p",{className:"text-sm leading-relaxed whitespace-pre-wrap break-words",children:e.mensagem})})]})})}o=(n.then?(await n)():n)[0],a()}catch(e){a(e)}})},14270:(e,r,t)=>{t.d(r,{A:()=>s});var a=t(60687);t(43210);let s=({variant:e="light",color:r="primary",size:t="md",startIcon:s,className:o,endIcon:l,children:i})=>{let n={light:{primary:"bg-brand-50 text-brand-500 dark:bg-brand-500/15 dark:text-brand-400",success:"bg-success-50 text-success-600 dark:bg-success-500/15 dark:text-success-500",error:"bg-error-50 text-error-600 dark:bg-error-500/15 dark:text-error-500",warning:"bg-warning-50 text-warning-600 dark:bg-warning-500/15 dark:text-orange-400",info:"bg-blue-light-50 text-blue-light-500 dark:bg-blue-light-500/15 dark:text-blue-light-500",light:"bg-gray-100 text-gray-700 dark:bg-white/5 dark:text-white/80",dark:"bg-gray-500 text-white dark:bg-white/5 dark:text-white"},solid:{primary:"bg-brand-500 text-white dark:text-white",success:"bg-success-500 text-white dark:text-white",error:"bg-error-500 text-white dark:text-white",warning:"bg-warning-500 text-white dark:text-white",info:"bg-blue-light-500 text-white dark:text-white",light:"bg-gray-400 dark:bg-white/5 text-white dark:text-white/80",dark:"bg-gray-700 text-white dark:text-white"}}[e][r];return(0,a.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 justify-center gap-1 rounded-full font-medium ${{sm:"text-theme-xs",md:"text-sm"}[t]} ${n} ${o}`,children:[s&&(0,a.jsx)("span",{className:"mr-1",children:s}),i,l&&(0,a.jsx)("span",{className:"ml-1",children:l})]})}},26108:(e,r,t)=>{t.a(e,async(e,a)=>{try{t.d(r,{d:()=>x});var s=t(43210),o=t(16189);t(57405);var l=t(68957);t(7148);var i=t(37590),n=t(87979),d=t(90168),c=e([l,n]);function x(){(0,o.useRouter)();let{user:e,isAuthenticated:r}=(0,n.A)();(0,d.zr)();let[t,a]=(0,s.useState)([]),[c,x]=(0,s.useState)(!0),[g,u]=(0,s.useState)(null),[h,m]=(0,s.useState)(!1),[b,p]=(0,s.useState)(null);(0,s.useRef)(!1);let k=(0,s.useCallback)(async e=>{try{x(!0);let r=await l.$p.ticket.list(e);a(r.data)}catch(e){console.error("Erro ao carregar tickets:",e),i.Ay.error("Erro ao carregar tickets")}finally{x(!1)}},[]),y=(0,s.useCallback)(async e=>{try{return(await l.$p.ticket.getById(e)).data}catch(e){return console.error("Erro ao carregar ticket:",e),i.Ay.error("Erro ao carregar ticket"),null}},[]),w=(0,s.useCallback)(e=>{g&&h&&(g.emit("ticket:join",{ticketId:e}),p(e))},[g,h]),f=(0,s.useCallback)(e=>{g&&h&&(g.emit("ticket:leave",{ticketId:e}),b===e&&p(null))},[g,h,b]);return{tickets:t,loading:c,isConnected:h,currentTicketId:b,loadTickets:k,loadTicket:y,joinTicketRoom:w,leaveTicketRoom:f}}[l,n]=c.then?(await c)():c,a()}catch(e){a(e)}})},41721:(e,r,t)=>{t.d(r,{A:()=>o});var a=t(60687);t(43210);var s=t(82348);let o=({htmlFor:e,children:r,className:t})=>(0,a.jsx)("label",{htmlFor:e,className:(0,s.QP)("mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400",t),children:r})},44493:(e,r,t)=>{t.d(r,{Z:()=>s});var a=t(60687);t(43210);let s=({children:e,className:r=""})=>(0,a.jsx)("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 ${r}`,children:e})},70695:(e,r,t)=>{t.d(r,{A:()=>l});var a=t(60687);t(43210);var s=t(3021),o=t(29255);function l({error:e,className:r="",...t}){let{isDark:l}=(0,o.D)();return(0,a.jsxs)("div",{className:r,children:[(0,a.jsx)(s.Ay,{...t,styles:{control:(r,t)=>({...r,backgroundColor:l?"#1F2937":"#fff",borderColor:e?"#EF4444":t.isFocused?"#3B82F6":l?"#374151":"#D1D5DB",borderRadius:"0.375rem",boxShadow:t.isFocused?"0 0 0 2px rgba(59, 130, 246, 0.5)":"none","&:hover":{borderColor:t.isFocused?"#3B82F6":l?"#4B5563":"#9CA3AF"},minHeight:"2.5rem"}),menu:e=>({...e,backgroundColor:l?"#1F2937":"#fff",borderColor:l?"#374151":"#D1D5DB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(e,r)=>({...e,backgroundColor:r.isSelected?l?"#3B82F6":"#2563EB":r.isFocused?l?"#374151":"#F3F4F6":"transparent",color:r.isSelected?"#fff":l?"#D1D5DB":"#111827",cursor:"pointer","&:active":{backgroundColor:l?"#2563EB":"#3B82F6"}}),singleValue:e=>({...e,color:l?"#D1D5DB":"#111827"}),input:e=>({...e,color:l?"#D1D5DB":"#111827"}),placeholder:e=>({...e,color:l?"#6B7280":"#9CA3AF"}),indicatorSeparator:e=>({...e,backgroundColor:l?"#374151":"#D1D5DB"}),dropdownIndicator:e=>({...e,color:l?"#6B7280":"#9CA3AF","&:hover":{color:l?"#D1D5DB":"#4B5563"}}),clearIndicator:e=>({...e,color:l?"#6B7280":"#9CA3AF","&:hover":{color:l?"#D1D5DB":"#4B5563"}})},classNamePrefix:"react-select",className:e?"react-select-error":""}),e&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-500",children:e})]})}}};
(()=>{var e={};e.id=9249,e.ids=[9249],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8796:(e,t,r)=>{Promise.resolve().then(r.bind(r,36458))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19587:(e,t)=>{"use strict";function r(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"encodeURIPath",{enumerable:!0,get:function(){return r}})},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29647:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\oKRATOS\\\\Desktop\\\\cobpanel\\\\frontend\\\\src\\\\app\\\\(dashboard)\\\\dashboard\\\\empresa\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\oKRATOS\\Desktop\\cobpanel\\frontend\\src\\app\\(dashboard)\\dashboard\\empresa\\page.tsx","default")},30036:(e,t,r)=>{"use strict";r.d(t,{default:()=>s.a});var a=r(49587),s=r.n(a)},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},36458:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>v});var s=r(60687),n=r(43210),l=r(87979),o=r(90218),i=r(79058),d=r(96448),u=r(17114),c=r(99666),p=r(70695),m=r(55324),x=r(47876),h=r(20184),b=r(80022),f=r(68957),g=e([l,u,b,f]);function v(){let{user:e}=(0,l.A)(),[t,r]=(0,n.useState)(!0),[a,b]=(0,n.useState)([]),[f,g]=(0,n.useState)([]),[v,y]=(0,n.useState)({data:[],pagination:{total:0,page:1,limit:1,pages:0},message:""}),j=new Date(new Date().getFullYear(),0,1),w=new Date(new Date().getFullYear(),11,31),[P,N]=(0,n.useState)(""),[k,S]=(0,n.useState)(void 0),[C,O]=(0,n.useState)(void 0),[D,A]=(0,n.useState)(`${j.toISOString()},${w.toISOString()}`),[_,E]=(0,n.useState)(void 0),[M,R]=(0,n.useState)("createdAt_desc"),[q,I]=(0,n.useState)(1),[T,F]=(0,n.useState)(10),[G,L]=(0,n.useState)(0);e?.empresaId;let $=(0,n.useMemo)(()=>{let e=Array(12).fill(0);if(!a?.length)return e;let t=new Date().getFullYear();for(let r of a){let a=new Date(r.vencimento);if("APPROVED"!==r.status||a.getFullYear()!==t)continue;let s=a.getMonth(),n=Number(r.valor??0);Number.isNaN(n)||(e[s]+=n)}return console.log("receitaMensal:",e),e},[a]),V=(0,n.useMemo)(()=>{let e=new Map;for(let t of a){let r=t.status,a=e.get(r)||0;e.set(r,a+(Number(t.valor)||0))}return Array.from(e.entries()).map(([e,t])=>({status:e,total:t}))},[a]),U=async e=>{try{await u.O.send(e)}catch(e){}};return(0,s.jsxs)("div",{className:"grid grid-cols-12 gap-4 md:gap-6",children:[(0,s.jsxs)("div",{className:"col-span-12 space-y-6 xl:col-span-7",children:[(0,s.jsx)(o.c,{totalClientes:v.pagination.total,totalVendas:a.length,totalRecebido:a.filter(e=>"APPROVED"===e.status).reduce((e,t)=>e+(Number(t.valor)||0),0)}),(0,s.jsx)(i.k,{data:$})]}),(0,s.jsx)("div",{className:"col-span-12 xl:col-span-5",children:(0,s.jsx)(d.Y,{items:V})}),(0,s.jsxs)("div",{className:"col-span-12 space-y-4",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-3 md:flex-row md:items-end md:justify-between",children:[(0,s.jsx)("div",{className:"flex-1 max-w-xs",children:(0,s.jsx)(m.A,{type:"text",placeholder:"Buscar faturas...",value:P,onChange:e=>{N(e.target.value),I(1)}})}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-3 items-end",children:[(0,s.jsx)(p.A,{placeholder:"Tipo",options:[{value:"PIX",label:"PIX"},{value:"BOLETO",label:"Boleto"}],value:k?{value:k,label:k}:void 0,onChange:e=>{S(e?e.value:void 0),I(1)},isClearable:!0,className:"min-w-40"}),(0,s.jsx)(p.A,{placeholder:"Status",options:[{value:"PENDING",label:"Pendente"},{value:"APPROVED",label:"Aprovado"},{value:"CANCELLED",label:"Cancelado"}],value:C?{value:C,label:C}:void 0,onChange:e=>{O(e?e.value:void 0),I(1)},isClearable:!0,className:"min-w-40"}),(0,s.jsx)("div",{className:"min-w-48",children:(0,s.jsx)(x.A,{id:"vencimento",mode:"range",onClickClean:e=>{e&&(e.clear(),e.close(),A(void 0),I(1))},onClickHj:e=>{if(e){let t=new Date;e.setDate(t),e.close(),A(t.toISOString()),I(1)}},onClickAno:e=>{if(e){let t=new Date,r=new Date(t.getFullYear(),0,1),a=new Date(t.getFullYear(),11,31);e.setDate(r),e.setDate(a),e.close(),A(`${r.toISOString()},${a.toISOString()}`),I(1)}},onClickMes:e=>{if(e){let t=new Date,r=new Date(t.getFullYear(),t.getMonth(),1),a=new Date(t.getFullYear(),t.getMonth()+1,0);e.setDate(r),e.setDate(a),e.close(),A(`${r.toISOString()},${a.toISOString()}`),I(1)}},onChange:e=>{let t=e.length,r=t>1?e?.[0]?.toISOString()+","+e?.[1]?.toISOString():e?.[0]?.toISOString();t>1&&(A(r),I(1))},defaultDate:D?.split(",").map(e=>new Date(e))||void 0})}),(0,s.jsx)(p.A,{placeholder:"Gateway",options:f.map(e=>({value:e.id.toString(),label:`${e.nome} (${e.gateway})${e.isDefault?" (Padr\xe3o)":""}`})),value:_?{value:_.toString(),label:f.find(e=>e.id===_)?.nome||""}:void 0,onChange:e=>{E(e?parseInt(e.value):void 0),I(1)},isClearable:!0,className:"min-w-50"}),(0,s.jsx)(p.A,{placeholder:"Ordenar por",options:[{value:"createdAt_desc",label:"Criado - Mais recente"},{value:"createdAt_asc",label:"Criado - Mais antigo"},{value:"vencimento_asc",label:"Vencimento - Mais pr\xf3ximo"},{value:"vencimento_desc",label:"Vencimento - Mais distante"},{value:"valor_desc",label:"Valor - Maior"},{value:"valor_asc",label:"Valor - Menor"}],value:{value:M,label:""},onChange:e=>{R(e?e.value:"createdAt_desc"),I(1)},isClearable:!1,className:"min-w-50"})]})]}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:"Faturas"}),(0,s.jsx)(c.u,{items:a,onSend:U}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Itens por p\xe1gina:",(0,s.jsx)("select",{title:"Itens por p\xe1gina",className:"ml-2 rounded border border-gray-300 bg-white px-2 py-1 text-sm dark:bg-gray-900 dark:border-gray-700",value:T,onChange:e=>{F(parseInt(e.target.value)),I(1)},children:[5,10,20].map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsx)(h.A,{totalPages:G,currentPage:q,onPageChange:I})]})]})]})}[l,u,b,f]=g.then?(await g)():g,a()}catch(e){a(e)}})},49587:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});let a=r(14985)._(r(64963));function s(e,t){var r;let s={};"function"==typeof e&&(s.loader=e);let n={...s,...t};return(0,a.default)({...n,modules:null==(r=n.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},56780:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return s}});let a=r(81208);function s(e){let{reason:t,children:r}=e;throw Object.defineProperty(new a.BailoutToCSRError(t),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64777:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return o}});let a=r(60687),s=r(51215),n=r(29294),l=r(19587);function o(e){let{moduleIds:t}=e,r=n.workAsyncStorage.getStore();if(void 0===r)return null;let o=[];if(r.reactLoadableManifest&&t){let e=r.reactLoadableManifest;for(let r of t){if(!e[r])continue;let t=e[r].files;o.push(...t)}}return 0===o.length?null:(0,a.jsx)(a.Fragment,{children:o.map(e=>{let t=r.assetPrefix+"/_next/"+(0,l.encodeURIPath)(e);return e.endsWith(".css")?(0,a.jsx)("link",{precedence:"dynamic",href:t,rel:"stylesheet",as:"style"},e):((0,s.preload)(t,{as:"script",fetchPriority:"low"}),null)})})}},64963:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return d}});let a=r(60687),s=r(43210),n=r(56780),l=r(64777);function o(e){return{default:e&&"default"in e?e.default:e}}let i={loader:()=>Promise.resolve(o(()=>null)),loading:null,ssr:!0},d=function(e){let t={...i,...e},r=(0,s.lazy)(()=>t.loader().then(o)),d=t.loading;function u(e){let o=d?(0,a.jsx)(d,{isLoading:!0,pastDelay:!0,error:null}):null,i=!t.ssr||!!t.loading,u=i?s.Suspense:s.Fragment,c=t.ssr?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.PreloadChunks,{moduleIds:t.modules}),(0,a.jsx)(r,{...e})]}):(0,a.jsx)(n.BailoutToCSR,{reason:"next/dynamic",children:(0,a.jsx)(r,{...e})});return(0,a.jsx)(u,{...i?{fallback:o}:{},children:c})}return u.displayName="LoadableComponent",u}},74075:e=>{"use strict";e.exports=require("zlib")},79058:(e,t,r)=>{"use strict";r.d(t,{k:()=>i});var a=r(60687),s=r(43210),n=r(29908);let l=(0,r(30036).default)(async()=>{},{loadableGenerated:{modules:["components\\dashboard\\RevenueByMonthChart.tsx -> react-apexcharts"]},ssr:!1}),o=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"];function i({data:e}){let t=(0,s.useMemo)(()=>e&&0!==e.length?"number"==typeof e[0]?o.map((t,r)=>({label:t,revenue:Number(e[r]??0)})):e.map((e,t)=>({label:e.label??o[t]??`M${t+1}`,revenue:Number(e.revenue??0)})):o.map(e=>({label:e,revenue:0})),[e]),r=t.map(e=>e.label),i=t.map(e=>e.revenue);return(0,a.jsxs)("div",{className:"overflow-hidden rounded-2xl border border-gray-200 bg-white px-5 pt-5 dark:border-gray-800 dark:bg-white/[0.03] sm:px-6 sm:pt-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:"Receita por m\xeas"})}),(0,a.jsx)("div",{className:"max-w-full overflow-x-auto custom-scrollbar",children:(0,a.jsx)("div",{className:"-ml-5 min-w-[650px] xl:min-w-full pl-2",children:(0,a.jsx)(l,{options:{colors:["#465fff"],chart:{fontFamily:"Outfit, sans-serif",type:"bar",height:200,toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:"39%",borderRadius:5,borderRadiusApplication:"end"}},dataLabels:{enabled:!1},stroke:{show:!0,width:4,colors:["transparent"]},xaxis:{categories:r,axisBorder:{show:!1},axisTicks:{show:!1}},legend:{show:!1},yaxis:{labels:{formatter:e=>`${(0,n.vv)(e)}`}},grid:{yaxis:{lines:{show:!0}}},fill:{opacity:1},tooltip:{x:{show:!1},y:{formatter:e=>`${(0,n.vv)(e)}`}}},series:[{name:"Receita",data:i}],type:"bar",height:200})})})]})}},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},79748:e=>{"use strict";e.exports=require("fs/promises")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},87457:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>c,pages:()=>u,routeModule:()=>p,tree:()=>d});var a=r(65239),s=r(48088),n=r(88170),l=r.n(n),o=r(30893),i={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);r.d(t,i);let d={children:["",{children:["(dashboard)",{children:["dashboard",{children:["empresa",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,29647)),"C:\\Users\\oKRATOS\\Desktop\\cobpanel\\frontend\\src\\app\\(dashboard)\\dashboard\\empresa\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,7720)),"C:\\Users\\oKRATOS\\Desktop\\cobpanel\\frontend\\src\\app\\(dashboard)\\dashboard\\empresa\\layout.tsx"]}]},{}]},{forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e),async e=>(await Promise.resolve().then(r.bind(r,51520))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"C:\\Users\\oKRATOS\\Desktop\\cobpanel\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,54413)),"C:\\Users\\oKRATOS\\Desktop\\cobpanel\\frontend\\src\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e),async e=>(await Promise.resolve().then(r.bind(r,51520))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,u=["C:\\Users\\oKRATOS\\Desktop\\cobpanel\\frontend\\src\\app\\(dashboard)\\dashboard\\empresa\\page.tsx"],c={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/(dashboard)/dashboard/empresa/page",pathname:"/dashboard/empresa",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},90218:(e,t,r)=>{"use strict";r.d(t,{c:()=>l});var a=r(60687);r(43210);var s=r(51872),n=r(29908);function l({totalClientes:e,totalVendas:t,totalRecebido:r}){return(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3 md:gap-6",children:[(0,a.jsxs)("div",{className:"rounded-2xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-white/[0.03] md:p-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-gray-100 rounded-xl dark:bg-gray-800",children:(0,a.jsx)(s.nF,{className:"text-gray-800 size-6 dark:text-white/90"})}),(0,a.jsx)("div",{className:"flex items-end justify-between mt-5",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Clientes"}),(0,a.jsx)("h4",{className:"mt-2 font-bold text-gray-800 text-title-sm dark:text-white/90",children:e})]})})]}),(0,a.jsxs)("div",{className:"rounded-2xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-white/[0.03] md:p-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-gray-100 rounded-xl dark:bg-gray-800",children:(0,a.jsx)(s.pC,{className:"text-gray-800 dark:text-white/90"})}),(0,a.jsx)("div",{className:"flex items-end justify-between mt-5",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Vendas"}),(0,a.jsx)("h4",{className:"mt-2 font-bold text-gray-800 text-title-sm dark:text-white/90",children:t})]})})]}),(0,a.jsxs)("div",{className:"rounded-2xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-white/[0.03] md:p-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-gray-100 rounded-xl dark:bg-gray-800",children:(0,a.jsx)(s.cr,{className:"text-gray-800 dark:text-white/90"})}),(0,a.jsx)("div",{className:"flex items-end justify-between mt-5",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total recebido"}),(0,a.jsx)("h4",{className:"mt-2 font-bold text-gray-800 text-title-sm dark:text-white/90",children:(0,n.vv)(r||0)})]})})]})]})}},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},96448:(e,t,r)=>{"use strict";r.d(t,{Y:()=>i});var a=r(60687),s=r(30036);r(43210);let n=(0,s.default)(async()=>{},{loadableGenerated:{modules:["components\\dashboard\\SalesByStatusChart.tsx -> react-apexcharts"]},ssr:!1}),l={PENDING:"Pendente",APPROVED:"Pago",CANCELLED:"Cancelado",PENDENTE:"Pendente",PAGO:"Pago"},o={PENDING:"#f59e0b",APPROVED:"#10b981",CANCELLED:"#ef4444",PENDENTE:"#f59e0b",PAGO:"#10b981"};function i({items:e}){let t=e?.map(e=>l[e.status]??e.status)??[],r=e?.map(e=>e.total)??[],s=e?.map(e=>o[e.status]??"#6366f1");return(0,a.jsxs)("div",{className:"rounded-2xl border border-gray-200 bg-white px-5 pt-5 dark:border-gray-800 dark:bg-white/[0.03] sm:px-6 sm:pt-6",children:[(0,a.jsx)("h3",{className:"mb-4 text-lg font-semibold text-gray-800 dark:text-white/90",children:"Vendas por status"}),(0,a.jsx)(n,{options:{chart:{type:"donut",height:320,fontFamily:"Outfit, sans-serif"},labels:t,legend:{position:"bottom"},dataLabels:{enabled:!0},colors:s,tooltip:{y:{formatter:e=>`${e}`}}},series:r,type:"donut",height:320})]})}},99068:(e,t,r)=>{Promise.resolve().then(r.bind(r,29647))},99666:(e,t,r)=>{"use strict";r.d(t,{u:()=>n});var a=r(60687);r(43210);var s=r(55430);function n({items:e,onSend:t}){return e?.length?(0,a.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,a.jsx)(s.A,{vendaFinal:e,onSend:t?()=>t(e.id):void 0,onEdit:()=>{},onDelete:()=>{},showActions:!1},e.id))}):(0,a.jsx)("div",{className:"rounded-2xl border border-dashed border-gray-200 p-6 text-center text-gray-500 dark:border-gray-800 dark:text-gray-400",children:"Sem faturas recentes"})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[4447,5397,2574,8894,2348,3021,16,1432,8066,7805],()=>r(87457));module.exports=a})();
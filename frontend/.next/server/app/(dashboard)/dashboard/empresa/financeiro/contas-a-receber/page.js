(()=>{var e={};e.id=4216,e.ids=[4216],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},17188:(e,a,r)=>{"use strict";r.a(e,async(e,t)=>{try{r.r(a),r.d(a,{default:()=>b});var s=r(60687),n=r(43210),o=r(37590),i=r(19125),l=r(55324),d=r(70695),c=r(17114),u=r(80022),p=r(55430),m=r(47246),x=r(20184),h=r(41721),f=r(47876),v=e([c,u,m]);function b(){let[e,a]=(0,n.useState)([]),[r,t]=(0,n.useState)([]),[v,b]=(0,n.useState)(!0),[g,y]=(0,n.useState)(""),[w,j]=(0,n.useState)(1),[N,P]=(0,n.useState)(0),[C,q]=(0,n.useState)(!1),[A,k]=(0,n.useState)(null),[_,S]=(0,n.useState)({}),[R,O]=(0,n.useState)(9);(0,n.useCallback)(async()=>{try{let e=await u.k.list({limit:100});t(e.data||[])}catch(e){console.error("Erro ao carregar gateways:",e)}},[]);let E=(0,n.useCallback)(async()=>{try{b(!0);let e=await c.O.list({page:w,limit:R,search:g,status:"PENDING",type:_.type,vencimento:_.vencimento,gatewayId:_.gatewayId,orderBy:_.orderBy});a(e.data),P(e.pagination.pages)}catch(e){o.oR.error("Erro ao carregar contas a receber")}finally{b(!1)}},[w,g,_,R]),I=e=>{S(a=>({...a,...e})),j(1)},T=e=>{k(e),q(!0)},D=async e=>{if(window.confirm("Tem certeza que deseja excluir esta fatura?"))try{await c.O.delete(e),o.oR.success("Fatura exclu\xedda com sucesso"),E()}catch(e){o.oR.error("Erro ao excluir fatura")}},G=async e=>{if(window.confirm("Tem certeza que deseja enviar esta fatura para o cliente?"))try{await c.O.send(e),o.oR.success("Fatura enviada com sucesso para o cliente")}catch(e){o.oR.error("Erro ao enviar fatura")}},M=async e=>{try{A&&(await c.O.update(A.id,e),o.oR.success("Fatura atualizada com sucesso"),q(!1),k(null),E())}catch(e){o.oR.error("Erro ao salvar fatura")}},z=[{value:"PIX",label:"PIX"},{value:"BOLETO",label:"Boleto"}],K=[{value:"vencimento_asc",label:"Vencimento - Mais pr\xf3ximo"},{value:"vencimento_desc",label:"Vencimento - Mais distante"},{value:"valor_desc",label:"Valor - Maior"},{value:"valor_asc",label:"Valor - Menor"},{value:"createdAt_desc",label:"Criado - Mais recente"},{value:"createdAt_asc",label:"Criado - Mais antigo"}];return(0,s.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Contas a Receber"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Gerencie todas as faturas pendentes de recebimento"})]})}),(0,s.jsxs)("div",{className:"mt-6 flex flex-col sm:flex-row items-center gap-4",children:[(0,s.jsx)("div",{className:"flex-1 w-full sm:max-w-xs",children:(0,s.jsx)(l.A,{type:"text",placeholder:"Buscar faturas...",value:g,onChange:e=>{y(e.target.value),j(1)},className:"w-full"})}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,s.jsx)(d.A,{placeholder:"Tipo",options:z,value:z.find(e=>e.value===_.type),onChange:e=>I({type:e?e.value:void 0}),isClearable:!0,className:"whitespace-nowrap min-w-40"}),(0,s.jsx)("div",{className:"min-w-48",children:(0,s.jsx)(f.A,{id:"vencimento",onChange:e=>{I({vencimento:e[0]||void 0})},defaultDate:_.vencimento})}),(0,s.jsx)(d.A,{placeholder:"Gateway",options:r.map(e=>({value:e.id.toString(),label:`${e.nome} (${e.gateway}) ${e.isDefault?"(Padr\xe3o)":""}`})),value:r.find(e=>e.id===_.gatewayId)?{value:_.gatewayId.toString(),label:r.find(e=>e.id===_.gatewayId).nome}:void 0,onChange:e=>I({gatewayId:e?parseInt(e.value):void 0}),isClearable:!0,className:"whitespace-nowrap min-w-50"}),(0,s.jsx)(d.A,{placeholder:"Ordenar por",options:K,value:K.find(e=>e.value===_.orderBy),onChange:e=>I({orderBy:e?e.value:void 0}),isClearable:!0,className:"whitespace-nowrap min-w-50"})]})]})]}),(0,s.jsxs)("div",{className:"flex justify-between mb-4 gap-2 flex-wrap",children:[(0,s.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,s.jsx)(h.A,{className:"flex items-center mb-0 h-full",children:"Quantidade por p\xe1gina"}),(0,s.jsx)(l.A,{className:"max-w-24",defaultValue:R,max:100,min:1,onChange:e=>{let a=Number(e.target.value)||9;O(a),j(1)}})]}),(0,s.jsx)(x.A,{currentPage:w,totalPages:N,onPageChange:j})]}),v?(0,s.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(e=>(0,s.jsx)("div",{className:"animate-pulse bg-gray-100 dark:bg-gray-800 rounded-lg h-48"},e))}):(0,s.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.length>0?e.map(e=>(0,s.jsx)(p.A,{vendaFinal:e,onEdit:()=>T(e),onDelete:()=>D(e.id),onSend:()=>G(e.id)},e.id)):(0,s.jsx)("div",{className:"col-span-full text-center py-12",children:(0,s.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhuma fatura pendente encontrada"})})}),N>1&&(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsx)("div",{className:"flex justify-end mb-4 gap-2 flex-wrap",children:(0,s.jsx)(x.A,{currentPage:w,totalPages:N,onPageChange:j})})}),(0,s.jsx)(i.a,{isOpen:C,onClose:()=>{q(!1),k(null)},className:"max-w-[800px] m-4",children:(0,s.jsxs)("div",{className:"no-scrollbar relative w-full overflow-y-auto rounded-3xl bg-white p-4 dark:bg-gray-900 lg:p-11",children:[(0,s.jsx)("div",{className:"px-2 pr-14",children:(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Editar Fatura"})}),(0,s.jsx)(m.A,{vendaFinal:A,vendaId:A?.vendaId||0,onSubmit:M,onCancel:()=>{q(!1),k(null)}})]})})]})}[c,u,m]=v.then?(await v)():v,t()}catch(e){t(e)}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},23407:(e,a,r)=>{"use strict";r.r(a),r.d(a,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var t=r(65239),s=r(48088),n=r(88170),o=r.n(n),i=r(30893),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(a,l);let d={children:["",{children:["(dashboard)",{children:["dashboard",{children:["empresa",{children:["financeiro",{children:["contas-a-receber",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,24678)),"C:\\Users\\oKRATOS\\Desktop\\cobpanel\\frontend\\src\\app\\(dashboard)\\dashboard\\empresa\\financeiro\\contas-a-receber\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,7720)),"C:\\Users\\oKRATOS\\Desktop\\cobpanel\\frontend\\src\\app\\(dashboard)\\dashboard\\empresa\\layout.tsx"]}]},{}]},{forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e),async e=>(await Promise.resolve().then(r.bind(r,51520))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"C:\\Users\\oKRATOS\\Desktop\\cobpanel\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,54413)),"C:\\Users\\oKRATOS\\Desktop\\cobpanel\\frontend\\src\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e),async e=>(await Promise.resolve().then(r.bind(r,51520))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\oKRATOS\\Desktop\\cobpanel\\frontend\\src\\app\\(dashboard)\\dashboard\\empresa\\financeiro\\contas-a-receber\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/(dashboard)/dashboard/empresa/financeiro/contas-a-receber/page",pathname:"/dashboard/empresa/financeiro/contas-a-receber",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},24678:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>t});let t=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\oKRATOS\\\\Desktop\\\\cobpanel\\\\frontend\\\\src\\\\app\\\\(dashboard)\\\\dashboard\\\\empresa\\\\financeiro\\\\contas-a-receber\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\oKRATOS\\Desktop\\cobpanel\\frontend\\src\\app\\(dashboard)\\dashboard\\empresa\\financeiro\\contas-a-receber\\page.tsx","default")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},41349:(e,a,r)=>{Promise.resolve().then(r.bind(r,24678))},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},77797:(e,a,r)=>{Promise.resolve().then(r.bind(r,17188))},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},79748:e=>{"use strict";e.exports=require("fs/promises")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var a=require("../../../../../../webpack-runtime.js");a.C(e);var r=e=>a(a.s=e),t=a.X(0,[4447,5397,2574,8894,2348,3021,16,1432,8066,7805,4865],()=>r(23407));module.exports=t})();
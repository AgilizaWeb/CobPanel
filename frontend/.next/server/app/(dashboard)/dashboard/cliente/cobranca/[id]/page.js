(()=>{var e={};e.id=7742,e.ids=[7742],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},43751:(e,t,r)=>{Promise.resolve().then(r.bind(r,58902))},45855:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\oKRATOS\\\\Desktop\\\\cobpanel\\\\frontend\\\\src\\\\app\\\\(dashboard)\\\\dashboard\\\\cliente\\\\cobranca\\\\[id]\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\oKRATOS\\Desktop\\cobpanel\\frontend\\src\\app\\(dashboard)\\dashboard\\cliente\\cobranca\\[id]\\page.tsx","default")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},58902:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>b});var s=r(60687),d=r(43210),l=r(87979),i=r(16189),n=r(51872),o=r(29908),c=r(17114),x=r(10934),m=r(71060),h=r(92852),g=r(71265),p=r(37590),u=e([l,c,x]);function b(){let e;let{user:t}=(0,l.A)(),r=(0,i.useRouter)(),a=(0,i.useParams)(),[u,b]=(0,d.useState)(null),[y,j]=(0,d.useState)([]),[v,N]=(0,d.useState)(!0),[f,k]=(0,d.useState)(!1),[w,P]=(0,d.useState)(""),[C,A]=(0,d.useState)(""),E=(0,d.useCallback)(async()=>{if(a.id)try{N(!0);let e=parseInt(a.id),t=await c.K.getById(e);b(t.data);let r=(await c.O.list({vendaId:e,limit:100})).data;j(r),console.log("Vendas finais:",r)}catch(e){console.error("Erro ao carregar venda:",e),p.Ay.error("Erro ao carregar dados da venda")}finally{N(!1)}},[a.id]),D=(e,t)=>{P(e),A(t||""),k(!0)},q=async()=>{await E()},R=e=>new Date(e).toLocaleDateString("pt-BR");return v?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):u?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("button",{onClick:()=>r.back(),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors","aria-label":"Voltar",children:(0,s.jsx)(n.YJ,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["Cobran\xe7a #",u.id]}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Detalhes da cobran\xe7a"})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(g.M,{}),(e=>{switch(e){case"PAGO":case"APPROVED":return(0,s.jsx)(n.C1,{className:"w-5 h-5 text-green-500"});case"PENDENTE":case"PENDING":return(0,s.jsx)(n.b1,{className:"w-5 h-5 text-yellow-500"});case"CANCELLED":return(0,s.jsx)(n._0,{className:"w-5 h-5 text-red-500"});default:return(0,s.jsx)(n.b1,{className:"w-5 h-5 text-gray-500"})}})(u.status),(0,s.jsx)("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${(e=>{switch(e){case"PAGO":case"APPROVED":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"PENDENTE":case"PENDING":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"CANCELLED":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}})(u.status)}`,children:u.status})]})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Informa\xe7\xf5es da Cobran\xe7a"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Valor:"}),(0,s.jsx)("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:(0,o.vv)(u.valor)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Valor Total:"}),(0,s.jsx)("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:(0,o.vv)(u.valorTotal)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Data de In\xedcio:"}),(0,s.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:R(u.inicio)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Data de Fim:"}),(0,s.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:R(u.fim)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Recorr\xeancia:"}),(0,s.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:u.quantidadeRecorrencia>0?`${u.quantidadeRecorrencia+1} parcelas`:"\xc0 vista"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Criada em:"}),(0,s.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:(e=u.createdAt,new Date(e).toLocaleString("pt-BR"))})]})]})]}),u.produtos&&u.produtos.length>0&&(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Produtos"}),(0,s.jsx)("div",{className:"space-y-3",children:u.produtos.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:e.produto.nome}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Quantidade: ",e.quantidade]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:(0,o.vv)(e.valorTotal)}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,o.vv)(e.valorUnitario)," cada"]})]})]},e.id))})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["Faturas (",y.length,")"]}),0===y.length?(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-center py-4",children:"Nenhuma fatura encontrada para esta cobran\xe7a."}):(0,s.jsx)("div",{className:"space-y-4",children:y.map(e=>(0,s.jsx)(x.A,{vendaFinal:e,onShowQRCode:D,onGenerateSuccess:q},e.id))})]})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(m.A,{vendasFinais:y,valorTotal:u.valorTotal}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Vendedor"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:u.vendedor?.nome||"N/A"}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["ID: ",u.vendedor?.id||"N/A"]})]})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Empresa"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:u.empresa?.nome||"N/A"}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["ID: ",u.empresa?.id||"N/A"]})]})]})]})]}),(0,s.jsx)(h.A,{isOpen:f,onClose:()=>k(!1),pixCode:w,qrCode:C||""})]}):(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(n._0,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Venda n\xe3o encontrada"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"A venda solicitada n\xe3o foi encontrada ou voc\xea n\xe3o tem permiss\xe3o para visualiz\xe1-la."}),(0,s.jsx)("button",{onClick:()=>r.push("/dashboard/cliente/cobrancas"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Voltar para Cobran\xe7as"})]})}[l,c,x]=u.then?(await u)():u,a()}catch(e){a(e)}})},60623:(e,t,r)=>{Promise.resolve().then(r.bind(r,45855))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},71060:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var a=r(60687);r(43210);var s=r(29908),d=r(51872);let l=({vendasFinais:e,valorTotal:t})=>{let r=e.length,l=e.filter(e=>"APPROVED"===e.status).length,i=e.filter(e=>"PENDING"===e.status).length,n=e.filter(e=>"CANCELLED"===e.status).length,o=e.filter(e=>"APPROVED"===e.status).reduce((e,t)=>e+parseFloat(t.valor.toString()),0),c=e.filter(e=>"PENDING"===e.status).reduce((e,t)=>e+parseFloat(t.valor.toString()),0),x=e.filter(e=>"CANCELLED"===e.status).reduce((e,t)=>e+parseFloat(t.valor.toString()),0);return(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Resumo das Faturas"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total de Parcelas"}),(0,a.jsx)("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:r})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Valor por Parcela"}),(0,a.jsx)("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:(0,s.vv)(r>0?t/r:0)})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(d.C1,{className:"w-6 h-6 text-green-500"}),(0,a.jsx)("span",{className:"text-sm font-medium text-green-800 dark:text-green-300",children:"Parcelas Pagas"})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-lg font-bold text-green-800 dark:text-green-300",children:l}),(0,a.jsx)("p",{className:"text-sm text-green-600 dark:text-green-400",children:(0,s.vv)(o)})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(d.b1,{className:"w-6 h-6 text-yellow-500"}),(0,a.jsx)("span",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-300",children:"Parcelas Pendentes"})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-lg font-bold text-yellow-800 dark:text-yellow-300",children:i}),(0,a.jsx)("p",{className:"text-sm text-yellow-600 dark:text-yellow-400",children:(0,s.vv)(c)})]})]}),n>0&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(d._0,{className:"w-6 h-6 text-red-500"}),(0,a.jsx)("span",{className:"text-sm font-medium text-red-800 dark:text-red-300",children:"Parcelas Canceladas"})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-lg font-bold text-red-800 dark:text-red-300",children:n}),(0,a.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:(0,s.vv)(x)})]})]})]}),(0,a.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Valor Total"}),(0,a.jsx)("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:(0,s.vv)(t)})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Progresso"}),(0,a.jsxs)("div",{className:"mt-1",children:[(0,a.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:r>0?`${Math.round(l/r*100)}%`:"0%"}})}),(0,a.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:[r>0?Math.round(l/r*100):0,"% conclu\xeddo"]})]})]})]})})]})]})}},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},79748:e=>{"use strict";e.exports=require("fs/promises")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},94735:e=>{"use strict";e.exports=require("events")},97271:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>o});var a=r(65239),s=r(48088),d=r(88170),l=r.n(d),i=r(30893),n={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);r.d(t,n);let o={children:["",{children:["(dashboard)",{children:["dashboard",{children:["cliente",{children:["cobranca",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,45855)),"C:\\Users\\oKRATOS\\Desktop\\cobpanel\\frontend\\src\\app\\(dashboard)\\dashboard\\cliente\\cobranca\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,69765)),"C:\\Users\\oKRATOS\\Desktop\\cobpanel\\frontend\\src\\app\\(dashboard)\\dashboard\\cliente\\layout.tsx"]}]},{}]},{forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e),async e=>(await Promise.resolve().then(r.bind(r,51520))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"C:\\Users\\oKRATOS\\Desktop\\cobpanel\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,54413)),"C:\\Users\\oKRATOS\\Desktop\\cobpanel\\frontend\\src\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e),async e=>(await Promise.resolve().then(r.bind(r,51520))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\oKRATOS\\Desktop\\cobpanel\\frontend\\src\\app\\(dashboard)\\dashboard\\cliente\\cobranca\\[id]\\page.tsx"],x={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/(dashboard)/dashboard/cliente/cobranca/[id]/page",pathname:"/dashboard/cliente/cobranca/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})}};var t=require("../../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[4447,5397,2574,16,1432,9353],()=>r(97271));module.exports=a})();
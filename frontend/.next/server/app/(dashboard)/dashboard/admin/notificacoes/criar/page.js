(()=>{var e={};e.id=5941,e.ids=[5941],e.modules={3050:(e,r,a)=>{"use strict";a.a(e,async(e,t)=>{try{a.r(r),a.d(r,{default:()=>c});var s=a(60687),o=a(76634),i=a(61414),n=a(70881),d=a(26208);a(43210);var l=e([i,n]);function c({children:e}){let{isExpanded:r,isHovered:a,isMobileOpen:t}=(0,o.c)();return(0,s.jsxs)("div",{className:"min-h-screen xl:flex",children:[(0,s.jsx)(n.A,{}),(0,s.jsx)(d.A,{}),(0,s.jsxs)("div",{className:`flex-1 transition-all duration-300 ease-in-out ${t?"ml-0":r||a?"lg:ml-[290px]":"lg:ml-[90px]"}`,children:[(0,s.jsx)(i.A,{}),(0,s.jsx)("div",{className:"p-4 mx-auto max-w-(--breakpoint-2xl) md:p-6",children:e})]})]})}[i,n]=l.then?(await l)():l,t()}catch(e){t(e)}})},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},12812:(e,r,a)=>{Promise.resolve().then(a.bind(a,28665))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},28665:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>t});let t=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\oKRATOS\\\\Desktop\\\\cobpanel\\\\frontend\\\\src\\\\app\\\\(dashboard)\\\\dashboard\\\\admin\\\\notificacoes\\\\criar\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\oKRATOS\\Desktop\\cobpanel\\frontend\\src\\app\\(dashboard)\\dashboard\\admin\\notificacoes\\criar\\page.tsx","default")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},44493:(e,r,a)=>{"use strict";a.d(r,{Z:()=>s});var t=a(60687);a(43210);let s=({children:e,className:r=""})=>(0,t.jsx)("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 ${r}`,children:e})},47267:(e,r,a)=>{Promise.resolve().then(a.bind(a,3050))},54456:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>t});let t=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\oKRATOS\\\\Desktop\\\\cobpanel\\\\frontend\\\\src\\\\app\\\\(dashboard)\\\\dashboard\\\\admin\\\\layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\oKRATOS\\Desktop\\cobpanel\\frontend\\src\\app\\(dashboard)\\dashboard\\admin\\layout.tsx","default")},55324:(e,r,a)=>{"use strict";a.d(r,{A:()=>s});var t=a(60687);a(43210);let s=({type:e="text",id:r,name:a,placeholder:s,defaultValue:o,onChange:i,min:n,max:d,step:l,disabled:c=!1,success:u=!1,error:p=!1,hint:m,value:x,required:b,className:h="",...f})=>{let g=`h-11 w-full rounded-lg border px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:outline-hidden focus:ring-3 ${h}`;if("date"!==e&&(g+=" appearance-none"),c)g+=" text-gray-500 border-gray-300 cursor-not-allowed dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700";else if(p){if(g+=" text-error-800 border-error-500 focus:ring-3 focus:ring-error-500/10  dark:text-error-400 dark:border-error-500","string"==typeof p)return(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{...f,type:e,id:r,name:a,placeholder:s,defaultValue:o,onChange:i,className:g,min:n,max:d,step:l,disabled:c,value:x,required:b}),(0,t.jsx)("p",{className:"mt-1 text-xs text-error-500",children:p})]})}else u?g+=" text-success-500 border-success-400 focus:ring-success-500/10 focus:border-success-300  dark:text-success-400 dark:border-success-500":g+=" bg-transparent text-gray-800 border-gray-300 focus:border-brand-300 focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:focus:border-brand-800";return(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{...f,type:e,id:r,name:a,placeholder:s,value:x,defaultValue:o,onChange:i,min:n,max:d,required:b,step:l,disabled:c,className:g}),m&&(0,t.jsx)("p",{className:`mt-1.5 text-xs ${p?"text-error-500":u?"text-success-500":"text-gray-500"}`,children:m})]})}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},70695:(e,r,a)=>{"use strict";a.d(r,{A:()=>i});var t=a(60687);a(43210);var s=a(3021),o=a(29255);function i({error:e,className:r="",...a}){let{isDark:i}=(0,o.D)();return(0,t.jsxs)("div",{className:r,children:[(0,t.jsx)(s.Ay,{...a,styles:{control:(r,a)=>({...r,backgroundColor:i?"#1F2937":"#fff",borderColor:e?"#EF4444":a.isFocused?"#3B82F6":i?"#374151":"#D1D5DB",borderRadius:"0.375rem",boxShadow:a.isFocused?"0 0 0 2px rgba(59, 130, 246, 0.5)":"none","&:hover":{borderColor:a.isFocused?"#3B82F6":i?"#4B5563":"#9CA3AF"},minHeight:"2.5rem"}),menu:e=>({...e,backgroundColor:i?"#1F2937":"#fff",borderColor:i?"#374151":"#D1D5DB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(e,r)=>({...e,backgroundColor:r.isSelected?i?"#3B82F6":"#2563EB":r.isFocused?i?"#374151":"#F3F4F6":"transparent",color:r.isSelected?"#fff":i?"#D1D5DB":"#111827",cursor:"pointer","&:active":{backgroundColor:i?"#2563EB":"#3B82F6"}}),singleValue:e=>({...e,color:i?"#D1D5DB":"#111827"}),input:e=>({...e,color:i?"#D1D5DB":"#111827"}),placeholder:e=>({...e,color:i?"#6B7280":"#9CA3AF"}),indicatorSeparator:e=>({...e,backgroundColor:i?"#374151":"#D1D5DB"}),dropdownIndicator:e=>({...e,color:i?"#6B7280":"#9CA3AF","&:hover":{color:i?"#D1D5DB":"#4B5563"}}),clearIndicator:e=>({...e,color:i?"#6B7280":"#9CA3AF","&:hover":{color:i?"#D1D5DB":"#4B5563"}})},classNamePrefix:"react-select",className:e?"react-select-error":""}),e&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-500",children:e})]})}},71243:(e,r,a)=>{Promise.resolve().then(a.bind(a,54456))},74075:e=>{"use strict";e.exports=require("zlib")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},79748:e=>{"use strict";e.exports=require("fs/promises")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},90113:(e,r,a)=>{"use strict";a.r(r),a.d(r,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l});var t=a(65239),s=a(48088),o=a(88170),i=a.n(o),n=a(30893),d={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);a.d(r,d);let l={children:["",{children:["(dashboard)",{children:["dashboard",{children:["admin",{children:["notificacoes",{children:["criar",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,28665)),"C:\\Users\\oKRATOS\\Desktop\\cobpanel\\frontend\\src\\app\\(dashboard)\\dashboard\\admin\\notificacoes\\criar\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,54456)),"C:\\Users\\oKRATOS\\Desktop\\cobpanel\\frontend\\src\\app\\(dashboard)\\dashboard\\admin\\layout.tsx"]}]},{}]},{forbidden:[()=>Promise.resolve().then(a.t.bind(a,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,70440))).default(e),async e=>(await Promise.resolve().then(a.bind(a,51520))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,94431)),"C:\\Users\\oKRATOS\\Desktop\\cobpanel\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,54413)),"C:\\Users\\oKRATOS\\Desktop\\cobpanel\\frontend\\src\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,70440))).default(e),async e=>(await Promise.resolve().then(a.bind(a,51520))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\oKRATOS\\Desktop\\cobpanel\\frontend\\src\\app\\(dashboard)\\dashboard\\admin\\notificacoes\\criar\\page.tsx"],u={require:a,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/(dashboard)/dashboard/admin/notificacoes/criar/page",pathname:"/dashboard/admin/notificacoes/criar",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},96591:(e,r,a)=>{"use strict";a.a(e,async(e,t)=>{try{a.r(r),a.d(r,{default:()=>x});var s=a(60687),o=a(43210),i=a(16189),n=a(44493),d=a(55324),l=a(94676),c=a(70695),u=a(68957),p=a(37590),m=e([u]);function x(){let e=(0,i.useRouter)(),[r,a]=(0,o.useState)(!1),[t,m]=(0,o.useState)(!0),[x,b]=(0,o.useState)(!0),[h,f]=(0,o.useState)([]),[g,v]=(0,o.useState)([]),[y,k]=(0,o.useState)({titulo:"",mensagem:"",tipo:"MANUAL",empresaId:void 0,userId:void 0,actionLink:"",actionLabel:""}),A=(0,o.useMemo)(()=>h.map(e=>({value:String(e.id),label:e.nome})),[h]),j=(0,o.useMemo)(()=>{let e=g;return y.empresaId&&(e=g.filter(e=>e.empresaId===y.empresaId)),e.map(e=>({value:String(e.id),label:`${e.nome} (${e.email}) - ${e.role}`}))},[g,y.empresaId]),C=[{value:"MANUAL",label:"Manual"},{value:"VENCIMENTO_EMPRESA",label:"Vencimento de Empresa"},{value:"PLANO_PAGO",label:"Plano Pago"},{value:"COBRANCA_GERADA",label:"Cobran\xe7a Gerada"},{value:"FATURA_PAGA",label:"Fatura Paga"},{value:"PARCELA_PAGA",label:"Parcela Paga"}],N=e=>{let{name:r,value:a}=e.target;k(e=>({...e,[r]:a}))},D=e=>r=>{k(a=>{let t={...a};return"empresaId"===e?(t.empresaId=r?Number(r.value):void 0,a.empresaId!==t.empresaId&&(t.userId=void 0)):"userId"===e?t.userId=r?Number(r.value):void 0:"tipo"===e&&(t.tipo=r?.value),t})},S=async r=>{if(r.preventDefault(),!y.titulo.trim()){p.Ay.error("T\xedtulo \xe9 obrigat\xf3rio");return}if(!y.mensagem.trim()){p.Ay.error("Mensagem \xe9 obrigat\xf3ria");return}if(!y.empresaId&&!y.userId){p.Ay.error("Selecione uma empresa ou um usu\xe1rio");return}try{a(!0);let r={titulo:y.titulo.trim(),mensagem:y.mensagem.trim(),tipo:y.tipo,empresaId:y.empresaId||void 0,userId:y.userId||void 0,actionLink:y.actionLink?.trim()||void 0,actionLabel:y.actionLabel?.trim()||void 0};await u.$p.notificacao.create(r),p.Ay.success("Notifica\xe7\xe3o criada com sucesso!"),e.push("/dashboard/admin")}catch(e){console.error("Erro ao criar notifica\xe7\xe3o:",e),p.Ay.error(e?.response?.data?.error||"Erro ao criar notifica\xe7\xe3o")}finally{a(!1)}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"flex justify-between items-center",children:(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Criar Notifica\xe7\xe3o"})}),(0,s.jsx)(n.Z,{className:"p-6",children:(0,s.jsxs)("form",{onSubmit:S,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"titulo",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["T\xedtulo ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)(d.A,{id:"titulo",name:"titulo",type:"text",value:y.titulo,onChange:N,placeholder:"Digite o t\xedtulo da notifica\xe7\xe3o",required:!0,"aria-label":"T\xedtulo da notifica\xe7\xe3o"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"mensagem",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Mensagem ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("textarea",{id:"mensagem",name:"mensagem",value:y.mensagem,onChange:N,placeholder:"Digite a mensagem da notifica\xe7\xe3o",required:!0,rows:5,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:border-gray-700 dark:text-white","aria-label":"Mensagem da notifica\xe7\xe3o"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"tipo",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Tipo de Notifica\xe7\xe3o ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)(c.A,{id:"tipo",options:C,value:C.find(e=>e.value===y.tipo)||null,onChange:D("tipo"),placeholder:"Selecione o tipo",isClearable:!1,"aria-label":"Tipo de notifica\xe7\xe3o"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"empresaId",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Empresa",(0,s.jsx)("span",{className:"text-xs text-gray-500 ml-2",children:"(Se selecionada, notificar\xe1 todos os usu\xe1rios ADMIN, GESTOR e VENDEDOR da empresa)"})]}),(0,s.jsx)(c.A,{id:"empresaId",options:A,value:y.empresaId&&A.find(e=>e.value===String(y.empresaId))||null,onChange:D("empresaId"),placeholder:t?"Carregando empresas...":"Selecione uma empresa (opcional)",isClearable:!0,isSearchable:!0,isLoading:t,"aria-label":"Selecionar empresa"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"userId",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Usu\xe1rio Espec\xedfico",(0,s.jsx)("span",{className:"text-xs text-gray-500 ml-2",children:"(Se selecionado, notificar\xe1 apenas este usu\xe1rio. Se empresa tamb\xe9m selecionada, filtra usu\xe1rios da empresa)"})]}),(0,s.jsx)(c.A,{id:"userId",options:j,value:y.userId&&j.find(e=>e.value===String(y.userId))||null,onChange:D("userId"),placeholder:x?"Carregando usu\xe1rios...":"Selecione um usu\xe1rio (opcional)",isClearable:!0,isSearchable:!0,isLoading:x,"aria-label":"Selecionar usu\xe1rio"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"actionLink",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Link de A\xe7\xe3o (opcional)"}),(0,s.jsx)(d.A,{id:"actionLink",name:"actionLink",type:"url",value:y.actionLink||"",onChange:N,placeholder:"Ex: /dashboard/empresa/planos/atual","aria-label":"Link de a\xe7\xe3o da notifica\xe7\xe3o"}),(0,s.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"URL para onde o usu\xe1rio ser\xe1 redirecionado ao clicar na notifica\xe7\xe3o"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"actionLabel",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"R\xf3tulo do Bot\xe3o de A\xe7\xe3o (opcional)"}),(0,s.jsx)(d.A,{id:"actionLabel",name:"actionLabel",type:"text",value:y.actionLabel||"",onChange:N,placeholder:"Ex: Ver Plano Atual","aria-label":"R\xf3tulo do bot\xe3o de a\xe7\xe3o"}),(0,s.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Texto que aparecer\xe1 no bot\xe3o de a\xe7\xe3o da notifica\xe7\xe3o"})]}),(0,s.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,s.jsx)(l.A,{type:"submit",variant:"primary",disabled:r,children:r?"Criando...":"Criar Notifica\xe7\xe3o"}),(0,s.jsx)(l.A,{type:"button",variant:"outline",onClick:()=>e.back(),disabled:r,children:"Cancelar"})]})]})})]})}u=(m.then?(await m)():m)[0],t()}catch(e){t(e)}})},99660:(e,r,a)=>{Promise.resolve().then(a.bind(a,96591))}};var r=require("../../../../../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),t=r.X(0,[4447,5397,2574,8894,3021,16,1432,8066],()=>a(90113));module.exports=t})();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,58700,e=>{"use strict";var a=e.i(43476);let r=e=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:(0,a.jsx)("polyline",{points:"15 18 9 12 15 6"})}),t=e=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:(0,a.jsx)("polyline",{points:"9 18 15 12 9 6"})});var s=e.i(59544);e.s(["default",0,({currentPage:e,totalPages:l,onPageChange:i})=>(0,a.jsxs)("nav",{className:"flex justify-center items-center space-x-2",children:[(0,a.jsx)(s.default,{variant:"secondary",size:"sm",onClick:()=>i(e-1),disabled:1===e,children:(0,a.jsx)(r,{className:"h-5 w-5"})}),(()=>{let r=[],t=Math.max(1,e-2),d=Math.min(l,e+2);t>1&&(r.push((0,a.jsx)(s.default,{variant:1===e?"primary":"secondary",size:"sm",onClick:()=>i(1),className:"hidden sm:block",children:"1"},1)),t>2&&r.push((0,a.jsx)("span",{className:"px-2 py-2 text-gray-500 dark:text-gray-400",children:"..."},"start-ellipsis")));for(let l=t;l<=d;l++)r.push((0,a.jsx)(s.default,{variant:e===l?"primary":"secondary",size:"sm",onClick:()=>i(l),children:l},l));return d<l&&(d<l-1&&r.push((0,a.jsx)("span",{className:"px-2 py-2 text-gray-500 dark:text-gray-400",children:"..."},"end-ellipsis")),r.push((0,a.jsx)(s.default,{variant:e===l?"primary":"secondary",size:"sm",onClick:()=>i(l),className:"hidden sm:block",children:l},l))),r})(),(0,a.jsx)(s.default,{variant:"secondary",size:"sm",onClick:()=>i(e+1),disabled:e===l,children:(0,a.jsx)(t,{className:"h-5 w-5"})})]})],58700)},89504,e=>{"use strict";var a=e.i(43476);e.s(["default",0,({type:e="text",id:r,name:t,placeholder:s,defaultValue:l,onChange:i,min:d,max:c,step:n,disabled:o=!1,success:x=!1,error:g=!1,hint:u,value:p,required:m,className:y="",...h})=>{let b=`h-11 w-full rounded-lg border px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:outline-hidden focus:ring-3 ${y}`;if("date"!==e&&(b+=" appearance-none"),o)b+=" text-gray-500 border-gray-300 cursor-not-allowed dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700";else if(g){if(b+=" text-error-800 border-error-500 focus:ring-3 focus:ring-error-500/10  dark:text-error-400 dark:border-error-500","string"==typeof g)return(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{...h,type:e,id:r,name:t,placeholder:s,defaultValue:l,onChange:i,className:b,min:d,max:c,step:n,disabled:o,value:p,required:m}),(0,a.jsx)("p",{className:"mt-1 text-xs text-error-500",children:g})]})}else x?b+=" text-success-500 border-success-400 focus:ring-success-500/10 focus:border-success-300  dark:text-success-400 dark:border-success-500":b+=" bg-transparent text-gray-800 border-gray-300 focus:border-brand-300 focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:focus:border-brand-800";return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{...h,type:e,id:r,name:t,placeholder:s,value:p,defaultValue:l,onChange:i,min:d,max:c,required:m,step:n,disabled:o,className:b}),u&&(0,a.jsx)("p",{className:`mt-1.5 text-xs ${g?"text-error-500":x?"text-success-500":"text-gray-500"}`,children:u})]})}])},59544,e=>{"use strict";var a=e.i(43476);e.s(["default",0,({variant:e="primary",size:r="md",loading:t=!1,fullWidth:s=!1,className:l="",children:i,disabled:d,...c})=>{let n=["inline-flex items-center justify-center font-medium transition-colors rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",{success:"bg-green-500 text-white hover:bg-green-600 focus:ring-green-500",primary:"bg-brand-500 text-white hover:bg-brand-600 focus:ring-brand-500 disabled:bg-brand-300",secondary:"bg-gray-100 text-gray-700 hover:bg-gray-200 focus:ring-gray-500 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600",danger:"bg-error-500 text-white hover:bg-error-600 focus:ring-error-500"}[e],{xs:"px-2 py-1 text-xs",sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-base"}[r],s?"w-full":"",d||t?"opacity-50 cursor-not-allowed":"",l].join(" ");return(0,a.jsxs)("button",{className:n,disabled:d||t,...c,children:[t&&(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),i]})}])},38853,e=>{"use strict";var a=e.i(33502);e.s(["EditIcon",()=>a.default])},90418,e=>{"use strict";var a=e.i(60466);e.s(["EyeIcon",()=>a.default])},25511,e=>{"use strict";var a=e.i(71645);let r=a.forwardRef(function({title:e,titleId:r,...t},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},t),e?a.createElement("title",{id:r},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))});e.s(["PlayIcon",0,r],25511)},35665,e=>{"use strict";var a=e.i(81783);e.s(["QrcodeIcon",()=>a.default])},50890,e=>{"use strict";var a=e.i(43476);e.i(35829);var r=e.i(38853),t=e.i(56770),s=e.i(90418),l=e.i(73648),l=l,i=e.i(57129),i=i,d=e.i(35665),c=e.i(59544),n=e.i(25511);e.s(["default",0,({size:e="md",variant:o="primary",onClick:x,className:g="",disabled:u=!1,type:p="button",title:m="Editar",icon:y="edit"})=>{let h=`${"edit"===y||"eye"===y||"reload"===y||"stop"===y||"qrcode"===y?"text-gray-400 hover:text-brand-500 dark:hover:text-brand-400":"text-red-500 dark:text-red-400"} rounded-md flex items-center justify-center transition-colors`;return(0,a.jsx)(c.default,{variant:o,size:e,onClick:()=>x&&x(),className:`${h} ${g}`,title:m,type:p,disabled:u,children:y&&(0,a.jsx)("span",{className:"flex items-center",children:"edit"===y?(0,a.jsx)(r.EditIcon,{className:"w-5 h-5 inline-block"}):"eye"===y?(0,a.jsx)(s.EyeIcon,{className:"w-5 h-5 inline-block"}):"reload"===y?(0,a.jsx)(l.default,{className:"w-5 h-5 inline-block"}):"stop"===y?(0,a.jsx)(i.default,{className:"w-5 h-5 inline-block"}):"qrcode"===y?(0,a.jsx)(d.QrcodeIcon,{className:"w-5 h-5 inline-block"}):"play"===y?(0,a.jsx)(n.PlayIcon,{className:"w-5 h-5 inline-block text-green-500"}):(0,a.jsx)(t.TrashBinIcon,{className:"w-5 h-5 inline-block"})})})}],50890)},64255,e=>{"use strict";var a=e.i(43476);e.s(["default",0,({variant:e="light",color:r="primary",size:t="md",startIcon:s,className:l,endIcon:i,children:d})=>{let c={light:{primary:"bg-brand-50 text-brand-500 dark:bg-brand-500/15 dark:text-brand-400",success:"bg-success-50 text-success-600 dark:bg-success-500/15 dark:text-success-500",error:"bg-error-50 text-error-600 dark:bg-error-500/15 dark:text-error-500",warning:"bg-warning-50 text-warning-600 dark:bg-warning-500/15 dark:text-orange-400",info:"bg-blue-light-50 text-blue-light-500 dark:bg-blue-light-500/15 dark:text-blue-light-500",light:"bg-gray-100 text-gray-700 dark:bg-white/5 dark:text-white/80",dark:"bg-gray-500 text-white dark:bg-white/5 dark:text-white"},solid:{primary:"bg-brand-500 text-white dark:text-white",success:"bg-success-500 text-white dark:text-white",error:"bg-error-500 text-white dark:text-white",warning:"bg-warning-500 text-white dark:text-white",info:"bg-blue-light-500 text-white dark:text-white",light:"bg-gray-400 dark:bg-white/5 text-white dark:text-white/80",dark:"bg-gray-700 text-white dark:text-white"}}[e][r];return(0,a.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 justify-center gap-1 rounded-full font-medium ${{sm:"text-theme-xs",md:"text-sm"}[t]} ${c} ${l}`,children:[s&&(0,a.jsx)("span",{className:"mr-1",children:s}),d,i&&(0,a.jsx)("span",{className:"ml-1",children:i})]})}])},34495,e=>e.a(async(a,r)=>{try{var t=e.i(43476),s=e.i(71645),l=e.i(5766),i=e.i(64255),d=e.i(50890),c=e.i(76318),n=e.i(20403),o=a([c,n]);[c,n]=o.then?(await o)():o;let x={MERCADO_PAGO:{label:"Mercado Pago",color:"primary"},OMIE:{label:"Omie",color:"warning"},ASAAS:{label:"Asaas",color:"success"},CORA:{label:"Cora",color:"info"},EFIPAY:{label:"EFI Pay",color:"warning"}},g={MERCADO_PAGO:{access_token:{label:"Access Token",type:"password",required:!0}},OMIE:{app_key:{label:"App Key",type:"text",required:!0},app_secret:{label:"App Secret",type:"password",required:!0},conta_corrente_id:{label:"Conta Corrente ID",type:"text",required:!0}},ASAAS:{api_key:{label:"API Key",type:"password",required:!0}},CORA:{client_id:{label:"Client ID",type:"text",required:!0},cert_pem:{label:"Certificado (.pem)",type:"file",accept:".pem",required:!0},cert_key:{label:"Private Key (.key)",type:"file",accept:".key",required:!0}},EFIPAY:{client_id:{label:"Client ID",type:"text",required:!0},client_secret:{label:"Client Secret",type:"password",required:!0},chave_pix:{label:"Chave PIX",type:"text",required:!0},cert_p12:{label:"Certificado (.p12)",type:"file",accept:".p12",required:!0}}},u=["token","secret","key","access_token","app_secret","api_key","client_secret","id","pem"];e.s(["default",0,({gateway:e,onEdit:a,onDelete:r})=>{let[c,o]=(0,s.useState)(!1),[p,m]=(0,s.useState)({}),y=n.api.defaults.baseURL||window.location.origin+"/api/v1",h=`${y}/webhook/gateways/${e.gateway.toLowerCase()}`,b=x[e.gateway],f=g[e.gateway],w=Object.entries(e.dados||{}).filter(([e])=>f[e]),j=c?w:w.slice(0,4),k=async e=>{try{await navigator.clipboard.writeText(String(e)),l.toast.success("Copiado para a área de transferência")}catch(e){l.toast.error("Não foi possível copiar")}};return(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm hover:shadow-md transition-shadow border border-gray-200 dark:border-gray-700 p-5 flex flex-col",children:[(0,t.jsxs)("div",{className:"flex justify-between gap-4 mb-4",children:[(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white truncate max-w-[220px]",title:e.nome||b?.label,children:e.nome||b?.label}),b&&(0,t.jsx)(i.default,{color:b.color,className:"uppercase tracking-wide text-[10px] font-semibold",children:b.label}),e.isDefault&&(0,t.jsx)(i.default,{color:"success",className:"text-[10px] font-semibold",children:"Padrão"})]}),e.descricao&&(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 line-clamp-2",title:e.descricao,children:e.descricao})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2 shrink-0",children:[(0,t.jsx)(d.default,{variant:"secondary",size:"xs",onClick:a,title:"Editar",icon:"edit"}),(0,t.jsx)(d.default,{variant:"secondary",size:"xs",onClick:r,title:"Excluir",icon:"delete"})]})]}),(0,t.jsxs)("div",{className:"space-y-3 flex-1",children:[(0,t.jsx)("h4",{className:"text-xs font-medium uppercase text-gray-500 dark:text-gray-400 tracking-wider",children:"Configurações"}),0===w.length&&(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Nenhuma configuração definida."}),(0,t.jsx)("ul",{className:"space-y-1",children:j.map(([e,a])=>{let r=u.some(a=>e.toLowerCase().includes(a)),s=p[e];return(0,t.jsx)("li",{className:"group border border-gray-100 dark:border-gray-700 rounded-lg px-2 py-1 bg-gray-50/60 dark:bg-gray-900/40 hover:bg-gray-100 dark:hover:bg-gray-900 transition-colors",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-[11px] uppercase tracking-wide text-gray-500 dark:text-gray-500 font-medium mb-0.5",children:e.replace(/_/g," ").replace(/([a-z])([A-Z])/g,"$1 $2").replace(/^./,e=>e.toUpperCase())}),(0,t.jsx)("div",{className:"text-sm font-mono break-all text-gray-800 dark:text-gray-200 select-text",children:r&&!s?(e=>{if(null==e)return"-";let a=String(e);return a.length<=8?"*".repeat(a.length):a.slice(0,4)+"••••"+a.slice(-4)})(a):String(a)})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[r&&(0,t.jsx)("button",{type:"button",onClick:()=>{m(a=>({...a,[e]:!a[e]}))},className:"text-[10px] px-2 py-1 rounded bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 font-medium",title:s?"Ocultar":"Revelar",children:s?"Ocultar":"Ver"}),(0,t.jsx)("button",{type:"button",onClick:()=>k(a),className:"text-[10px] px-2 py-1 rounded bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 font-medium",title:"Copiar valor",children:"Copiar"})]})]})},e)})}),w.length>4&&(0,t.jsx)("button",{type:"button",onClick:()=>o(e=>!e),className:"w-full mt-1 text-xs font-medium text-primary hover:underline",children:c?"Mostrar menos":`Mostrar todas (${w.length})`}),h&&(0,t.jsxs)("div",{className:"mt-4 border border-gray-100 dark:border-gray-700 rounded-lg p-3 bg-gray-50/60 dark:bg-gray-900/40",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("h5",{className:"text-[11px] uppercase tracking-wide text-gray-500 dark:text-gray-400 font-semibold m-0",children:"Webhook"}),(0,t.jsx)("span",{className:"inline-flex items-center justify-center w-4 h-4 text-[10px] rounded-full bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300 cursor-help",title:"Use esta URL no painel do gateway para receber notificações e atualizar automaticamente as faturas.",children:"i"})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)("code",{className:"text-[11px] font-mono break-all text-gray-700 dark:text-gray-200 flex-1 select-text",children:h}),(0,t.jsx)("button",{type:"button",onClick:()=>k(h),className:"shrink-0 text-[10px] px-2 py-1 rounded bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 font-medium",title:"Copiar URL",children:"Copiar"})]})]})]})]})}]),r()}catch(e){r(e)}},!1),89815,e=>{"use strict";var a=e.i(43476),r=e.i(71645),t=e.i(5766),s=e.i(89504),l=e.i(67073),i=e.i(59544),d=e.i(23115);let c=[{value:"MERCADO_PAGO",label:"Mercado Pago"},{value:"ASAAS",label:"Asaas"},{value:"CORA",label:"Cora"},{value:"EFIPAY",label:"EFI Pay"}],n={MERCADO_PAGO:{access_token:{label:"Access Token",type:"password",required:!0}},OMIE:{app_key:{label:"App Key",type:"text",required:!0},app_secret:{label:"App Secret",type:"password",required:!0},conta_corrente_id:{label:"Conta Corrente ID",type:"text",required:!0}},ASAAS:{api_key:{label:"API Key",type:"password",required:!0}},CORA:{client_id:{label:"Client ID",type:"text",required:!0},cert_pem:{label:"Certificado (.pem)",type:"file",accept:".pem",required:!0},cert_key:{label:"Private Key (.key)",type:"file",accept:".key",required:!0}},EFIPAY:{client_id:{label:"Client ID",type:"text",required:!0},client_secret:{label:"Client Secret",type:"password",required:!0},chave_pix:{label:"Chave PIX",type:"text",required:!0},cert_p12:{label:"Certificado (.p12)",type:"file",accept:".p12",required:!0}}};e.s(["default",0,({gateway:e,onSubmit:o,onCancel:x})=>{let[g,u]=(0,r.useState)({}),[p,m]=(0,r.useState)({gateway:e?.gateway||"MERCADO_PAGO",nome:e?.nome||"",descricao:e?.descricao||"",isDefault:e?.isDefault||!1,dados:e?.dados||{},empresaId:e?.empresaId}),[y,h]=(0,r.useState)({}),[b,f]=(0,r.useState)(!1),w=async e=>{let a,r,s;if(e.preventDefault(),a={},r=n[p.gateway],p.nome||(a.nome="Nome é obrigatório"),p.gateway||(a.gateway="Gateway é obrigatório"),s={},r&&Object.entries(r).forEach(([e,a])=>{a.required&&!p.dados[e]&&(s[e]=`${a.label} \xe9 obrigat\xf3rio`)}),Object.keys(s).length>0&&(a.dados=s),h(a),0===Object.keys(a).length){f(!0);try{let e=new FormData;e.append("gateway",p.gateway),e.append("nome",p.nome),e.append("descricao",p.descricao||""),e.append("isDefault",String(p.isDefault)),e.append("empresaId",String(p.empresaId||"")),Object.entries(p.dados).forEach(([a,r])=>{e.append(`dados[${a}]`,r)}),Object.entries(g).forEach(([a,r])=>{e.append(a,r)}),console.log("FormData::",e),await o(e)}catch(e){t.toast.error("Erro ao salvar gateway")}finally{f(!1)}}};return(0,a.jsxs)("form",{onSubmit:w,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(d.default,{htmlFor:"gateway",children:"Gateway"}),(0,a.jsx)(l.default,{id:"gateway",name:"gateway",value:c.find(e=>e.value===p.gateway),options:c,onChange:e=>{e&&m({...p,gateway:e.value,dados:{}})},error:y.gateway})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.default,{htmlFor:"nome",children:"Nome"}),(0,a.jsx)(s.default,{id:"nome",name:"nome",value:p.nome,onChange:e=>m({...p,nome:e.target.value}),error:y.nome})]}),(0,a.jsxs)("div",{className:"sm:col-span-2",children:[(0,a.jsx)(d.default,{htmlFor:"descricao",children:"Descrição"}),(0,a.jsx)("textarea",{title:"descricao",id:"descricao",name:"descricao",value:p.descricao,onChange:e=>m({...p,descricao:e.target.value}),className:"w-full rounded-lg border border-stroke bg-transparent px-4 py-3 outline-none focus:border-primary focus-visible:shadow-none dark:border-gray-600 dark:bg-gray-900 dark:focus:border-primary dark:text-white",rows:3})]}),(0,a.jsx)("div",{className:"sm:col-span-2",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{title:"Gateway padrão",type:"checkbox",id:"isDefault",checked:p.isDefault,onChange:e=>m({...p,isDefault:e.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),(0,a.jsx)(d.default,{htmlFor:"isDefault",children:"Gateway padrão"})]})}),p.gateway&&n[p.gateway]&&(0,a.jsxs)("div",{className:"sm:col-span-2",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Configurações do Gateway"}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:Object.entries(n[p.gateway]).map(([e,r])=>{let t=".zip";return"accept"in r&&(t=r.accept),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.default,{htmlFor:e,children:r.label}),"select"===r.type?(0,a.jsx)(l.default,{id:e,name:e,value:r.options?.find(a=>a.value===p.dados[e]),options:r.options||[],onChange:a=>{a&&m({...p,dados:{...p.dados,[e]:a.value}})},error:y.dados?.[e]}):"file"===r.type?(0,a.jsx)(s.default,{id:e,name:e,type:r.type,accept:t,onChange:async a=>{let r=a.target.files?.[0];r&&(m({...p,dados:{...p.dados,[e]:r.name}}),u(a=>({...a,[e]:r})))},error:y.dados?.[e]}):(0,a.jsx)(s.default,{id:e,name:e,type:r.type,value:p.dados[e]||"",onChange:a=>m({...p,dados:{...p.dados,[e]:a.target.value}}),error:y.dados?.[e]})]},e)})})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4 pt-4",children:[(0,a.jsx)(i.default,{variant:"secondary",onClick:x,disabled:b,children:"Cancelar"}),(0,a.jsx)(i.default,{variant:"primary",type:"submit",disabled:b,children:b?"Salvando...":e?"Atualizar":"Criar"})]})]})}])},15211,e=>e.a(async(a,r)=>{try{var t=e.i(43476),s=e.i(71645),l=e.i(5766),i=e.i(59544),d=e.i(59629),c=e.i(89504),n=e.i(5828),o=e.i(34495),x=e.i(58700),g=e.i(89815),u=e.i(23115),p=a([n,o]);function m(){let[e,a]=(0,s.useState)([]),[r,p]=(0,s.useState)(!0),[m,y]=(0,s.useState)(""),[h,b]=(0,s.useState)(1),[f,w]=(0,s.useState)(0),[j,k]=(0,s.useState)(!1),[v,N]=(0,s.useState)(null),[C,A]=(0,s.useState)({}),[S,_]=(0,s.useState)(9),E=(0,s.useCallback)(async()=>{try{p(!0);let e=await n.gatewayService.list({page:h,limit:S,search:m});a(e.data),w(e.pagination.pages)}catch(e){console.error("Erro ao carregar gateways:",e),l.toast.error("Erro ao carregar gateways")}finally{p(!1)}},[h,m,S]);(0,s.useEffect)(()=>{E()},[E]);let I=async e=>{if(window.confirm("Tem certeza que deseja excluir este gateway?"))try{await n.gatewayService.delete(e),l.toast.success("Gateway excluído com sucesso"),E()}catch(e){l.toast.error("Erro ao excluir gateway")}},O=async e=>{try{v?(await n.gatewayService.update(v.id,e),l.toast.success("Gateway atualizado com sucesso")):(await n.gatewayService.create(e),l.toast.success("Gateway criado com sucesso")),k(!1),N(null),E()}catch(e){l.toast.error("Erro ao salvar gateway")}};return(0,t.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-2",children:"Bancos e Gateways"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Gerencie as integrações de pagamento do sistema"})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)(i.default,{variant:"primary",onClick:()=>{N(null),k(!0)},children:"Novo Gateway"})})]}),(0,t.jsx)("div",{className:"mt-6 flex flex-col sm:flex-row items-center gap-4",children:(0,t.jsx)("div",{className:"flex-1 w-full sm:max-w-xs",children:(0,t.jsx)(c.default,{type:"text",placeholder:"Buscar gateways...",value:m,onChange:e=>{y(e.target.value),b(1)},className:"w-full"})})})]}),(0,t.jsxs)("div",{className:"flex justify-between mb-4 gap-2 flex-wrap",children:[(0,t.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,t.jsx)(u.default,{className:"flex items-center mb-0 h-full",children:"Quantidade por página"}),(0,t.jsx)(c.default,{className:"max-w-24",defaultValue:S,max:100,min:1,onChange:e=>{let a=Number(e.target.value)||9;_(a),b(1)}})]}),(0,t.jsx)(x.default,{currentPage:h,totalPages:f,onPageChange:b})]}),r?(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(e=>(0,t.jsx)("div",{className:"animate-pulse bg-gray-100 dark:bg-gray-800 rounded-lg h-48"},e))}):(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.length>0?e.map(e=>(0,t.jsx)(o.default,{gateway:e,onEdit:()=>{N(e),k(!0)},onDelete:()=>I(e.id)},e.id)):(0,t.jsx)("div",{className:"col-span-full text-center py-12",children:(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhum gateway encontrado"})})}),f>1&&(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsx)("div",{className:"flex justify-end mb-4 gap-2 flex-wrap",children:(0,t.jsx)(x.default,{currentPage:h,totalPages:f,onPageChange:b})})}),(0,t.jsx)(d.Modal,{isOpen:j,onClose:()=>{k(!1),N(null)},className:"max-w-[800px] m-4",children:(0,t.jsx)("div",{className:"no-scrollbar relative w-full overflow-y-auto rounded-3xl bg-white p-4 dark:bg-gray-900 lg:p-11",children:(0,t.jsx)(g.default,{gateway:v,onSubmit:O,onCancel:()=>{k(!1),N(null)}})})})]})}[n,o]=p.then?(await p)():p,e.s(["default",()=>m]),r()}catch(e){r(e)}},!1)]);
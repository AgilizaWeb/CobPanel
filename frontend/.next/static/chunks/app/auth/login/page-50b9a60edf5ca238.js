(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4859],{5011:(e,a,r)=>{Promise.resolve().then(r.bind(r,29753))},12241:(e,a,r)=>{"use strict";r.d(a,{A:()=>l});var t=r(95155);r(12115);var s=r(39688);let l=e=>{let{htmlFor:a,children:r,className:l}=e;return(0,t.jsx)("label",{htmlFor:a,className:(0,s.QP)("mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400",l),children:r})}},29753:(e,a,r)=>{"use strict";r.a(e,async(e,t)=>{try{r.d(a,{default:()=>v});var s=r(95155),l=r(53041),d=r(37354),n=r(12241),i=r(60852),o=r(53780),c=r(6874),u=r.n(c),m=r(35695),x=r(12115),h=r(86061),f=r(13568),p=r(2034),g=e([h]);function v(){let e=(0,m.useRouter)(),a=(0,m.useSearchParams)(),[r,t]=(0,x.useState)(!1),[c,g]=(0,x.useState)(!1),[v,b]=(0,x.useState)(!1),[y,j]=(0,x.useState)(!1),[k,w]=(0,x.useState)(""),[N,E]=(0,x.useState)(!1),[C,A]=(0,x.useState)({email:"",password:""}),[S,P]=(0,x.useState)({}),R=async r=>{if(r.preventDefault(),!C.email||!C.password){f.oR.error("Por favor, preencha todos os campos");return}P({}),b(!0);try{let r=await h.$p.auth.login({email:C.email,senha:C.password});f.oR.success("Login realizado com sucesso!"),await new Promise(e=>setTimeout(e,1e3)),p.cookies.token.set(r.data.token),p.cookies.user.set(JSON.stringify(r.data.user));let t=a.get("redirect"),s={SUPERADMIN:"/dashboard/admin",ADMIN:"/dashboard/empresa",GESTOR:"/dashboard/empresa",VENDEDOR:"/dashboard/empresa",CLIENTE:"/dashboard/cliente"}[r.data.user.role]||"/",l=t?decodeURIComponent(t):s;setTimeout(()=>{e.push(l),setTimeout(()=>{window.location.reload()},1500)},1500)}catch(a){var t,s,l,d,n,i;if(console.log("error:",a),(null===(s=a.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.details)&&Array.isArray(a.response.data.details)){let e={};a.response.data.details.forEach(a=>{let r=a.field.replace("body.","");"senha"===r&&(r="password"),e[r]=a.message}),P(e)}let e=(null===(d=a.response)||void 0===d?void 0:null===(l=d.data)||void 0===l?void 0:l.message)||(null===(i=a.response)||void 0===i?void 0:null===(n=i.data)||void 0===n?void 0:n.error)||"Erro ao fazer login";f.oR.error(e,{duration:3e3})}finally{b(!1)}},L=(e,a)=>{A({...C,[e]:a}),S[e]&&P({...S,[e]:""})};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex flex-col flex-1 lg:w-1/2 w-full",children:[(0,s.jsx)("div",{className:"w-full max-w-md sm:pt-10 mx-auto mb-5",children:(0,s.jsxs)(u(),{href:"/",className:"inline-flex items-center text-sm text-gray-500 transition-colors hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:[(0,s.jsx)(o.YJ,{}),"Voltar"]})}),(0,s.jsx)("div",{className:"flex flex-col justify-center flex-1 w-full max-w-md mx-auto",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"mb-5 sm:mb-8",children:[(0,s.jsx)("h1",{className:"mb-2 font-semibold text-gray-800 text-title-sm dark:text-white/90 sm:text-title-md",children:"Entrar no Sistema"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Digite seu email e senha para acessar!"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("form",{onSubmit:R,children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(n.A,{children:["Email ",(0,s.jsx)("span",{className:"text-error-500",children:"*"})," "]}),(0,s.jsx)(d.A,{placeholder:"Digite seu email",type:"email",value:C.email,onChange:e=>L("email",e.target.value),error:S.email||!1,required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)(n.A,{children:["Senha ",(0,s.jsx)("span",{className:"text-error-500",children:"*"})," "]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(d.A,{type:r?"text":"password",placeholder:"Digite sua senha",value:C.password,onChange:e=>L("password",e.target.value),error:!!S.password,required:!0}),(0,s.jsx)("span",{onClick:()=>t(!r),className:"absolute z-30 -translate-y-1/2 cursor-pointer right-4 top-1/2",children:r?(0,s.jsx)(o.bM,{className:"fill-gray-500 dark:fill-gray-400"}):(0,s.jsx)(o.db,{className:"fill-gray-500 dark:fill-gray-400"})})]}),S.password&&(0,s.jsx)("p",{className:"mt-1 text-xs text-error-500",children:S.password})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(l.A,{checked:c,onChange:g}),(0,s.jsx)("span",{className:"block font-normal text-gray-700 text-theme-sm dark:text-gray-400",children:"Manter conectado"})]}),(0,s.jsx)("button",{type:"button",onClick:()=>{w(C.email),j(!0)},className:"text-sm text-brand-500 hover:text-brand-600 dark:text-brand-400",children:"Esqueceu sua senha?"})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.A,{className:"w-full",size:"sm",type:"submit",disabled:v,children:v?"Entrando...":"Entrar"})})]})}),(0,s.jsx)("div",{className:"mt-5",children:(0,s.jsxs)("p",{className:"text-sm font-normal text-center text-gray-700 dark:text-gray-400 sm:text-start",children:["N\xe3o tem uma conta? ","",(0,s.jsx)(u(),{href:"/auth/register",className:"text-brand-500 hover:text-brand-600 dark:text-brand-400",children:"Cadastre-se"})]})})]})]})})]}),y&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gray-900/50 px-4",children:(0,s.jsxs)("div",{className:"w-full max-w-md rounded-2xl bg-white p-6 shadow-xl dark:bg-gray-900",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recuperar acesso"}),(0,s.jsx)("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Informe o email cadastrado. Enviaremos um link seguro para o seu WhatsApp."}),(0,s.jsxs)("form",{className:"mt-6 space-y-4",onSubmit:async e=>{if(e.preventDefault(),!k){f.oR.error("Informe um email v\xe1lido.");return}E(!0);try{let e=await h.$p.auth.resetPassword({email:k});f.oR.success(e.message||"Link enviado com sucesso!"),j(!1)}catch(l){var a,r,t,s;let e=(null===(r=l.response)||void 0===r?void 0:null===(a=r.data)||void 0===a?void 0:a.error)||(null===(s=l.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.message)||"N\xe3o foi poss\xedvel enviar o link. Tente novamente mais tarde.";f.oR.error(e)}finally{E(!1)}},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(n.A,{children:"Email"}),(0,s.jsx)(d.A,{type:"email",value:k,onChange:e=>w(e.target.value),placeholder:"email@empresa.com",required:!0})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,s.jsx)(i.A,{variant:"outline",size:"sm",type:"button",onClick:()=>{N||j(!1)},children:"Cancelar"}),(0,s.jsx)(i.A,{size:"sm",type:"submit",disabled:N,className:"min-w-[120px]",children:N?"Enviando...":"Enviar link"})]})]})]})})]})}h=(g.then?(await g)():g)[0],t()}catch(e){t(e)}})},35695:(e,a,r)=>{"use strict";var t=r(18999);r.o(t,"useParams")&&r.d(a,{useParams:function(){return t.useParams}}),r.o(t,"usePathname")&&r.d(a,{usePathname:function(){return t.usePathname}}),r.o(t,"useRouter")&&r.d(a,{useRouter:function(){return t.useRouter}}),r.o(t,"useSearchParams")&&r.d(a,{useSearchParams:function(){return t.useSearchParams}})},37354:(e,a,r)=>{"use strict";r.d(a,{A:()=>s});var t=r(95155);r(12115);let s=e=>{let{type:a="text",id:r,name:s,placeholder:l,defaultValue:d,onChange:n,min:i,max:o,step:c,disabled:u=!1,success:m=!1,error:x=!1,hint:h,value:f,required:p,className:g="",...v}=e,b="h-11 w-full rounded-lg border px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:outline-hidden focus:ring-3 ".concat(g);if("date"!==a&&(b+=" appearance-none"),u)b+=" text-gray-500 border-gray-300 cursor-not-allowed dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700";else if(x){if(b+=" text-error-800 border-error-500 focus:ring-3 focus:ring-error-500/10  dark:text-error-400 dark:border-error-500","string"==typeof x)return(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{...v,type:a,id:r,name:s,placeholder:l,defaultValue:d,onChange:n,className:b,min:i,max:o,step:c,disabled:u,value:f,required:p}),(0,t.jsx)("p",{className:"mt-1 text-xs text-error-500",children:x})]})}else m?b+=" text-success-500 border-success-400 focus:ring-success-500/10 focus:border-success-300  dark:text-success-400 dark:border-success-500":b+=" bg-transparent text-gray-800 border-gray-300 focus:border-brand-300 focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:focus:border-brand-800";return(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{...v,type:a,id:r,name:s,placeholder:l,value:f,defaultValue:d,onChange:n,min:i,max:o,required:p,step:c,disabled:u,className:b}),h&&(0,t.jsx)("p",{className:"mt-1.5 text-xs ".concat(x?"text-error-500":m?"text-success-500":"text-gray-500"),children:h})]})}},53041:(e,a,r)=>{"use strict";r.d(a,{A:()=>s});var t=r(95155);let s=e=>{let{label:a,checked:r,id:s,onChange:l,className:d="",disabled:n=!1}=e;return(0,t.jsxs)("label",{className:"flex items-center space-x-3 group cursor-pointer ".concat(n?"cursor-not-allowed opacity-60":""),children:[(0,t.jsxs)("div",{className:"relative w-5 h-5",children:[(0,t.jsx)("input",{id:s,type:"checkbox",className:"w-5 h-5 appearance-none cursor-pointer dark:border-gray-700 border border-gray-300 checked:border-transparent rounded-md checked:bg-brand-500 disabled:opacity-60 \n          ".concat(d),checked:r,onChange:e=>l(e.target.checked),disabled:n}),r&&(0,t.jsx)("svg",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 pointer-events-none",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",children:(0,t.jsx)("path",{d:"M11.6666 3.5L5.24992 9.91667L2.33325 7",stroke:"white",strokeWidth:"1.94437",strokeLinecap:"round",strokeLinejoin:"round"})}),n&&(0,t.jsx)("svg",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 pointer-events-none",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",children:(0,t.jsx)("path",{d:"M11.6666 3.5L5.24992 9.91667L2.33325 7",stroke:"#E4E7EC",strokeWidth:"2.33333",strokeLinecap:"round",strokeLinejoin:"round"})})]}),a&&(0,t.jsx)("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:a})]})}},53780:(e,a,r)=>{"use strict";r.d(a,{C1:()=>l.default,CE:()=>p.default,D3:()=>g.default,Es:()=>I.default,Fn:()=>s.default,IJ:()=>i.default,Jc:()=>P.default,Mt:()=>v.default,R2:()=>f.default,Tb:()=>_.default,Td:()=>E.default,XA:()=>b.default,XF:()=>R.default,YJ:()=>C.default,Ze:()=>M.default,_0:()=>d.default,ag:()=>o.default,b1:()=>N.default,b4:()=>h.default,bM:()=>k.default,c1:()=>t.default,cr:()=>x.default,db:()=>w.default,e$:()=>j.default,fl:()=>c.default,j1:()=>D.default,jf:()=>T.default,mo:()=>n.default,nF:()=>u.default,pC:()=>m.default,qU:()=>L.default,r4:()=>S.default,rM:()=>A.default,sy:()=>z.default,u6:()=>y.default,wF:()=>q.default});var t=r(60792);r(59814);var s=r(51065),l=r(36689),d=r(62376),n=r(94456),i=r(48403);r(20969),r(98827),r(27468),r(56872),r(43224),r(53680);var o=r(87928);r(47642),r(25144);var c=r(31052),u=r(66923),m=r(36462);r(19526);var x=r(95035),h=r(98304);r(99437),r(52778);var f=r(33507),p=r(28243);r(83311);var g=r(84582),v=r(8193);r(99597);var b=r(32513),y=r(304);r(86242);var j=r(57299),k=r(93873),w=r(25766),N=r(71544),E=r(1467),C=r(3801),A=r(89856);r(75021),r(76572),r(20578),r(45357),r(92283),r(61807),r(36970),r(2001);var S=r(22950),P=r(63951);r(57786),r(83777);var R=r(61123),L=r(99840),D=r(15949),M=r(72959),T=r(38491),q=r(60444),z=r(64886),I=r(16222),_=r(13671)},60852:(e,a,r)=>{"use strict";r.d(a,{A:()=>s});var t=r(95155);r(12115);let s=e=>{let{children:a,size:r="md",variant:s="primary",startIcon:l,endIcon:d,onClick:n,className:i="",disabled:o=!1,type:c="button"}=e;return(0,t.jsxs)("button",{className:"inline-flex items-center justify-center font-medium gap-2 rounded-lg transition ".concat(i," ").concat({sm:"px-4 py-3 text-sm",md:"px-5 py-3.5 text-sm"}[r]," ").concat({primary:"bg-brand-500 text-white shadow-theme-xs hover:bg-brand-600 disabled:bg-brand-300",outline:"bg-white text-gray-700 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-400 dark:ring-gray-700 dark:hover:bg-white/[0.03] dark:hover:text-gray-300"}[s]," ").concat(o?"cursor-not-allowed opacity-50":""),onClick:n,disabled:o,type:c,children:[l&&(0,t.jsx)("span",{className:"flex items-center",children:l}),a,d&&(0,t.jsx)("span",{className:"flex items-center",children:d})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[8122,3568,9688,6874,4691,4349,8441,1684,7358],()=>a(5011)),_N_E=e.O()}]);
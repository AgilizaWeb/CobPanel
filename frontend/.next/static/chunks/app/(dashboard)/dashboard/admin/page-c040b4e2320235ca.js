(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3097],{1150:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let r=a(95155),s=a(12115),l=a(24437);function n(e){return{default:e&&"default"in e?e.default:e}}a(36552);let d={loader:()=>Promise.resolve(n(()=>null)),loading:null,ssr:!0},i=function(e){let t={...d,...e},a=(0,s.lazy)(()=>t.loader().then(n)),i=t.loading;function c(e){let n=i?(0,r.jsx)(i,{isLoading:!0,pastDelay:!0,error:null}):null,d=!t.ssr||!!t.loading,c=d?s.Suspense:s.Fragment,o=t.ssr?(0,r.jsxs)(r.Fragment,{children:[null,(0,r.jsx)(a,{...e})]}):(0,r.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(a,{...e})});return(0,r.jsx)(c,{...d?{fallback:n}:{},children:o})}return c.displayName="LoadableComponent",c}},8567:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return r.workAsyncStorageInstance}});let r=a(17828)},17828:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return r}});let r=(0,a(64054).createAsyncLocalStorage)()},19785:(e,t,a)=>{"use strict";a.d(t,{Y:()=>i});var r=a(95155),s=a(67909);a(12115);let l=(0,s.default)(()=>Promise.all([a.e(7776),a.e(7111)]).then(a.bind(a,99492)),{loadableGenerated:{webpack:()=>[99492]},ssr:!1}),n={PENDING:"Pendente",APPROVED:"Pago",CANCELLED:"Cancelado",PENDENTE:"Pendente",PAGO:"Pago"},d={PENDING:"#f59e0b",APPROVED:"#10b981",CANCELLED:"#ef4444",PENDENTE:"#f59e0b",PAGO:"#10b981"};function i(e){var t,a;let{items:s}=e,i=null!=(t=null==s?void 0:s.map(e=>{var t;return null!=(t=n[e.status])?t:e.status}))?t:[],c=null!=(a=null==s?void 0:s.map(e=>e.total))?a:[],o=null==s?void 0:s.map(e=>{var t;return null!=(t=d[e.status])?t:"#6366f1"});return(0,r.jsxs)("div",{className:"rounded-2xl border border-gray-200 bg-white px-5 pt-5 dark:border-gray-800 dark:bg-white/[0.03] sm:px-6 sm:pt-6",children:[(0,r.jsx)("h3",{className:"mb-4 text-lg font-semibold text-gray-800 dark:text-white/90",children:"Vendas por status"}),(0,r.jsx)(l,{options:{chart:{type:"donut",height:320,fontFamily:"Outfit, sans-serif"},labels:i,legend:{position:"bottom"},dataLabels:{enabled:!0},colors:o,tooltip:{y:{formatter:e=>"".concat(e)}}},series:c,type:"donut",height:320})]})}},24437:(e,t,a)=>{"use strict";function r(e){let{reason:t,children:a}=e;return a}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return r}}),a(24553)},36552:(e,t,a)=>{"use strict";function r(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return r}}),a(95155),a(47650),a(8567),a(77278)},43143:(e,t,a)=>{"use strict";a.d(t,{k:()=>i});var r=a(95155),s=a(12115),l=a(94325);let n=(0,a(67909).default)(()=>Promise.all([a.e(7776),a.e(7111)]).then(a.bind(a,99492)),{loadableGenerated:{webpack:()=>[99492]},ssr:!1}),d=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"];function i(e){let{data:t}=e,a=(0,s.useMemo)(()=>t&&0!==t.length?"number"==typeof t[0]?d.map((e,a)=>{var r;return{label:e,revenue:Number(null!=(r=t[a])?r:0)}}):t.map((e,t)=>{var a,r,s;return{label:null!=(r=null!=(a=e.label)?a:d[t])?r:"M".concat(t+1),revenue:Number(null!=(s=e.revenue)?s:0)}}):d.map(e=>({label:e,revenue:0})),[t]),i=a.map(e=>e.label),c=a.map(e=>e.revenue);return(0,r.jsxs)("div",{className:"overflow-hidden rounded-2xl border border-gray-200 bg-white px-5 pt-5 dark:border-gray-800 dark:bg-white/[0.03] sm:px-6 sm:pt-6",children:[(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:"Receita por m\xeas"})}),(0,r.jsx)("div",{className:"max-w-full overflow-x-auto custom-scrollbar",children:(0,r.jsx)("div",{className:"-ml-5 min-w-[650px] xl:min-w-full pl-2",children:(0,r.jsx)(n,{options:{colors:["#465fff"],chart:{fontFamily:"Outfit, sans-serif",type:"bar",height:200,toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:"39%",borderRadius:5,borderRadiusApplication:"end"}},dataLabels:{enabled:!1},stroke:{show:!0,width:4,colors:["transparent"]},xaxis:{categories:i,axisBorder:{show:!1},axisTicks:{show:!1}},legend:{show:!1},yaxis:{labels:{formatter:e=>"".concat((0,l.vv)(e))}},grid:{yaxis:{lines:{show:!0}}},fill:{opacity:1},tooltip:{x:{show:!1},y:{formatter:e=>"".concat((0,l.vv)(e))}}},series:[{name:"Receita",data:c}],type:"bar",height:200})})})]})}},44160:(e,t,a)=>{Promise.resolve().then(a.bind(a,46504))},46504:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{default:()=>g});var s=a(95155),l=a(12115),n=a(86948),d=a(99145),i=a(49156),c=a(22663),o=a(94325),u=a(43143),m=a(19785),x=e([i]);function g(){var e,t;let[a,r]=(0,l.useState)(null),[x,g]=(0,l.useState)(!0);if((0,l.useEffect)(()=>{(async()=>{try{g(!0);let e=await i.$p.adminStats.getStats();r(e.data)}catch(e){c.oR.error("Erro ao carregar estat\xedsticas do dashboard."),console.error(e)}finally{g(!1)}})()},[]),x)return(0,s.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,s.jsx)("div",{className:"h-16 w-16 animate-spin rounded-full border-4 border-solid border-primary border-t-transparent"})});if(!a)return null;let p=a.plans,f=a.companies,h=a.users.breakdown,b=p.statusDistribution.map(e=>({status:e.status,total:e.total}));return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"flex justify-between items-center",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Vis\xe3o Geral do Sistema"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Acompanhe as m\xe9tricas de planos e empresas conectadas ao seu marketplace."})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:[(0,s.jsxs)(n.Z,{className:"p-6",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Receita total de planos"}),(0,s.jsx)("p",{className:"mt-2 text-3xl font-semibold text-gray-900 dark:text-white",children:(0,o.vv)(p.totalRevenue)}),(0,s.jsxs)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:[p.paidPurchases," compras confirmadas"]})]}),(0,s.jsxs)(n.Z,{className:"p-6",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Receita pendente"}),(0,s.jsx)("p",{className:"mt-2 text-3xl font-semibold text-amber-600",children:(0,o.vv)(p.pendingRevenue)}),(0,s.jsxs)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:[p.pendingPurchases," compras aguardando pagamento"]})]}),(0,s.jsxs)(n.Z,{className:"p-6",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Ticket m\xe9dio dos planos"}),(0,s.jsx)("p",{className:"mt-2 text-3xl font-semibold text-gray-900 dark:text-white",children:(0,o.vv)(p.averageTicket)}),(0,s.jsxs)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:[p.catalog," planos no cat\xe1logo (",p.activePlans," ativos)"]})]}),(0,s.jsxs)(n.Z,{className:"p-6",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Empresas conectadas"}),(0,s.jsx)("p",{className:"mt-2 text-3xl font-semibold text-gray-900 dark:text-white",children:f.total}),(0,s.jsxs)("div",{className:"mt-3 grid grid-cols-2 gap-2 text-xs",children:[(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 font-medium text-green-600",children:[(0,s.jsx)(d.C1,{className:"h-6 w-6"})," ",f.active," ativas"]}),(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 font-medium text-red-500",children:[(0,s.jsx)(d.IJ,{className:"h-6 w-6"})," ",f.expired," vencidas"]}),(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 font-medium text-amber-500",children:[(0,s.jsx)(d.b1,{className:"h-6 w-6"})," ",f.expiring," vencendo"]})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-5 gap-6",children:[(0,s.jsx)("div",{className:"xl:col-span-3",children:(0,s.jsx)(u.k,{data:p.monthlyRevenue.map(e=>({label:e.label.toUpperCase(),revenue:e.revenue}))})}),(0,s.jsxs)("div",{className:"xl:col-span-2 space-y-6",children:[(0,s.jsx)(m.Y,{items:b}),(0,s.jsxs)(n.Z,{className:"p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Vis\xe3o r\xe1pida"}),(0,s.jsxs)("dl",{className:"space-y-3 text-sm text-gray-600 dark:text-gray-300",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("dt",{children:"Planos ativos"}),(0,s.jsx)("dd",{className:"font-medium text-gray-900 dark:text-white",children:p.activePlans})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("dt",{children:"Planos inativos"}),(0,s.jsx)("dd",{className:"font-medium",children:p.inactivePlans})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("dt",{children:"Empresas com mais clientes"}),(0,s.jsx)("dd",{className:"font-medium",children:null!=(t=null==(e=f.topByClients[0])?void 0:e.nome)?t:"â€”"})]})]})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[(0,s.jsxs)(n.Z,{className:"p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Top planos por receita"}),(0,s.jsx)("div",{className:"space-y-3",children:p.topPlans.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 bg-gray-50 px-4 py-3 dark:border-gray-700 dark:bg-white/[0.02]",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:e.nome}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.purchases," vendas \xb7 Ticket m\xe9dio ",(0,o.vv)(e.averageTicket)]})]}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:(0,o.vv)(e.revenue)})]},e.nome))})]}),(0,s.jsxs)(n.Z,{className:"p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Empresas que mais faturam"}),(0,s.jsx)("div",{className:"space-y-3",children:p.topCompanies.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 bg-gray-50 px-4 py-3 dark:border-gray-700 dark:bg-white/[0.02]",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:e.nome}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.purchases," compras de planos"]})]}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:(0,o.vv)(e.revenue)})]},e.nome))})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[(0,s.jsxs)(n.Z,{className:"p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Compras recentes de planos"}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700 text-sm",children:[(0,s.jsx)("thead",{className:"bg-gray-50 dark:bg-white/[0.05]",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-600 dark:text-gray-300",children:"Empresa"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-600 dark:text-gray-300",children:"Plano"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-600 dark:text-gray-300",children:"Valor"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-600 dark:text-gray-300",children:"Status"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-600 dark:text-gray-300",children:"Data"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:p.recentPurchases.map(e=>{var t;return(0,s.jsxs)("tr",{className:"bg-white dark:bg-white/[0.015]",children:[(0,s.jsx)("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:e.empresa}),(0,s.jsx)("td",{className:"px-3 py-2 text-gray-600 dark:text-gray-300",children:e.plano}),(0,s.jsx)("td",{className:"px-3 py-2 font-medium text-gray-900 dark:text-white",children:(0,o.vv)(e.valor)}),(0,s.jsx)("td",{className:"px-3 py-2",children:(0,s.jsx)("span",{className:"rounded-full px-2.5 py-1 text-xs font-semibold ".concat("PAGO"===e.status?"bg-emerald-100 text-emerald-700 dark:bg-emerald-500/10 dark:text-emerald-300":"bg-amber-100 text-amber-700 dark:bg-amber-500/10 dark:text-amber-300"),children:"PAGO"===e.status?"Pago":"Pendente"})}),(0,s.jsx)("td",{className:"px-3 py-2 text-gray-500 dark:text-gray-400",children:(0,o.Yq)(null!=(t=e.dataPagamento)?t:e.createdAt)})]},e.id)})})]})})]}),(0,s.jsxs)(n.Z,{className:"p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Distribui\xe7\xe3o de usu\xe1rios"}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:Object.entries(h).map(e=>{let[t,a]=e;return(0,s.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-gray-50 px-4 py-3 text-gray-700 dark:border-gray-700 dark:bg-white/[0.02] dark:text-gray-300",children:[(0,s.jsx)("p",{className:"text-xs uppercase text-gray-500 dark:text-gray-400",children:t}),(0,s.jsx)("p",{className:"mt-1 text-xl font-semibold text-gray-900 dark:text-white",children:a})]},t)})})]})]})]})}i=(x.then?(await x)():x)[0],r()}catch(e){r(e)}})},64054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{bindSnapshot:function(){return n},createAsyncLocalStorage:function(){return l},createSnapshot:function(){return d}});let a=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class r{disable(){throw a}getStore(){}run(){throw a}exit(){throw a}enterWith(){throw a}static bind(e){return e}}let s="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function l(){return s?new s:new r}function n(e){return s?s.bind(e):r.bind(e)}function d(){return s?s.snapshot():function(e,...t){return e(...t)}}},67909:(e,t,a)=>{"use strict";a.d(t,{default:()=>s.a});var r=a(86278),s=a.n(r)},86278:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});let r=a(28140)._(a(1150));function s(e,t){var a;let s={};"function"==typeof e&&(s.loader=e);let l={...s,...t};return(0,r.default)({...l,modules:null==(a=l.loadableGenerated)?void 0:a.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},86948:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var r=a(95155);a(12115);let s=e=>{let{children:t,className:a=""}=e;return(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 ".concat(a),children:t})}},94325:(e,t,a)=>{"use strict";a.d(t,{F5:()=>s,ON:()=>d,Yq:()=>n,h4:()=>l,vv:()=>r});let r=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Number(e)),s=e=>{let t=Number(e.replace(/\D/g,""))/100;return new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t)},l=e=>Number(e.replace(/\D/g,""))/100,n=e=>{try{if(!e)return"Data inv\xe1lida";return new Intl.DateTimeFormat("pt-BR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(new Date(e))}catch(e){return"Data inv\xe1lida"}},d=e=>{if(!e)return"gray";let t=new Date,a=new Date(e);return(t.setHours(0,0,0,0),a.setHours(0,0,0,0),a<t)?"red":a.getTime()===t.getTime()?"orange":3>=Math.ceil((a.getTime()-t.getTime())/864e5)?"yellow":"green"}},99145:(e,t,a)=>{"use strict";a.d(t,{C1:()=>l.default,CE:()=>f.default,D3:()=>h.default,Es:()=>L.default,Fn:()=>s.default,IJ:()=>i.default,Jc:()=>D.default,Mt:()=>b.default,R2:()=>p.default,Tb:()=>Z.default,Td:()=>P.default,XA:()=>y.default,XF:()=>R.default,YJ:()=>O.default,Ze:()=>S.default,_0:()=>n.default,ag:()=>c.default,b1:()=>k.default,b4:()=>g.default,bM:()=>N.default,c1:()=>r.default,cr:()=>x.default,db:()=>w.default,e$:()=>v.default,fl:()=>o.default,j1:()=>C.default,jf:()=>T.default,mo:()=>d.default,nF:()=>u.default,pC:()=>m.default,qU:()=>A.default,r4:()=>_.default,rM:()=>E.default,sy:()=>F.default,u6:()=>j.default,wF:()=>M.default});var r=a(60792);a(59814);var s=a(51065),l=a(36689),n=a(62376),d=a(94456),i=a(48403);a(20969),a(98827),a(27468),a(56872),a(43224),a(53680);var c=a(87928);a(47642),a(25144);var o=a(31052),u=a(66923),m=a(36462);a(19526);var x=a(95035),g=a(98304);a(99437),a(52778);var p=a(33507),f=a(28243);a(83311);var h=a(84582),b=a(8193);a(99597);var y=a(32513),j=a(304);a(86242);var v=a(57299),N=a(93873),w=a(25766),k=a(49163),P=a(1467),O=a(3801),E=a(89856);a(75021),a(76572),a(20578),a(45357),a(92283),a(61807),a(36970),a(2001);var _=a(22950),D=a(63951);a(57786),a(83777);var R=a(61123),A=a(99840),C=a(15949),S=a(72959),T=a(38491),M=a(60444),F=a(64886),L=a(16222),Z=a(13671)}},e=>{e.O(0,[3598,2663,4691,1899,8441,1255,7358],()=>e(e.s=44160)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3011],{15239:(e,r,a)=>{"use strict";a.d(r,{default:()=>s.a});var t=a(54652),s=a.n(t)},22507:(e,r,a)=>{"use strict";a.d(r,{A:()=>s});var t=a(95155);a(12115);let s=e=>{let{error:r,className:a="",...s}=e;return(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"text",className:"\n          w-full rounded-lg border border-gray-300 bg-white pl-4 pr-10 py-3 text-sm outline-none transition-all \n          focus:border-brand-500 focus:ring-1 focus:ring-brand-500 \n          dark:border-gray-800 dark:bg-gray-900 dark:focus:border-brand-500 text-gray-900 dark:text-white\n          ".concat(r?"border-error-500 focus:border-error-500 focus:ring-error-500":"","\n          ").concat(a,"\n        "),...s}),(0,t.jsx)("svg",{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),r&&(0,t.jsx)("p",{className:"mt-1 text-sm text-error-500",children:r})]})}},22851:(e,r,a)=>{"use strict";a.d(r,{A:()=>o});var t=a(95155);a(12115);var s=a(99145),n=a(31166),l=a(52528);let o=e=>{let{size:r="md",variant:a="primary",onClick:o,className:c="",disabled:i=!1,type:d="button",title:u="Editar",icon:x="edit"}=e,m="".concat("edit"===x||"eye"===x||"reload"===x||"stop"===x||"qrcode"===x?"text-gray-400 hover:text-brand-500 dark:hover:text-brand-400":"text-red-500 dark:text-red-400"," rounded-md flex items-center justify-center transition-colors");return(0,t.jsx)(n.A,{variant:a,size:r,onClick:()=>o&&o(),className:"".concat(m," ").concat(c),title:u,type:d,disabled:i,children:x&&(e=>(0,t.jsx)("span",{className:"flex items-center",children:"edit"===e?(0,t.jsx)(s.qU,{className:"w-5 h-5 inline-block"}):"eye"===e?(0,t.jsx)(s.bM,{className:"w-5 h-5 inline-block"}):"reload"===e?(0,t.jsx)(s.jf,{className:"w-5 h-5 inline-block"}):"stop"===e?(0,t.jsx)(s.wF,{className:"w-5 h-5 inline-block"}):"qrcode"===e?(0,t.jsx)(s.sy,{className:"w-5 h-5 inline-block"}):"play"===e?(0,t.jsx)(l.A,{className:"w-5 h-5 inline-block text-green-500"}):(0,t.jsx)(s.b4,{className:"w-5 h-5 inline-block"})}))(x)})}},31166:(e,r,a)=>{"use strict";a.d(r,{A:()=>s});var t=a(95155);a(12115);let s=e=>{let{variant:r="primary",size:a="md",loading:s=!1,fullWidth:n=!1,className:l="",children:o,disabled:c,...i}=e,d=["inline-flex items-center justify-center font-medium transition-colors rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",{success:"bg-green-500 text-white hover:bg-green-600 focus:ring-green-500",primary:"bg-brand-500 text-white hover:bg-brand-600 focus:ring-brand-500 disabled:bg-brand-300",secondary:"bg-gray-100 text-gray-700 hover:bg-gray-200 focus:ring-gray-500 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600",danger:"bg-error-500 text-white hover:bg-error-600 focus:ring-error-500"}[r],{xs:"px-2 py-1 text-xs",sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-base"}[a],n?"w-full":"",c||s?"opacity-50 cursor-not-allowed":"",l].join(" ");return(0,t.jsxs)("button",{className:d,disabled:c||s,...i,children:[s&&(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o]})}},32003:(e,r,a)=>{"use strict";a.d(r,{A:()=>n});var t=a(95155),s=a(22851);let n=e=>{var r,a,n,l,o;let{conexao:c,onEdit:i,onDelete:d,onQrCode:u,onRestart:x,onStop:m}=e;return(0,t.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm hover:shadow-md shadow-gray-200 dark:shadow-gray-700 border border-gray-200 dark:border-gray-700 p-4",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:c.nome}),c.isDefault&&(0,t.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 border border-blue-200",children:"Padr\xe3o"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:c.numero}),(0,t.jsxs)("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ".concat((()=>{var e;switch(null==c||null==(e=c.instance)?void 0:e.state){case"open":return"bg-green-100 text-green-800 border-green-200";case"connecting":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-red-100 text-red-800 border-red-200"}})()),children:["Status: ",(()=>{var e;switch(console.log("conexao:",c),null==c||null==(e=c.instance)?void 0:e.state){case"open":return"Conectado";case"connecting":return"Conectando...";default:return"Desconectado"}})()]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(null==c||null==(r=c.instance)?void 0:r.state)==="connecting"&&u&&(0,t.jsx)(s.A,{size:"xs",variant:"success",onClick:u,title:"Escanear QR Code",icon:"qrcode"}),((null==c||null==(a=c.instance)?void 0:a.state)==="open"||(null==c||null==(n=c.instance)?void 0:n.state)==="connecting")&&(0,t.jsx)(t.Fragment,{children:m&&(0,t.jsx)(s.A,{size:"xs",variant:"secondary",onClick:m,title:"Parar Conex\xe3o",icon:"stop"})}),((null==c||null==(l=c.instance)?void 0:l.state)==="open"||(null==c||null==(o=c.instance)?void 0:o.state)==="close")&&(0,t.jsx)(t.Fragment,{children:x&&(0,t.jsx)(s.A,{size:"xs",variant:"secondary",onClick:x,title:"Reiniciar Conex\xe3o",icon:"reload"})}),(0,t.jsx)(s.A,{size:"xs",variant:"secondary",onClick:i,title:"Editar Conex\xe3o",icon:"edit"}),(0,t.jsx)(s.A,{size:"xs",variant:"secondary",onClick:d,title:"Excluir Conex\xe3o",icon:"delete"})]})]})})}},40989:(e,r,a)=>{"use strict";a.d(r,{A:()=>s});var t=a(95155);a(12115);let s=e=>{let{type:r="text",id:a,name:s,placeholder:n,defaultValue:l,onChange:o,min:c,max:i,step:d,disabled:u=!1,success:x=!1,error:m=!1,hint:f,value:g,required:h,className:b="",...p}=e,y="h-11 w-full rounded-lg border px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:outline-hidden focus:ring-3 ".concat(b);if("date"!==r&&(y+=" appearance-none"),u)y+=" text-gray-500 border-gray-300 cursor-not-allowed dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700";else if(m){if(y+=" text-error-800 border-error-500 focus:ring-3 focus:ring-error-500/10  dark:text-error-400 dark:border-error-500","string"==typeof m)return(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{...p,type:r,id:a,name:s,placeholder:n,defaultValue:l,onChange:o,className:y,min:c,max:i,step:d,disabled:u,value:g,required:h}),(0,t.jsx)("p",{className:"mt-1 text-xs text-error-500",children:m})]})}else x?y+=" text-success-500 border-success-400 focus:ring-success-500/10 focus:border-success-300  dark:text-success-400 dark:border-success-500":y+=" bg-transparent text-gray-800 border-gray-300 focus:border-brand-300 focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:focus:border-brand-800";return(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{...p,type:r,id:a,name:s,placeholder:n,value:g,defaultValue:l,onChange:o,min:c,max:i,required:h,step:d,disabled:u,className:y}),f&&(0,t.jsx)("p",{className:"mt-1.5 text-xs ".concat(m?"text-error-500":x?"text-success-500":"text-gray-500"),children:f})]})}},50412:(e,r,a)=>{"use strict";a.d(r,{a:()=>n});var t=a(95155),s=a(12115);let n=e=>{let{isOpen:r,onClose:a,children:n,className:l,title:o,showCloseButton:c=!0,isFullscreen:i=!1}=e,d=(0,s.useRef)(null);return((0,s.useEffect)(()=>{let e=e=>{"Escape"===e.key&&a()};return r&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[r,a]),(0,s.useEffect)(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[r]),r)?(0,t.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center overflow-y-auto modal z-[9999]",children:[!i&&(0,t.jsx)("div",{className:"fixed inset-0 h-full w-full bg-gray-400/50 dark:bg-gray-950/80 backdrop-blur-xs",onClick:a}),(0,t.jsxs)("div",{ref:d,className:"".concat(i?"w-full h-full":"relative w-full rounded-3xl bg-white  dark:bg-gray-900","  ").concat(l),onClick:e=>e.stopPropagation(),children:[c&&(0,t.jsx)("button",{onClick:a,className:"absolute right-3 top-3 z-999 flex h-9.5 w-9.5 items-center justify-center rounded-full bg-gray-100 text-gray-400 transition-colors hover:bg-gray-200 hover:text-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white sm:right-6 sm:top-6 sm:h-11 sm:w-11",children:(0,t.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.04289 16.5413C5.65237 16.9318 5.65237 17.565 6.04289 17.9555C6.43342 18.346 7.06658 18.346 7.45711 17.9555L11.9987 13.4139L16.5408 17.956C16.9313 18.3466 17.5645 18.3466 17.955 17.956C18.3455 17.5655 18.3455 16.9323 17.955 16.5418L13.4129 11.9997L17.955 7.4576C18.3455 7.06707 18.3455 6.43391 17.955 6.04338C17.5645 5.65286 16.9313 5.65286 16.5408 6.04338L11.9987 10.5855L7.45711 6.0439C7.06658 5.65338 6.43342 5.65338 6.04289 6.0439C5.65237 6.43442 5.65237 7.06759 6.04289 7.45811L10.5845 11.9997L6.04289 16.5413Z",fill:"currentColor"})})}),(0,t.jsxs)("div",{className:"p-6",style:{maxHeight:"95vh",overflowY:"auto"},children:[o&&(0,t.jsx)("h2",{className:"mb-4 text-xl font-semibold text-gray-900 dark:text-white",children:o}),n]})]})]}):null}},52528:(e,r,a)=>{"use strict";a.d(r,{A:()=>s});var t=a(12115);let s=t.forwardRef(function(e,r){let{title:a,titleId:s,...n}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},n),a?t.createElement("title",{id:s},a):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))})},54652:(e,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,r){for(var a in r)Object.defineProperty(e,a,{enumerable:!0,get:r[a]})}(r,{default:function(){return c},getImageProps:function(){return o}});let t=a(28140),s=a(75040),n=a(81356),l=t._(a(71124));function o(e){let{props:r}=(0,s.getImgProps)(e,{defaultLoader:l.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,a]of Object.entries(r))void 0===a&&delete r[e];return{props:r}}let c=n.Image},67912:(e,r,a)=>{"use strict";a.a(e,async(e,t)=>{try{a.r(r),a.d(r,{default:()=>g});var s=a(95155),n=a(12115),l=a(49156),o=a(22663),c=a(31166),i=a(22507),d=a(50412),u=a(32003),x=a(89051),m=a(86999),f=e([l,m]);function g(){let[e,r]=(0,n.useState)([]),[a,t]=(0,n.useState)(!0),[f,g]=(0,n.useState)(""),[h,b]=(0,n.useState)(1),[p,y]=(0,n.useState)(0),[v,j]=(0,n.useState)(!1),[w,k]=(0,n.useState)(!1),[N,C]=(0,n.useState)(),A=(0,n.useCallback)(async()=>{try{t(!0);let e=await l.$p.conexao.list({page:h,limit:9,...f&&{search:f}});r(e.data),y(Math.ceil(e.pagination.total/9))}catch(e){o.Ay.error("Erro ao carregar conex\xf5es")}finally{t(!1)}},[h,f,9]);(0,n.useEffect)(()=>{A()},[A]);let E=async e=>{if(window.confirm("Tem certeza que deseja reiniciar esta conex\xe3o?"))try{await l.$p.conexao.restart(e),o.Ay.success("Conex\xe3o reiniciada com sucesso"),A()}catch(e){o.Ay.error("Erro ao reiniciar conex\xe3o")}},S=async e=>{if(window.confirm("Tem certeza que deseja parar esta conex\xe3o?"))try{await l.$p.conexao.stop(e),o.Ay.success("Conex\xe3o parada com sucesso"),A()}catch(e){o.Ay.error("Erro ao parar conex\xe3o")}},z=async e=>{if(window.confirm("Tem certeza que deseja excluir esta conex\xe3o?"))try{await l.$p.conexao.delete(e),o.Ay.success("Conex\xe3o exclu\xedda com sucesso"),A()}catch(e){o.Ay.error("Erro ao excluir conex\xe3o")}},P=async e=>{try{N?(await l.$p.conexao.update(N.id,e),o.Ay.success("Conex\xe3o atualizada com sucesso")):(await l.$p.conexao.create(e),o.Ay.success("Conex\xe3o criada com sucesso")),j(!1),C(void 0),A()}catch(e){console.error("Erro ao salvar conex\xe3o:",e),o.Ay.error("Erro ao salvar conex\xe3o")}};return(0,s.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Conex\xf5es WhatsApp"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Gerencie suas conex\xf5es com a Evolution API"})]}),(0,s.jsx)(c.A,{variant:"primary",onClick:()=>{C(void 0),j(!0)},children:"Nova Conex\xe3o"})]}),(0,s.jsx)("div",{className:"mt-4 w-full max-w-sm",children:(0,s.jsx)(i.A,{value:f,onChange:e=>g(e.target.value),placeholder:"Buscar conex\xf5es..."})})]}),a?(0,s.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(e=>(0,s.jsx)(u.A,{conexao:e,onEdit:()=>{C(e),j(!0)},onDelete:()=>z(e.id),onQrCode:()=>{C(e),k(!0)},onRestart:()=>E(e.id),onStop:()=>S(e.id)},e.id))}),0===e.length&&(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhuma conex\xe3o encontrada"})}),p>1&&(0,s.jsx)("div",{className:"mt-6 flex justify-center",children:(0,s.jsxs)("nav",{className:"flex items-center gap-2",children:[(0,s.jsx)(c.A,{variant:"secondary",onClick:()=>b(e=>Math.max(1,e-1)),disabled:1===h,children:"Anterior"}),(0,s.jsxs)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["P\xe1gina ",h," de ",p]}),(0,s.jsx)(c.A,{variant:"secondary",onClick:()=>b(e=>Math.min(p,e+1)),disabled:h===p,children:"Pr\xf3xima"})]})})]}),(0,s.jsx)(d.a,{isOpen:v,onClose:()=>{j(!1),C(void 0)},className:"max-w-[800px] m-4",children:(0,s.jsxs)("div",{className:"no-scrollbar relative w-full overflow-y-auto rounded-3xl bg-white p-4 dark:bg-gray-900 lg:p-11",children:[(0,s.jsxs)("div",{className:"px-2 pr-14",children:[(0,s.jsx)("h4",{className:"mb-2 text-2xl font-semibold text-gray-800 dark:text-white/90",children:N?"Editar Conex\xe3o":"Nova Conex\xe3o"}),(0,s.jsx)("p",{className:"mb-6 text-sm text-gray-500 dark:text-gray-400 lg:mb-7",children:N?"Atualize as informa\xe7\xf5es da conex\xe3o.":"Preencha os dados para criar uma nova conex\xe3o."})]}),(0,s.jsx)(x.A,{conexao:N,onSave:P,onCancel:()=>{j(!1),C(void 0)}})]})}),N&&(0,s.jsx)(m.A,{isOpen:w,onClose:()=>{k(!1),C(void 0)},conexao:N,onStatusUpdate:e=>{r(r=>r.map(r=>r.id===e.id?e:r))}})]})}[l,m]=f.then?(await f)():f,t()}catch(e){t(e)}})},83011:(e,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return s}});let t=a(12115);function s(e,r){let a=(0,t.useRef)(null),s=(0,t.useRef)(null);return(0,t.useCallback)(t=>{if(null===t){let e=a.current;e&&(a.current=null,e());let r=s.current;r&&(s.current=null,r())}else e&&(a.current=n(e,t)),r&&(s.current=n(r,t))},[e,r])}function n(e,r){if("function"!=typeof e)return e.current=r,()=>{e.current=null};{let a=e(r);return"function"==typeof a?a:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},86999:(e,r,a)=>{"use strict";a.a(e,async(e,t)=>{try{a.d(r,{A:()=>x});var s=a(95155),n=a(12115),l=a(50412),o=a(31166),c=a(49156),i=a(22663),d=a(15239),u=e([c]);c=(u.then?(await u)():u)[0];let x=e=>{var r,a,t,u,x,m,f;let{isOpen:g,onClose:h,conexao:b,onStatusUpdate:p}=e,[y,v]=(0,n.useState)(b),[j,w]=(0,n.useState)(!1),k=(0,n.useRef)(null),[N,C]=(0,n.useState)(25),A=(0,n.useCallback)(async()=>{try{var e,r;w(!0);let a=await c.$p.conexao.getById(b.id);v(a.data),p(a.data),(null==(r=a.data)||null==(e=r.instance)?void 0:e.state)==="open"&&(i.Ay.success("Conex\xe3o estabelecida com sucesso!"),h())}catch(e){console.error("Erro ao verificar status da conex\xe3o:",e),i.Ay.error("Erro ao verificar status da conex\xe3o")}finally{w(!1)}},[b.id,p,h]),E=(0,n.useCallback)(()=>{k.current&&clearInterval(k.current),C(25),k.current=setInterval(()=>{A(),C(25)},25e3);let e=setInterval(()=>{C(e=>e<=1?25:e-1)},1e3);return()=>{clearInterval(e)}},[A]);(0,n.useEffect)(()=>{var e;if(g&&(null==y||null==(e=y.instance)?void 0:e.state)==="connecting"){let e=E();return()=>{k.current&&clearInterval(k.current),e()}}return()=>{k.current&&clearInterval(k.current)}},[g,null==y||null==(r=y.instance)?void 0:r.state,A,E]),(0,n.useEffect)(()=>{v(b)},[b]);let S=()=>{k.current&&clearInterval(k.current),h()};return(0,s.jsx)(l.a,{isOpen:g,onClose:S,className:"max-w-[700px] m-4",children:(0,s.jsx)("div",{className:"no-scrollbar relative w-full max-w-[700px] overflow-y-auto rounded-3xl bg-white p-4 dark:bg-gray-900 lg:p-8",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h4",{className:"mb-2 text-2xl font-semibold text-gray-800 dark:text-white/90",children:"Conectar WhatsApp"}),(0,s.jsx)("p",{className:"mb-6 text-sm text-gray-500 dark:text-gray-400",children:y.nome}),(0,s.jsx)("div",{className:"mb-6 flex justify-center",children:(0,s.jsx)("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border ".concat((()=>{var e;switch(null==y||null==(e=y.instance)?void 0:e.state){case"connecting":return"bg-blue-100 text-blue-800 border-blue-200";case"open":return"bg-green-100 text-green-800 border-green-200";default:return"bg-red-100 text-red-800 border-red-200"}})()),children:(()=>{var e;switch(null==y||null==(e=y.instance)?void 0:e.state){case"connecting":return"Aguardando conex\xe3o...";case"open":return"Conectado";default:return"Desconectado"}})()})}),(null==y||null==(a=y.instance)?void 0:a.state)==="connecting"&&(0,s.jsxs)("div",{className:"mb-6",children:[(null==(t=y.instance)?void 0:t.base64)?(0,s.jsxs)("div",{className:"p-4 rounded-lg inline-block shadow-sm relative",children:[j&&(0,s.jsx)("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center rounded-lg",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),(0,s.jsx)(d.default,{src:y.instance.base64,alt:"QR Code",className:"object-contain",width:256,height:256}),(0,s.jsxs)("div",{className:"flex gap-1 w-full justify-center mt-2",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Codigo de Pareamento:"}),(0,s.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-200",children:y.instance.pairingCode||"N/A"})]})]}):(0,s.jsx)("div",{className:"bg-gray-50 dark:bg-gray-800 p-8 rounded-lg border-2 border-dashed border-gray-200 dark:border-gray-600 w-72 h-72 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Gerando QR Code..."})]})}),(0,s.jsxs)("div",{className:"mt-4 text-center",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:(null==(u=y.instance)?void 0:u.base64)?"Escaneie o QR Code com seu WhatsApp":"Aguarde, o QR Code est\xe1 sendo gerado"}),(null==(x=y.instance)?void 0:x.base64)&&(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(j?"bg-blue-500 animate-pulse":"bg-green-500")}),(0,s.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:j?"Atualizando...":"Pr\xf3xima atualiza\xe7\xe3o em ".concat(N,"s")})]})]})]}),(null==y||null==(m=y.instance)?void 0:m.state)==="connecting"&&(0,s.jsxs)("div",{className:"mb-6 text-left bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[(0,s.jsx)("h5",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Como conectar:"}),(0,s.jsxs)("ol",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[(0,s.jsx)("li",{children:"1. Abra o WhatsApp no seu celular"}),(0,s.jsx)("li",{children:'2. Toque em "Mais op\xe7\xf5es" (⋮) → "Aparelhos conectados"'}),(0,s.jsx)("li",{children:'3. Toque em "Conectar um aparelho"'}),(0,s.jsx)("li",{children:"4. Escaneie o QR Code acima"})]})]}),(0,s.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,s.jsx)(o.A,{variant:"secondary",onClick:S,children:"Fechar"}),(null==y||null==(f=y.instance)?void 0:f.state)==="connecting"&&(0,s.jsx)(o.A,{variant:"primary",onClick:A,disabled:j,children:j?"Verificando...":"Atualizar"})]})]})})})};t()}catch(e){t(e)}})},89051:(e,r,a)=>{"use strict";a.d(r,{A:()=>o});var t=a(95155),s=a(12115),n=a(40989),l=a(31166);function o(e){let{conexao:r,onSave:a,onCancel:o}=e,[c,i]=(0,s.useState)({nome:(null==r?void 0:r.nome)||"",numero:(null==r?void 0:r.numero)||"",isDefault:(null==r?void 0:r.isDefault)||!1}),[d,u]=(0,s.useState)({}),[x,m]=(0,s.useState)(!1),f=async e=>{if(e.preventDefault(),(()=>{let e={};return["nome"].forEach(r=>{c[r]||(e[r]="".concat(r.charAt(0).toUpperCase()+r.slice(1)," \xe9 obrigat\xf3rio"))}),c.numero&&c.numero.length<10&&(e.numero="N\xfamero deve ter pelo menos 10 caracteres"),u(e),0===Object.keys(e).length})()){m(!0);try{await a(c)}catch(e){var r,t;((null==(t=e.response)||null==(r=t.data)?void 0:r.details)||[]).forEach(e=>{let r=e.field.replace("body.","");u(a=>({...a,[r]:e.message}))})}finally{m(!1)}}};return(0,t.jsxs)("form",{onSubmit:f,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsx)("div",{className:"md:col-span-2",children:(0,t.jsx)(n.A,{id:"nome",name:"nome",hint:"Nome da Conex\xe3o",value:c.nome,onChange:e=>i({...c,nome:e.target.value}),error:d.nome,placeholder:"Ex: WhatsApp Principal"})}),(0,t.jsx)("div",{className:"md:col-span-2",children:(0,t.jsx)(n.A,{id:"numero",name:"numero",hint:"N\xfamero",value:c.numero,onChange:e=>i({...c,numero:e.target.value}),error:d.numero,placeholder:"Ex: 5511999999999"})}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{id:"isDefault",name:"isDefault",type:"checkbox",checked:c.isDefault,onChange:e=>i({...c,isDefault:e.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded dark:border-gray-600 dark:bg-gray-700"}),(0,t.jsx)("label",{htmlFor:"isDefault",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Conex\xe3o padr\xe3o"})]}),(0,t.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Se marcado, esta ser\xe1 a conex\xe3o padr\xe3o para novas vendas sem conex\xe3o espec\xedfica ou com conex\xe3o espec\xedfica n\xe3o conectada"})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-4 pt-4",children:[(0,t.jsx)(l.A,{type:"button",variant:"secondary",onClick:o,children:"Cancelar"}),(0,t.jsx)(l.A,{type:"submit",variant:"primary",disabled:x,children:x?"Salvando...":r?"Atualizar":"Criar"})]})]})}},93566:(e,r,a)=>{Promise.resolve().then(a.bind(a,67912))},99145:(e,r,a)=>{"use strict";a.d(r,{C1:()=>n.default,CE:()=>h.default,D3:()=>b.default,Es:()=>I.default,Fn:()=>s.default,IJ:()=>c.default,Jc:()=>z.default,Mt:()=>p.default,R2:()=>g.default,Tb:()=>q.default,Td:()=>C.default,XA:()=>y.default,XF:()=>P.default,YJ:()=>A.default,Ze:()=>_.default,_0:()=>l.default,ag:()=>i.default,b1:()=>N.default,b4:()=>f.default,bM:()=>w.default,c1:()=>t.default,cr:()=>m.default,db:()=>k.default,e$:()=>j.default,fl:()=>d.default,j1:()=>R.default,jf:()=>L.default,mo:()=>o.default,nF:()=>u.default,pC:()=>x.default,qU:()=>M.default,r4:()=>S.default,rM:()=>E.default,sy:()=>D.default,u6:()=>v.default,wF:()=>O.default});var t=a(60792);a(59814);var s=a(51065),n=a(36689),l=a(62376),o=a(94456),c=a(48403);a(20969),a(98827),a(27468),a(56872),a(43224),a(53680);var i=a(87928);a(47642),a(25144);var d=a(31052),u=a(66923),x=a(36462);a(19526);var m=a(95035),f=a(98304);a(99437),a(52778);var g=a(33507),h=a(28243);a(83311);var b=a(84582),p=a(8193);a(99597);var y=a(32513),v=a(304);a(86242);var j=a(57299),w=a(93873),k=a(25766),N=a(49163),C=a(1467),A=a(3801),E=a(89856);a(75021),a(76572),a(20578),a(45357),a(92283),a(61807),a(36970),a(2001);var S=a(22950),z=a(63951);a(57786),a(83777);var P=a(61123),M=a(99840),R=a(15949),_=a(72959),L=a(38491),O=a(60444),D=a(64886),I=a(16222),q=a(13671)}},e=>{e.O(0,[3598,2663,1356,4691,1899,8441,1255,7358],()=>e(e.s=93566)),_N_E=e.O()}]);
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15288,e=>{"use strict";var t=e.i(43476);let a=({children:e,className:a=""})=>(0,t.jsx)("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 ${a}`,children:e});e.s(["Card",()=>a])},94285,e=>{"use strict";var t=e.i(12462);e.s(["TimeIcon",()=>t.default])},67585,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"BailoutToCSR",{enumerable:!0,get:function(){return r}});let s=e.r(32061);function r({reason:e,children:t}){if("u"<typeof window)throw Object.defineProperty(new s.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t}},9885,(e,t,a)=>{"use strict";function s(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"encodeURIPath",{enumerable:!0,get:function(){return s}})},52157,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"PreloadChunks",{enumerable:!0,get:function(){return n}});let s=e.r(43476),r=e.r(74080),l=e.r(63599),d=e.r(9885),i=e.r(43369);function n({moduleIds:e}){if("u">typeof window)return null;let t=l.workAsyncStorage.getStore();if(void 0===t)return null;let a=[];if(t.reactLoadableManifest&&e){let s=t.reactLoadableManifest;for(let t of e){if(!s[t])continue;let e=s[t].files;a.push(...e)}}if(0===a.length)return null;let n=(0,i.getDeploymentIdQueryOrEmptyString)();return(0,s.jsx)(s.Fragment,{children:a.map(e=>{let a=`${t.assetPrefix}/_next/${(0,d.encodeURIPath)(e)}${n}`;return e.endsWith(".css")?(0,s.jsx)("link",{precedence:"dynamic",href:a,rel:"stylesheet",as:"style",nonce:t.nonce},e):((0,r.preload)(a,{as:"script",fetchPriority:"low",nonce:t.nonce}),null)})})}},69093,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return o}});let s=e.r(43476),r=e.r(71645),l=e.r(67585),d=e.r(52157);function i(e){return{default:e&&"default"in e?e.default:e}}let n={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},o=function(e){let t={...n,...e},a=(0,r.lazy)(()=>t.loader().then(i)),o=t.loading;function c(e){let i=o?(0,s.jsx)(o,{isLoading:!0,pastDelay:!0,error:null}):null,n=!t.ssr||!!t.loading,c=n?r.Suspense:r.Fragment,x=t.ssr?(0,s.jsxs)(s.Fragment,{children:["u"<typeof window?(0,s.jsx)(d.PreloadChunks,{moduleIds:t.modules}):null,(0,s.jsx)(a,{...e})]}):(0,s.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,s.jsx)(a,{...e})});return(0,s.jsx)(c,{...n?{fallback:i}:{},children:x})}return c.displayName="LoadableComponent",c}},70703,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r}});let s=e.r(55682)._(e.r(69093));function r(e,t){let a={};"function"==typeof e&&(a.loader=e);let r={...a,...t};return(0,s.default)({...r,modules:r.loadableGenerated?.modules})}("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),t.exports=a.default)},18505,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(52455);let r=(0,e.i(70703).default)(()=>e.A(27940),{loadableGenerated:{modules:[81814]},ssr:!1}),l=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"];function d({data:e}){let d=(0,a.useMemo)(()=>e&&0!==e.length?"number"==typeof e[0]?l.map((t,a)=>({label:t,revenue:Number(e[a]??0)})):e.map((e,t)=>({label:e.label??l[t]??`M${t+1}`,revenue:Number(e.revenue??0)})):l.map(e=>({label:e,revenue:0})),[e]),i=d.map(e=>e.label),n=d.map(e=>e.revenue);return(0,t.jsxs)("div",{className:"overflow-hidden rounded-2xl border border-gray-200 bg-white px-5 pt-5 dark:border-gray-800 dark:bg-white/[0.03] sm:px-6 sm:pt-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:"Receita por mês"})}),(0,t.jsx)("div",{className:"max-w-full overflow-x-auto custom-scrollbar",children:(0,t.jsx)("div",{className:"-ml-5 min-w-[650px] xl:min-w-full pl-2",children:(0,t.jsx)(r,{options:{colors:["#465fff"],chart:{fontFamily:"Outfit, sans-serif",type:"bar",height:200,toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:"39%",borderRadius:5,borderRadiusApplication:"end"}},dataLabels:{enabled:!1},stroke:{show:!0,width:4,colors:["transparent"]},xaxis:{categories:i,axisBorder:{show:!1},axisTicks:{show:!1}},legend:{show:!1},yaxis:{labels:{formatter:e=>`${(0,s.formatCurrency)(e)}`}},grid:{yaxis:{lines:{show:!0}}},fill:{opacity:1},tooltip:{x:{show:!1},y:{formatter:e=>`${(0,s.formatCurrency)(e)}`}}},series:[{name:"Receita",data:n}],type:"bar",height:200})})})]})}e.s(["RevenueByMonthChart",()=>d])},83903,e=>{"use strict";var t=e.i(43476);let a=(0,e.i(70703).default)(()=>e.A(27940),{loadableGenerated:{modules:[81814]},ssr:!1}),s={PENDING:"Pendente",APPROVED:"Pago",CANCELLED:"Cancelado",PENDENTE:"Pendente",PAGO:"Pago"},r={PENDING:"#f59e0b",APPROVED:"#10b981",CANCELLED:"#ef4444",PENDENTE:"#f59e0b",PAGO:"#10b981"};function l({items:e}){let l=e?.map(e=>s[e.status]??e.status)??[],d=e?.map(e=>e.total)??[],i=e?.map(e=>r[e.status]??"#6366f1");return(0,t.jsxs)("div",{className:"rounded-2xl border border-gray-200 bg-white px-5 pt-5 dark:border-gray-800 dark:bg-white/[0.03] sm:px-6 sm:pt-6",children:[(0,t.jsx)("h3",{className:"mb-4 text-lg font-semibold text-gray-800 dark:text-white/90",children:"Vendas por status"}),(0,t.jsx)(a,{options:{chart:{type:"donut",height:320,fontFamily:"Outfit, sans-serif"},labels:l,legend:{position:"bottom"},dataLabels:{enabled:!0},colors:i,tooltip:{y:{formatter:e=>`${e}`}}},series:d,type:"donut",height:320})]})}e.s(["SalesByStatusChart",()=>l])},86515,e=>{"use strict";var t=e.i(64208);e.s(["ErrorIcon",()=>t.default])},25486,e=>e.a(async(t,a)=>{try{var s=e.i(43476),r=e.i(71645),l=e.i(15288);e.i(35829);var d=e.i(94285),i=e.i(58923),n=e.i(86515),o=e.i(76318),c=e.i(5766),x=e.i(52455),m=e.i(18505),u=e.i(83903),h=t([o]);function p(){let[e,t]=(0,r.useState)(null),[a,h]=(0,r.useState)(!0);if((0,r.useEffect)(()=>{(async()=>{try{h(!0);let e=await o.services.adminStats.getStats();t(e.data)}catch(e){c.toast.error("Erro ao carregar estatísticas do dashboard."),console.error(e)}finally{h(!1)}})()},[]),a)return(0,s.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,s.jsx)("div",{className:"h-16 w-16 animate-spin rounded-full border-4 border-solid border-primary border-t-transparent"})});if(!e)return null;let p=e.plans,g=e.companies,y=e.users.breakdown,f=p.statusDistribution.map(e=>({status:e.status,total:e.total}));return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"flex justify-between items-center",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Visão Geral do Sistema"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Acompanhe as métricas de planos e empresas conectadas ao seu marketplace."})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:[(0,s.jsxs)(l.Card,{className:"p-6",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Receita total de planos"}),(0,s.jsx)("p",{className:"mt-2 text-3xl font-semibold text-gray-900 dark:text-white",children:(0,x.formatCurrency)(p.totalRevenue)}),(0,s.jsxs)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:[p.paidPurchases," compras confirmadas"]})]}),(0,s.jsxs)(l.Card,{className:"p-6",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Receita pendente"}),(0,s.jsx)("p",{className:"mt-2 text-3xl font-semibold text-amber-600",children:(0,x.formatCurrency)(p.pendingRevenue)}),(0,s.jsxs)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:[p.pendingPurchases," compras aguardando pagamento"]})]}),(0,s.jsxs)(l.Card,{className:"p-6",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Ticket médio dos planos"}),(0,s.jsx)("p",{className:"mt-2 text-3xl font-semibold text-gray-900 dark:text-white",children:(0,x.formatCurrency)(p.averageTicket)}),(0,s.jsxs)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:[p.catalog," planos no catálogo (",p.activePlans," ativos)"]})]}),(0,s.jsxs)(l.Card,{className:"p-6",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Empresas conectadas"}),(0,s.jsx)("p",{className:"mt-2 text-3xl font-semibold text-gray-900 dark:text-white",children:g.total}),(0,s.jsxs)("div",{className:"mt-3 grid grid-cols-2 gap-2 text-xs",children:[(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 font-medium text-green-600",children:[(0,s.jsx)(i.CheckCircleIcon,{className:"h-6 w-6"})," ",g.active," ativas"]}),(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 font-medium text-red-500",children:[(0,s.jsx)(n.ErrorIcon,{className:"h-6 w-6"})," ",g.expired," vencidas"]}),(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 font-medium text-amber-500",children:[(0,s.jsx)(d.TimeIcon,{className:"h-6 w-6"})," ",g.expiring," vencendo"]})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-5 gap-6",children:[(0,s.jsx)("div",{className:"xl:col-span-3",children:(0,s.jsx)(m.RevenueByMonthChart,{data:p.monthlyRevenue.map(e=>({label:e.label.toUpperCase(),revenue:e.revenue}))})}),(0,s.jsxs)("div",{className:"xl:col-span-2 space-y-6",children:[(0,s.jsx)(u.SalesByStatusChart,{items:f}),(0,s.jsxs)(l.Card,{className:"p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Visão rápida"}),(0,s.jsxs)("dl",{className:"space-y-3 text-sm text-gray-600 dark:text-gray-300",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("dt",{children:"Planos ativos"}),(0,s.jsx)("dd",{className:"font-medium text-gray-900 dark:text-white",children:p.activePlans})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("dt",{children:"Planos inativos"}),(0,s.jsx)("dd",{className:"font-medium",children:p.inactivePlans})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("dt",{children:"Empresas com mais clientes"}),(0,s.jsx)("dd",{className:"font-medium",children:g.topByClients[0]?.nome??"—"})]})]})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[(0,s.jsxs)(l.Card,{className:"p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Top planos por receita"}),(0,s.jsx)("div",{className:"space-y-3",children:p.topPlans.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 bg-gray-50 px-4 py-3 dark:border-gray-700 dark:bg-white/[0.02]",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:e.nome}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.purchases," vendas · Ticket médio ",(0,x.formatCurrency)(e.averageTicket)]})]}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:(0,x.formatCurrency)(e.revenue)})]},e.nome))})]}),(0,s.jsxs)(l.Card,{className:"p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Empresas que mais faturam"}),(0,s.jsx)("div",{className:"space-y-3",children:p.topCompanies.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 bg-gray-50 px-4 py-3 dark:border-gray-700 dark:bg-white/[0.02]",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:e.nome}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.purchases," compras de planos"]})]}),(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:(0,x.formatCurrency)(e.revenue)})]},e.nome))})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[(0,s.jsxs)(l.Card,{className:"p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Compras recentes de planos"}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700 text-sm",children:[(0,s.jsx)("thead",{className:"bg-gray-50 dark:bg-white/[0.05]",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-600 dark:text-gray-300",children:"Empresa"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-600 dark:text-gray-300",children:"Plano"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-600 dark:text-gray-300",children:"Valor"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-600 dark:text-gray-300",children:"Status"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-600 dark:text-gray-300",children:"Data"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:p.recentPurchases.map(e=>(0,s.jsxs)("tr",{className:"bg-white dark:bg-white/[0.015]",children:[(0,s.jsx)("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:e.empresa}),(0,s.jsx)("td",{className:"px-3 py-2 text-gray-600 dark:text-gray-300",children:e.plano}),(0,s.jsx)("td",{className:"px-3 py-2 font-medium text-gray-900 dark:text-white",children:(0,x.formatCurrency)(e.valor)}),(0,s.jsx)("td",{className:"px-3 py-2",children:(0,s.jsx)("span",{className:`rounded-full px-2.5 py-1 text-xs font-semibold ${"PAGO"===e.status?"bg-emerald-100 text-emerald-700 dark:bg-emerald-500/10 dark:text-emerald-300":"bg-amber-100 text-amber-700 dark:bg-amber-500/10 dark:text-amber-300"}`,children:"PAGO"===e.status?"Pago":"Pendente"})}),(0,s.jsx)("td",{className:"px-3 py-2 text-gray-500 dark:text-gray-400",children:(0,x.formatDate)(e.dataPagamento??e.createdAt)})]},e.id))})]})})]}),(0,s.jsxs)(l.Card,{className:"p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Distribuição de usuários"}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:Object.entries(y).map(([e,t])=>(0,s.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-gray-50 px-4 py-3 text-gray-700 dark:border-gray-700 dark:bg-white/[0.02] dark:text-gray-300",children:[(0,s.jsx)("p",{className:"text-xs uppercase text-gray-500 dark:text-gray-400",children:e}),(0,s.jsx)("p",{className:"mt-1 text-xl font-semibold text-gray-900 dark:text-white",children:t})]},e))})]})]})]})}[o]=h.then?(await h)():h,e.s(["default",()=>p]),a()}catch(e){a(e)}},!1),27940,e=>{e.v(t=>Promise.all(["static/chunks/d72ee483e011ef78.js","static/chunks/c61a33516490b3ce.js"].map(t=>e.l(t))).then(()=>t(81814)))}]);
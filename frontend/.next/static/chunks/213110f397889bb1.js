(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,35665,e=>{"use strict";var a=e.i(81783);e.s(["QrcodeIcon",()=>a.default])},64255,e=>{"use strict";var a=e.i(43476);e.s(["default",0,({variant:e="light",color:t="primary",size:r="md",startIcon:s,className:l,endIcon:i,children:n})=>{let o={light:{primary:"bg-brand-50 text-brand-500 dark:bg-brand-500/15 dark:text-brand-400",success:"bg-success-50 text-success-600 dark:bg-success-500/15 dark:text-success-500",error:"bg-error-50 text-error-600 dark:bg-error-500/15 dark:text-error-500",warning:"bg-warning-50 text-warning-600 dark:bg-warning-500/15 dark:text-orange-400",info:"bg-blue-light-50 text-blue-light-500 dark:bg-blue-light-500/15 dark:text-blue-light-500",light:"bg-gray-100 text-gray-700 dark:bg-white/5 dark:text-white/80",dark:"bg-gray-500 text-white dark:bg-white/5 dark:text-white"},solid:{primary:"bg-brand-500 text-white dark:text-white",success:"bg-success-500 text-white dark:text-white",error:"bg-error-500 text-white dark:text-white",warning:"bg-warning-500 text-white dark:text-white",info:"bg-blue-light-500 text-white dark:text-white",light:"bg-gray-400 dark:bg-white/5 text-white dark:text-white/80",dark:"bg-gray-700 text-white dark:text-white"}}[e][t];return(0,a.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 justify-center gap-1 rounded-full font-medium ${{sm:"text-theme-xs",md:"text-sm"}[r]} ${o} ${l}`,children:[s&&(0,a.jsx)("span",{className:"mr-1",children:s}),n,i&&(0,a.jsx)("span",{className:"ml-1",children:i})]})}])},15288,e=>{"use strict";var a=e.i(43476);let t=({children:e,className:t=""})=>(0,a.jsx)("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 ${t}`,children:e});e.s(["Card",()=>t])},56109,e=>{"use strict";var a=e.i(7843);e.s(["CopyIcon",()=>a.default])},51360,e=>{"use strict";function a(...e){return e.filter(Boolean).join(" ")}e.s(["cn",()=>a])},70221,e=>{"use strict";var a=e.i(71645);let t=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});e.s(["ClockIcon",0,t],70221)},94281,e=>{"use strict";var a=e.i(71645);let t=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))});e.s(["CreditCardIcon",0,t],94281)},63858,e=>{"use strict";var a=e.i(71645);let t=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});e.s(["CheckCircleIcon",0,t],63858)},63150,e=>{"use strict";var a=e.i(71645);let t=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))});e.s(["ExclamationTriangleIcon",0,t],63150)},31849,e=>{"use strict";var a=e.i(71645);let t=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))});e.s(["QrCodeIcon",0,t],31849)},3812,e=>{"use strict";var a=e.i(43476),t=e.i(71645),r=e.i(51360);let s=(0,t.forwardRef)(({label:e,error:t,icon:s,variant:l="primary",className:i,containerClassName:n,...o},c)=>(0,a.jsxs)("div",{className:n,children:[e&&(0,a.jsx)("label",{className:"mb-2.5 block font-medium text-black dark:text-white",children:e}),(0,a.jsxs)("div",{className:"relative",children:[s&&(0,a.jsx)("div",{className:"absolute left-4 top-1/2 -translate-y-1/2",children:s}),(0,a.jsx)("input",{ref:c,className:(0,r.cn)("w-full rounded-lg border border-stroke bg-transparent px-4 py-3 outline-none transition","focus-visible:shadow-none dark:border-gray-600 dark:bg-gray-900",s?"pl-12":"",{primary:"focus:border-primary",secondary:"focus:border-gray-400",danger:"border-red-500 focus:border-red-500"}[l],t&&"!border-red-500",i),...o})]}),t&&(0,a.jsx)("span",{className:"mt-1 block text-sm text-red-500",children:t})]}));s.displayName="Input",e.s(["default",0,s])},28932,e=>e.a(async(a,t)=>{try{var r=e.i(43476),s=e.i(71645),l=e.i(18566),i=e.i(76318),n=e.i(52455),o=e.i(94281),c=e.i(63858),d=e.i(70221),x=e.i(63150),m=e.i(31849);e.i(35829);var h=e.i(56109),g=e.i(35665),u=e.i(90873),p=e.i(59629),b=e.i(5766),v=e.i(15288),j=e.i(64255),f=e.i(23115),y=e.i(3812),w=e.i(57688),k=a([i]);function N(){let e=(0,l.useRouter)(),[a,t]=(0,s.useState)({planoAtual:null,comprasPendentes:[]}),[k,N]=(0,s.useState)(!0),[C,P]=(0,s.useState)(!1),[E,I]=(0,s.useState)(null),[A,M]=(0,s.useState)(!1),[Z,L]=(0,s.useState)(!1),R=(0,s.useCallback)(async()=>{try{N(!0);let e=await i.services.compraPlano.getPlanoAtual();t(e.data)}catch(e){console.error("Erro ao carregar plano atual:",e),b.default.error("Erro ao carregar informações do plano")}finally{N(!1)}},[]);(0,s.useEffect)(()=>{L(!0),R()},[R]);let O=async e=>{try{M(!0),await i.services.compraPlano.gerarCobranca(e.id),b.default.success("Cobrança gerada com sucesso!"),R()}catch(e){console.error("Erro ao gerar cobrança:",e),b.default.error(e.response?.data?.error||"Erro ao gerar cobrança")}finally{M(!1)}},B=async e=>{try{await navigator.clipboard.writeText(e),b.default.success("Código PIX copiado para a área de transferência!")}catch(e){b.default.error("Erro ao copiar código PIX")}},Q=async e=>{try{await navigator.clipboard.writeText(e),b.default.success("Código de barras copiado para a área de transferência!")}catch(e){b.default.error("Erro ao copiar código de barras")}};return k?(0,r.jsx)("div",{className:"p-4 sm:p-6 lg:p-8",children:(0,r.jsxs)("div",{className:"animate-pulse space-y-6",children:[(0,r.jsx)("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/3"}),(0,r.jsx)("div",{className:"h-48 bg-gray-200 dark:bg-gray-700 rounded"}),(0,r.jsx)("div",{className:"h-32 bg-gray-200 dark:bg-gray-700 rounded"})]})}):(0,r.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-2",children:"Plano Atual"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Visualize seu plano atual e compras pendentes"})]}),a.planoAtual?(0,r.jsxs)(v.Card,{className:"p-6 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Plano Ativo"}),(0,r.jsx)(j.default,{color:"success",children:"Ativo"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(o.CreditCardIcon,{className:"h-6 w-6 text-green-500"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Plano"}),(0,r.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white",children:a.planoAtual.plano?.nome||"N/A"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(c.CheckCircleIcon,{className:"h-6 w-6 text-green-500"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Valor Pago"}),(0,r.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white",children:(0,n.formatCurrency)(a.planoAtual.valor)})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(d.ClockIcon,{className:"h-6 w-6 text-green-500"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Data do Pagamento"}),(0,r.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white",children:a.planoAtual.dataPagamento?(0,n.formatDate)(a.planoAtual.dataPagamento):"N/A"})]})]})]})]}):(0,r.jsx)(v.Card,{className:"p-6 mb-6",children:(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)(x.ExclamationTriangleIcon,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Nenhum Plano Ativo"}),(0,r.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Você ainda não possui um plano ativo. Contrate um plano para começar a usar o sistema."}),(0,r.jsx)(u.default,{variant:"primary",onClick:()=>e.push("/dashboard/empresa/planos/contratar"),children:"Contratar Plano"})]})}),a.comprasPendentes.length>0&&(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Compras Pendentes"}),(0,r.jsx)("div",{className:"space-y-4",children:a.comprasPendentes.map(e=>(0,r.jsxs)(v.Card,{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e.plano?.nome||"Plano"}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Contratado em ",(0,n.formatDate)(e.createdAt)]})]}),(0,r.jsx)(j.default,{color:"warning",children:"Pendente"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Valor"}),(0,r.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white",children:(0,n.formatCurrency)(Number(e.valor))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Vencimento"}),(0,r.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white",children:e.vencimento?(0,n.formatDate)(e.vencimento):"N/A"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Status"}),(0,r.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white",children:"PENDENTE"===e.status?"Aguardando Pagamento":"Pago"})]})]}),(0,r.jsx)("div",{className:"flex gap-3",children:e.copiacola||e.codigobarra?(0,r.jsxs)(r.Fragment,{children:[e.copiacola&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.default,{variant:"outline",onClick:()=>B(e.copiacola),startIcon:(0,r.jsx)(h.CopyIcon,{}),children:"Copiar PIX"}),(0,r.jsx)(u.default,{variant:"outline",onClick:()=>{I(e),P(!0)},startIcon:(0,r.jsx)(g.QrcodeIcon,{}),children:"Ver QR Code"})]}),e.codigobarra&&(0,r.jsx)(u.default,{variant:"outline",onClick:()=>Q(e.codigobarra),startIcon:(0,r.jsx)(h.CopyIcon,{}),children:"Copiar Boleto"})]}):(0,r.jsx)(u.default,{variant:"primary",onClick:()=>O(e),disabled:A,children:A?"Gerando...":"Gerar Cobrança"})})]},e.id))})]}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)(u.default,{variant:"outline",onClick:()=>e.push("/dashboard/empresa/planos/contratar"),children:"Contratar Outro Plano"})}),Z&&(0,r.jsx)(p.Modal,{isOpen:C,onClose:()=>{P(!1),I(null)},className:"max-w-[500px] m-4",children:(0,r.jsxs)("div",{className:"no-scrollbar relative w-full overflow-y-auto rounded-3xl bg-white p-4 dark:bg-gray-900 lg:p-11",children:[(0,r.jsxs)("div",{className:"px-2 pr-14",children:[(0,r.jsx)("h4",{className:"mb-2 text-2xl font-semibold text-gray-800 dark:text-white/90",children:"QR Code PIX"}),(0,r.jsx)("p",{className:"mb-6 text-sm text-gray-500 dark:text-gray-400 lg:mb-7",children:"Escaneie o QR Code para realizar o pagamento."})]}),E&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h5",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:E.plano?.nome}),(0,r.jsx)("p",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:(0,n.formatCurrency)(E.valor)})]}),E.qrcode?(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)(w.default,{src:E.qrcode?.startsWith("data:")?E.qrcode:`data:image/png;base64,${E.qrcode}`,alt:"QR Code PIX",width:100,height:100,className:"mx-auto max-w-full h-auto",loading:"lazy"})}):(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)(m.QrCodeIcon,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"QR Code não disponível"})]}),E.copiacola&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(f.default,{children:"Código PIX"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(y.default,{value:E.copiacola,readOnly:!0,className:"flex-1"}),(0,r.jsx)(u.default,{variant:"outline",onClick:()=>B(E.copiacola),startIcon:(0,r.jsx)(h.CopyIcon,{}),children:"Copiar"})]})]})]}),(0,r.jsx)("div",{className:"flex justify-end gap-3 pt-4",children:(0,r.jsx)(u.default,{type:"button",variant:"outline",onClick:()=>{P(!1),I(null)},children:"Fechar"})})]})})]})}[i]=k.then?(await k)():k,e.s(["default",()=>N]),t()}catch(e){t(e)}},!1)]);